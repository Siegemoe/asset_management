(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8733],{977:(e,s,r)=>{"use strict";r.r(s),r.d(s,{default:()=>i});var a=r(5155),t=r(5772),l=r(2115),n=r(4540);function i(){let[e,s]=(0,l.useState)([]),[r,i]=(0,l.useState)(!0),[d,o]=(0,l.useState)(!1),[c,m]=(0,l.useState)(null),[u,x]=(0,l.useState)(null),[h,g]=(0,l.useState)({name:"",email:"",password:"",role:"SITE_MANAGER"}),[f,b]=(0,l.useState)({id:"",name:"",email:"",role:"SITE_MANAGER"}),[p,j]=(0,l.useState)({}),[y,v]=(0,l.useState)(!1);(0,l.useEffect)(()=>{w()},[]);let w=async()=>{try{let e=await fetch("/api/users");if(e.ok){let r=await e.json();s(r)}else console.error("Failed to fetch users")}catch(e){console.error("Error fetching users:",e)}finally{i(!1)}},N=async()=>{if((()=>{let e={};if(h.name.trim()?h.name.trim().length<2&&(e.name="Name must be at least 2 characters"):e.name="Name is required",h.email){var s;s=h.email,/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(s)||(e.email="Please enter a valid email address")}else e.email="Email is required";return h.password?h.password.length<6&&(e.password="Password must be at least 6 characters"):e.password="Password is required",h.role||(e.role="Role is required"),j(e),0===Object.keys(e).length})()){v(!0);try{let e=await fetch("/api/users",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(h)});if(e.ok)await w(),o(!1),g({name:"",email:"",password:"",role:"SITE_MANAGER"}),j({}),alert("User created successfully!");else{let s=await e.json();j({general:s.message||"Failed to create user"})}}catch(e){console.error("Error creating user:",e),j({general:"An error occurred while creating the user"})}finally{v(!1)}}},k=async()=>{var e;if(!f.name.trim()||!f.email||(e=f.email,!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e)))return void j({general:"Please fill in all required fields with valid data"});v(!0);try{let e={name:f.name.trim(),email:f.email,role:f.role};f.newPassword&&f.newPassword.length>=6&&(e.password=f.newPassword);let s=await fetch(`/api/users/${f.id}`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(s.ok)await w(),m(null),b({id:"",name:"",email:"",role:"SITE_MANAGER"}),j({}),alert("User updated successfully!");else{let e=await s.json();j({general:e.message||"Failed to update user"})}}catch(e){console.error("Error updating user:",e),j({general:"An error occurred while updating the user"})}finally{v(!1)}},A=async e=>{v(!0);try{let s=await fetch(`/api/users/${e}`,{method:"DELETE"});if(s.ok)await w(),x(null),alert("User deleted successfully!");else{let e=await s.json();alert(e.message||"Failed to delete user")}}catch(e){console.error("Error deleting user:",e),alert("An error occurred while deleting the user")}finally{v(!1)}};return r?(0,a.jsx)(n.default,{children:(0,a.jsx)("div",{className:"max-w-7xl mx-auto py-6 sm:px-6 lg:px-8",children:(0,a.jsxs)("div",{className:"flex items-center justify-center h-96",children:[(0,a.jsx)("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-blue-600"}),(0,a.jsx)("p",{className:"mt-4 text-gray-600",children:"Loading users..."})]})})}):(0,a.jsxs)(n.default,{children:[(0,a.jsxs)("div",{className:"max-w-7xl mx-auto py-6 sm:px-6 lg:px-8",children:[(0,a.jsxs)("div",{className:"px-4 py-6 sm:px-0",children:[(0,a.jsx)("div",{className:"mb-6",children:(0,a.jsx)("p",{className:"text-sm text-gray-500",children:"User Management"})}),(0,a.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"User Management"}),(0,a.jsx)("p",{className:"mt-1 text-sm text-gray-600",children:"Manage user accounts, permissions, and access levels"})]}),(0,a.jsxs)("button",{onClick:()=>o(!0),className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:[(0,a.jsx)("svg",{className:"-ml-1 mr-2 h-5 w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),"Add New User"]})]})]}),(0,a.jsxs)("div",{className:"bg-white shadow overflow-hidden sm:rounded-md",children:[(0,a.jsxs)("div",{className:"px-4 py-5 sm:px-6",children:[(0,a.jsxs)("h3",{className:"text-lg leading-6 font-medium text-gray-900",children:["System Users (",e.length,")"]}),(0,a.jsx)("p",{className:"mt-1 max-w-2xl text-sm text-gray-500",children:"All registered users in the system. Manage their roles and access permissions."})]}),(0,a.jsxs)("ul",{role:"list",className:"divide-y divide-gray-200",children:[e.map(e=>{var s;let r,l;return(0,a.jsx)("li",{children:(0,a.jsx)("div",{className:"px-4 py-4 sm:px-6",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("div",{className:"shrink-0 h-12 w-12",children:e.image?(0,a.jsx)(t.default,{className:"h-12 w-12 rounded-full",src:e.image,alt:e.name||"User",width:48,height:48}):(0,a.jsx)("div",{className:"h-12 w-12 rounded-full bg-gray-200 flex items-center justify-center",children:(0,a.jsx)("span",{className:"text-gray-500 text-lg font-medium",children:e.name?.charAt(0)||e.email.charAt(0)})})}),(0,a.jsxs)("div",{className:"ml-4",children:[(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("p",{className:"text-lg font-medium text-gray-900",children:e.name||"Unnamed User"}),(0,a.jsx)("div",{className:"ml-3",children:(s=e.role,l=(r={SUPER_ADMIN:{color:"bg-red-100 text-red-800",label:"Super Admin"},ADMIN:{color:"bg-blue-100 text-blue-800",label:"Admin"},SITE_MANAGER:{color:"bg-green-100 text-green-800",label:"Site Manager"}})[s]||r.SITE_MANAGER,(0,a.jsx)("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${l.color}`,children:l.label}))})]}),(0,a.jsx)("p",{className:"text-sm text-gray-500",children:e.email}),(0,a.jsxs)("p",{className:"text-xs text-gray-400 mt-1",children:["Created: ",new Date(e.createdAt).toLocaleDateString()]})]})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsxs)("button",{onClick:()=>{m(e),b({id:e.id,name:e.name||"",email:e.email,role:e.role})},className:"inline-flex items-center px-3 py-2 border border-gray-300 shadow-sm text-sm leading-4 font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:[(0,a.jsx)("svg",{className:"-ml-0.5 mr-2 h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})}),"Edit"]}),(0,a.jsxs)("button",{onClick:()=>x(e.id),className:"inline-flex items-center px-3 py-2 border border-red-300 shadow-sm text-sm leading-4 font-medium rounded-md text-red-700 bg-red-50 hover:bg-red-100 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500",children:[(0,a.jsx)("svg",{className:"-ml-0.5 mr-2 h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})}),"Delete"]})]})]})})},e.id)}),0===e.length&&(0,a.jsx)("div",{className:"px-4 py-8 text-center text-gray-500",children:"No users found."})]})]})]}),d&&(0,a.jsx)("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50",children:(0,a.jsx)("div",{className:"relative top-20 mx-auto p-5 border w-96 shadow-lg rounded-md bg-white",children:(0,a.jsxs)("div",{className:"mt-3",children:[(0,a.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Add New User"}),p.general&&(0,a.jsx)("div",{className:"mb-4 bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded",children:p.general}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Full Name"}),(0,a.jsx)("input",{type:"text",value:h.name,onChange:e=>g(s=>({...s,name:e.target.value})),className:`mt-1 block w-full border rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 text-black ${p.name?"border-red-300 bg-red-50":"border-gray-300"}`,placeholder:"Enter full name"}),p.name&&(0,a.jsx)("p",{className:"mt-1 text-sm text-red-600",children:p.name})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Email Address"}),(0,a.jsx)("input",{type:"email",value:h.email,onChange:e=>g(s=>({...s,email:e.target.value})),className:`mt-1 block w-full border rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 text-black ${p.email?"border-red-300 bg-red-50":"border-gray-300"}`,placeholder:"Enter email address"}),p.email&&(0,a.jsx)("p",{className:"mt-1 text-sm text-red-600",children:p.email})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Password"}),(0,a.jsx)("input",{type:"password",value:h.password,onChange:e=>g(s=>({...s,password:e.target.value})),className:`mt-1 block w-full border rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 text-black ${p.password?"border-red-300 bg-red-50":"border-gray-300"}`,placeholder:"Enter password (min 6 characters)"}),p.password&&(0,a.jsx)("p",{className:"mt-1 text-sm text-red-600",children:p.password})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Role"}),(0,a.jsxs)("select",{value:h.role,onChange:e=>g(s=>({...s,role:e.target.value})),className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500",children:[(0,a.jsx)("option",{value:"SITE_MANAGER",children:"Site Manager - Can manage assets at assigned sites"}),(0,a.jsx)("option",{value:"ADMIN",children:"Admin - Can manage sites, users, and assets"}),(0,a.jsx)("option",{value:"SUPER_ADMIN",children:"Super Admin - Complete system access"})]}),p.role&&(0,a.jsx)("p",{className:"mt-1 text-sm text-red-600",children:p.role})]})]}),(0,a.jsxs)("div",{className:"mt-6 flex justify-end space-x-3",children:[(0,a.jsx)("button",{onClick:()=>{o(!1),j({})},className:"px-4 py-2 border border-gray-300 rounded-md text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:"Cancel"}),(0,a.jsx)("button",{onClick:N,disabled:y,className:"px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50",children:y?"Creating...":"Create User"})]})]})})}),c&&(0,a.jsx)("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50",children:(0,a.jsx)("div",{className:"relative top-20 mx-auto p-5 border w-96 shadow-lg rounded-md bg-white",children:(0,a.jsxs)("div",{className:"mt-3",children:[(0,a.jsxs)("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:["Edit User: ",c.name||c.email]}),p.general&&(0,a.jsx)("div",{className:"mb-4 bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded",children:p.general}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Full Name"}),(0,a.jsx)("input",{type:"text",value:f.name,onChange:e=>b(s=>({...s,name:e.target.value})),className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 text-black",placeholder:"Enter full name"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Email Address"}),(0,a.jsx)("input",{type:"email",value:f.email,onChange:e=>b(s=>({...s,email:e.target.value})),className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 text-black",placeholder:"Enter email address"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Role"}),(0,a.jsxs)("select",{value:f.role,onChange:e=>b(s=>({...s,role:e.target.value})),className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500",children:[(0,a.jsx)("option",{value:"SITE_MANAGER",children:"Site Manager"}),(0,a.jsx)("option",{value:"ADMIN",children:"Admin"}),(0,a.jsx)("option",{value:"SUPER_ADMIN",children:"Super Admin"})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"New Password (optional)"}),(0,a.jsx)("input",{type:"password",value:f.newPassword||"",onChange:e=>b(s=>({...s,newPassword:e.target.value})),className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 text-black",placeholder:"Leave blank to keep current password"}),(0,a.jsx)("p",{className:"mt-1 text-sm text-gray-500",children:"Must be at least 6 characters if provided"})]})]}),(0,a.jsxs)("div",{className:"mt-6 flex justify-end space-x-3",children:[(0,a.jsx)("button",{onClick:()=>{m(null),b({id:"",name:"",email:"",role:"SITE_MANAGER"}),j({})},className:"px-4 py-2 border border-gray-300 rounded-md text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:"Cancel"}),(0,a.jsx)("button",{onClick:k,disabled:y,className:"px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50",children:y?"Updating...":"Update User"})]})]})})}),u&&(0,a.jsx)("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50",children:(0,a.jsx)("div",{className:"relative top-20 mx-auto p-5 border w-96 shadow-lg rounded-md bg-white",children:(0,a.jsxs)("div",{className:"mt-3",children:[(0,a.jsx)("div",{className:"mx-auto flex items-center justify-center h-12 w-12 rounded-full bg-red-100",children:(0,a.jsx)("svg",{className:"h-6 w-6 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})})}),(0,a.jsxs)("div",{className:"mt-3 text-center",children:[(0,a.jsx)("h3",{className:"text-lg font-medium text-gray-900",children:"Permanently Delete User Account"}),(0,a.jsxs)("div",{className:"mt-2 px-7 py-3",children:[(0,a.jsx)("p",{className:"text-sm text-gray-500",children:"Are you sure you want to delete this user account? This action cannot be undone and will:"}),(0,a.jsxs)("ul",{className:"mt-2 text-sm text-red-600 text-left space-y-1",children:[(0,a.jsx)("li",{children:"• Permanently remove the user from the system"}),(0,a.jsx)("li",{children:"• Remove all associated data and permissions"}),(0,a.jsx)("li",{children:"• Log the user out immediately"}),(0,a.jsx)("li",{children:"• Cannot be reversed"})]})]}),(0,a.jsx)("div",{className:"mt-4 bg-red-50 border border-red-200 rounded-md p-3",children:(0,a.jsx)("p",{className:"text-sm font-medium text-red-800",children:"This is a permanent action. Click the Delete button only if you are absolutely certain."})})]}),(0,a.jsxs)("div",{className:"mt-5 flex justify-center space-x-4",children:[(0,a.jsx)("button",{onClick:()=>x(null),className:"px-4 py-2 border border-gray-300 rounded-md text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:"Cancel"}),(0,a.jsx)("button",{onClick:()=>A(u),disabled:y,className:"px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-red-600 hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 disabled:opacity-50",children:y?"Deleting...":"Delete User Permanently"})]})]})})})]})}},2721:(e,s,r)=>{Promise.resolve().then(r.bind(r,977))},4540:(e,s,r)=>{"use strict";r.d(s,{default:()=>c});var a=r(5155),t=r(7064),l=r(8500),n=r.n(l),i=r(5772),d=r(3321);function o(){let e=(0,d.usePathname)(),{data:s}=(0,t.wV)(),r=s?.user?.role==="SUPER_ADMIN"||s?.user?.role==="ADMIN",l=[{name:"Manage Organization",href:"/dashboard",icon:(0,a.jsxs)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 7v10a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2H5a2 2 0 00-2-2z"}),(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 5a2 2 0 012-2h4a2 2 0 012 2v1H8V5z"})]})},{name:"Manage Sites",href:"/sites",icon:(0,a.jsxs)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]})},{name:"Manage Users",href:"/admin/users",icon:(0,a.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197m13.5-9a2.5 2.5 0 11-5 0 2.5 2.5 0 015 0z"})})},{name:"Manage Assets",href:"/assets",icon:(0,a.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 11H5m14-7H5m14 14H5"})})},{name:"Security",href:"/security",icon:(0,a.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"})}),show:r}];return(0,a.jsxs)("div",{className:"flex flex-col w-64 bg-gray-800 text-white h-full",children:[(0,a.jsx)("div",{className:"flex items-center justify-center h-16 bg-gray-900",children:(0,a.jsx)(n(),{href:"/dashboard",className:"text-white font-semibold text-lg hover:text-gray-300 transition-colors",children:"APM Asset Management"})}),(0,a.jsx)("nav",{className:"flex-1 px-4 py-6 space-y-2",children:l.filter(e=>!1!==e.show).map(s=>(0,a.jsxs)(n(),{href:s.href,className:`flex items-center px-3 py-2 rounded-md text-sm font-medium transition-colors ${e===s.href?"bg-gray-700 text-white":"text-gray-300 hover:bg-gray-700 hover:text-white"}`,children:[(0,a.jsx)("span",{className:"mr-3",children:s.icon}),s.name]},s.name))}),(0,a.jsx)("div",{className:"p-4 border-t border-gray-700",children:s?.user?(0,a.jsxs)("div",{className:"flex flex-col space-y-2",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,a.jsx)("div",{className:"flex-shrink-0",children:s.user.image?(0,a.jsx)(i.default,{src:s.user.image,alt:s.user.name||"User",className:"w-8 h-8 rounded-full",width:32,height:32}):(0,a.jsx)("div",{className:"w-8 h-8 bg-gray-600 rounded-full flex items-center justify-center",children:(0,a.jsx)("span",{className:"text-sm font-medium",children:(s.user.name||"U")[0]})})}),(0,a.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,a.jsx)("p",{className:"text-sm font-medium text-white truncate",children:s.user.name}),(0,a.jsx)("p",{className:"text-xs text-gray-400 truncate",children:s.user.email}),s.user.role&&(0,a.jsxs)("p",{className:"text-xs text-gray-400",children:["Role: ",s.user.role.replace("_"," ")]})]})]}),(0,a.jsx)("button",{onClick:()=>(0,t.CI)({callbackUrl:"/login"}),className:"w-full px-3 py-2 text-sm text-gray-300 hover:bg-gray-700 hover:text-white rounded-md transition-colors",children:"Sign Out"})]}):(0,a.jsx)(n(),{href:"/login",className:"block w-full px-3 py-2 text-sm text-gray-300 hover:bg-gray-700 hover:text-white rounded-md transition-colors text-center",children:"Sign In"})})]})}function c({children:e}){return(0,a.jsx)(t.CP,{children:(0,a.jsxs)("div",{className:"flex h-screen bg-gray-100",children:[(0,a.jsx)(o,{}),(0,a.jsx)("main",{className:"flex-1 overflow-y-auto",children:e})]})})}},5772:(e,s,r)=>{"use strict";r.d(s,{default:()=>t.a});var a=r(7651),t=r.n(a)},7651:(e,s,r)=>{"use strict";Object.defineProperty(s,"__esModule",{value:!0});var a={default:function(){return c},getImageProps:function(){return o}};for(var t in a)Object.defineProperty(s,t,{enumerable:!0,get:a[t]});let l=r(3623),n=r(5413),i=r(8437),d=l._(r(6095));function o(e){let{props:s}=(0,n.getImgProps)(e,{defaultLoader:d.default,imgConf:{deviceSizes:[640,750,828,1080,1200,1920,2048,3840],imageSizes:[32,48,64,96,128,256,384],qualities:[75],path:"/_next/image",loader:"default",dangerouslyAllowSVG:!1,unoptimized:!1}});for(let[e,r]of Object.entries(s))void 0===r&&delete s[e];return{props:s}}let c=i.Image}},e=>{e.O(0,[8500,8437,3552,8441,3794,7358],()=>e(e.s=2721)),_N_E=e.O()}]);