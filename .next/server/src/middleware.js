(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[550],{20:(a,b,c)=>{"use strict";c.d(b,{f:()=>d});class d extends Error{constructor(...a){super(...a),this.code="NEXT_STATIC_GEN_BAILOUT"}}},58:(a,b,c)=>{"use strict";c.d(b,{xl:()=>g});let d=Object.defineProperty(Error("Invariant: AsyncLocalStorage accessed in runtime where it is not available"),"__NEXT_ERROR_CODE",{value:"E504",enumerable:!1,configurable:!0});class e{disable(){throw d}getStore(){}run(){throw d}exit(){throw d}enterWith(){throw d}static bind(a){return a}}let f="undefined"!=typeof globalThis&&globalThis.AsyncLocalStorage;function g(){return f?new f:new e}},213:(a,b,c)=>{"use strict";c.d(b,{nJ:()=>h,oJ:()=>f,zB:()=>g});var d,e=c(888);let f="NEXT_REDIRECT";var g=((d={}).push="push",d.replace="replace",d);function h(a){if("object"!=typeof a||null===a||!("digest"in a)||"string"!=typeof a.digest)return!1;let b=a.digest.split(";"),[c,d]=b,g=b.slice(2,-2).join(";"),h=Number(b.at(-2));return c===f&&("replace"===d||"push"===d)&&"string"==typeof g&&!isNaN(h)&&h in e.Q}},227:a=>{"use strict";let b;var c,d,e,f,g=Object.create,h=Object.defineProperty,i=Object.getOwnPropertyDescriptor,j=Object.getOwnPropertyNames,k=Object.getPrototypeOf,l=Object.prototype.hasOwnProperty,m=(a,b)=>()=>(a&&(b=a(a=0)),b),n=(a,b)=>()=>(b||a((b={exports:{}}).exports,b),b.exports),o=(a,b)=>{for(var c in b)h(a,c,{get:b[c],enumerable:!0})},p=(a,b,c,d)=>{if(b&&"object"==typeof b||"function"==typeof b)for(let e of j(b))l.call(a,e)||e===c||h(a,e,{get:()=>b[e],enumerable:!(d=i(b,e))||d.enumerable});return a},q=(a,b,c)=>(c=null!=a?g(k(a)):{},p(!b&&a&&a.__esModule?c:h(c,"default",{value:a,enumerable:!0}),a)),r=m(()=>{c={nextTick:(a,...b)=>{setTimeout(()=>{a(...b)},0)},env:{},version:"",cwd:()=>"/",stderr:{},argv:["/bin/node"],pid:1e4},{cwd:d}=c}),s=m(()=>{let a;globalThis.performance??(a=Date.now(),()=>Date.now()-a)}),t=m(()=>{(e=()=>{}).prototype=e}),u=m(()=>{}),v=n(a=>{w(),r(),s(),t(),u();var b=(a,b)=>()=>(b||a((b={exports:{}}).exports,b),b.exports),c=b(a=>{a.byteLength=function(a){var b=h(a),c=b[0],d=b[1];return(c+d)*3/4-d},a.toByteArray=function(a){var b,c,d=h(a),g=d[0],i=d[1],j=new f((g+i)*3/4-i),k=0,l=i>0?g-4:g;for(c=0;c<l;c+=4)b=e[a.charCodeAt(c)]<<18|e[a.charCodeAt(c+1)]<<12|e[a.charCodeAt(c+2)]<<6|e[a.charCodeAt(c+3)],j[k++]=b>>16&255,j[k++]=b>>8&255,j[k++]=255&b;return 2===i&&(b=e[a.charCodeAt(c)]<<2|e[a.charCodeAt(c+1)]>>4,j[k++]=255&b),1===i&&(b=e[a.charCodeAt(c)]<<10|e[a.charCodeAt(c+1)]<<4|e[a.charCodeAt(c+2)]>>2,j[k++]=b>>8&255,j[k++]=255&b),j},a.fromByteArray=function(a){for(var b,c=a.length,e=c%3,f=[],g=0,h=c-e;g<h;g+=16383)f.push(function(a,b,c){for(var e,f=[],g=b;g<c;g+=3)f.push(d[(e=(a[g]<<16&0xff0000)+(a[g+1]<<8&65280)+(255&a[g+2]))>>18&63]+d[e>>12&63]+d[e>>6&63]+d[63&e]);return f.join("")}(a,g,g+16383>h?h:g+16383));return 1===e?f.push(d[(b=a[c-1])>>2]+d[b<<4&63]+"=="):2===e&&f.push(d[(b=(a[c-2]<<8)+a[c-1])>>10]+d[b>>4&63]+d[b<<2&63]+"="),f.join("")};var b,c,d=[],e=[],f="u">typeof Uint8Array?Uint8Array:Array,g="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(b=0,c=g.length;b<c;++b)d[b]=g[b],e[g.charCodeAt(b)]=b;function h(a){var b=a.length;if(b%4>0)throw Error("Invalid string. Length must be a multiple of 4");var c=a.indexOf("=");-1===c&&(c=b);var d=c===b?0:4-c%4;return[c,d]}e[45]=62,e[95]=63}),d=b(a=>{a.read=function(a,b,c,d,e){var f,g,h=8*e-d-1,i=(1<<h)-1,j=i>>1,k=-7,l=c?e-1:0,m=c?-1:1,n=a[b+l];for(l+=m,f=n&(1<<-k)-1,n>>=-k,k+=h;k>0;f=256*f+a[b+l],l+=m,k-=8);for(g=f&(1<<-k)-1,f>>=-k,k+=d;k>0;g=256*g+a[b+l],l+=m,k-=8);if(0===f)f=1-j;else{if(f===i)return g?NaN:1/0*(n?-1:1);g+=Math.pow(2,d),f-=j}return(n?-1:1)*g*Math.pow(2,f-d)},a.write=function(a,b,c,d,e,f){var g,h,i,j=8*f-e-1,k=(1<<j)-1,l=k>>1,m=5960464477539062e-23*(23===e),n=d?0:f-1,o=d?1:-1,p=+(b<0||0===b&&1/b<0);for(isNaN(b=Math.abs(b))||b===1/0?(h=+!!isNaN(b),g=k):(g=Math.floor(Math.log(b)/Math.LN2),b*(i=Math.pow(2,-g))<1&&(g--,i*=2),g+l>=1?b+=m/i:b+=m*Math.pow(2,1-l),b*i>=2&&(g++,i/=2),g+l>=k?(h=0,g=k):g+l>=1?(h=(b*i-1)*Math.pow(2,e),g+=l):(h=b*Math.pow(2,l-1)*Math.pow(2,e),g=0));e>=8;a[c+n]=255&h,n+=o,h/=256,e-=8);for(g=g<<e|h,j+=e;j>0;a[c+n]=255&g,n+=o,g/=256,j-=8);a[c+n-o]|=128*p}}),e=c(),f=d(),g="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;function h(a){if(a>0x7fffffff)throw RangeError('The value "'+a+'" is invalid for option "size"');let b=new Uint8Array(a);return Object.setPrototypeOf(b,i.prototype),b}function i(a,b,c){if("number"==typeof a){if("string"==typeof b)throw TypeError('The "string" argument must be of type string. Received type number');return l(a)}return j(a,b,c)}function j(a,b,c){if("string"==typeof a){var d=a,e=b;if(("string"!=typeof e||""===e)&&(e="utf8"),!i.isEncoding(e))throw TypeError("Unknown encoding: "+e);let c=0|p(d,e),f=h(c),g=f.write(d,e);return g!==c&&(f=f.slice(0,g)),f}if(ArrayBuffer.isView(a)){var f=a;if(R(f,Uint8Array)){let a=new Uint8Array(f);return n(a.buffer,a.byteOffset,a.byteLength)}return m(f)}if(null==a)throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof a);if(R(a,ArrayBuffer)||a&&R(a.buffer,ArrayBuffer)||"u">typeof SharedArrayBuffer&&(R(a,SharedArrayBuffer)||a&&R(a.buffer,SharedArrayBuffer)))return n(a,b,c);if("number"==typeof a)throw TypeError('The "value" argument must not be of type number. Received type number');let g=a.valueOf&&a.valueOf();if(null!=g&&g!==a)return i.from(g,b,c);let j=function(a){if(i.isBuffer(a)){let b=0|o(a.length),c=h(b);return 0===c.length||a.copy(c,0,0,b),c}return void 0!==a.length?"number"!=typeof a.length||function(a){return a!=a}(a.length)?h(0):m(a):"Buffer"===a.type&&Array.isArray(a.data)?m(a.data):void 0}(a);if(j)return j;if("u">typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof a[Symbol.toPrimitive])return i.from(a[Symbol.toPrimitive]("string"),b,c);throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof a)}function k(a){if("number"!=typeof a)throw TypeError('"size" argument must be of type number');if(a<0)throw RangeError('The value "'+a+'" is invalid for option "size"')}function l(a){return k(a),h(a<0?0:0|o(a))}function m(a){let b=a.length<0?0:0|o(a.length),c=h(b);for(let d=0;d<b;d+=1)c[d]=255&a[d];return c}function n(a,b,c){let d;if(b<0||a.byteLength<b)throw RangeError('"offset" is outside of buffer bounds');if(a.byteLength<b+(c||0))throw RangeError('"length" is outside of buffer bounds');return Object.setPrototypeOf(d=void 0===b&&void 0===c?new Uint8Array(a):void 0===c?new Uint8Array(a,b):new Uint8Array(a,b,c),i.prototype),d}function o(a){if(a>=0x7fffffff)throw RangeError("Attempt to allocate Buffer larger than maximum size: 0x7fffffff bytes");return 0|a}function p(a,b){if(i.isBuffer(a))return a.length;if(ArrayBuffer.isView(a)||R(a,ArrayBuffer))return a.byteLength;if("string"!=typeof a)throw TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof a);let c=a.length,d=arguments.length>2&&!0===arguments[2];if(!d&&0===c)return 0;let e=!1;for(;;)switch(b){case"ascii":case"latin1":case"binary":return c;case"utf8":case"utf-8":return O(a).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*c;case"hex":return c>>>1;case"base64":return P(a).length;default:if(e)return d?-1:O(a).length;b=(""+b).toLowerCase(),e=!0}}function q(a,b,c){let d=!1;if((void 0===b||b<0)&&(b=0),b>this.length||((void 0===c||c>this.length)&&(c=this.length),c<=0)||(c>>>=0)<=(b>>>=0))return"";for(a||(a="utf8");;)switch(a){case"hex":return function(a,b,c){let d=a.length;(!b||b<0)&&(b=0),(!c||c<0||c>d)&&(c=d);let e="";for(let d=b;d<c;++d)e+=S[a[d]];return e}(this,b,c);case"utf8":case"utf-8":return z(this,b,c);case"ascii":return function(a,b,c){let d="";c=Math.min(a.length,c);for(let e=b;e<c;++e)d+=String.fromCharCode(127&a[e]);return d}(this,b,c);case"latin1":case"binary":return function(a,b,c){let d="";c=Math.min(a.length,c);for(let e=b;e<c;++e)d+=String.fromCharCode(a[e]);return d}(this,b,c);case"base64":var f,g,h;return f=this,g=b,h=c,0===g&&h===f.length?e.fromByteArray(f):e.fromByteArray(f.slice(g,h));case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return function(a,b,c){let d=a.slice(b,c),e="";for(let a=0;a<d.length-1;a+=2)e+=String.fromCharCode(d[a]+256*d[a+1]);return e}(this,b,c);default:if(d)throw TypeError("Unknown encoding: "+a);a=(a+"").toLowerCase(),d=!0}}function v(a,b,c){let d=a[b];a[b]=a[c],a[c]=d}function x(a,b,c,d,e){var f;if(0===a.length)return -1;if("string"==typeof c?(d=c,c=0):c>0x7fffffff?c=0x7fffffff:c<-0x80000000&&(c=-0x80000000),(f=c*=1)!=f&&(c=e?0:a.length-1),c<0&&(c=a.length+c),c>=a.length){if(e)return -1;c=a.length-1}else if(c<0)if(!e)return -1;else c=0;if("string"==typeof b&&(b=i.from(b,d)),i.isBuffer(b))return 0===b.length?-1:y(a,b,c,d,e);if("number"==typeof b)return b&=255,"function"==typeof Uint8Array.prototype.indexOf?e?Uint8Array.prototype.indexOf.call(a,b,c):Uint8Array.prototype.lastIndexOf.call(a,b,c):y(a,[b],c,d,e);throw TypeError("val must be string, number or Buffer")}function y(a,b,c,d,e){let f,g=1,h=a.length,i=b.length;if(void 0!==d&&("ucs2"===(d=String(d).toLowerCase())||"ucs-2"===d||"utf16le"===d||"utf-16le"===d)){if(a.length<2||b.length<2)return -1;g=2,h/=2,i/=2,c/=2}function j(a,b){return 1===g?a[b]:a.readUInt16BE(b*g)}if(e){let d=-1;for(f=c;f<h;f++)if(j(a,f)===j(b,-1===d?0:f-d)){if(-1===d&&(d=f),f-d+1===i)return d*g}else -1!==d&&(f-=f-d),d=-1}else for(c+i>h&&(c=h-i),f=c;f>=0;f--){let c=!0;for(let d=0;d<i;d++)if(j(a,f+d)!==j(b,d)){c=!1;break}if(c)return f}return -1}function z(a,b,c){c=Math.min(a.length,c);let d=[],e=b;for(;e<c;){let b=a[e],f=null,g=b>239?4:b>223?3:b>191?2:1;if(e+g<=c){let c,d,h,i;switch(g){case 1:b<128&&(f=b);break;case 2:(192&(c=a[e+1]))==128&&(i=(31&b)<<6|63&c)>127&&(f=i);break;case 3:c=a[e+1],d=a[e+2],(192&c)==128&&(192&d)==128&&(i=(15&b)<<12|(63&c)<<6|63&d)>2047&&(i<55296||i>57343)&&(f=i);break;case 4:c=a[e+1],d=a[e+2],h=a[e+3],(192&c)==128&&(192&d)==128&&(192&h)==128&&(i=(15&b)<<18|(63&c)<<12|(63&d)<<6|63&h)>65535&&i<1114112&&(f=i)}}null===f?(f=65533,g=1):f>65535&&(f-=65536,d.push(f>>>10&1023|55296),f=56320|1023&f),d.push(f),e+=g}var f=d;let g=f.length;if(g<=4096)return String.fromCharCode.apply(String,f);let h="",i=0;for(;i<g;)h+=String.fromCharCode.apply(String,f.slice(i,i+=4096));return h}function A(a,b,c){if(a%1!=0||a<0)throw RangeError("offset is not uint");if(a+b>c)throw RangeError("Trying to access beyond buffer length")}function B(a,b,c,d,e,f){if(!i.isBuffer(a))throw TypeError('"buffer" argument must be a Buffer instance');if(b>e||b<f)throw RangeError('"value" argument is out of bounds');if(c+d>a.length)throw RangeError("Index out of range")}function C(a,b,c,d,e){K(b,d,e,a,c,7);let f=Number(b&BigInt(0xffffffff));a[c++]=f,f>>=8,a[c++]=f,f>>=8,a[c++]=f,f>>=8,a[c++]=f;let g=Number(b>>BigInt(32)&BigInt(0xffffffff));return a[c++]=g,g>>=8,a[c++]=g,g>>=8,a[c++]=g,g>>=8,a[c++]=g,c}function D(a,b,c,d,e){K(b,d,e,a,c,7);let f=Number(b&BigInt(0xffffffff));a[c+7]=f,f>>=8,a[c+6]=f,f>>=8,a[c+5]=f,f>>=8,a[c+4]=f;let g=Number(b>>BigInt(32)&BigInt(0xffffffff));return a[c+3]=g,g>>=8,a[c+2]=g,g>>=8,a[c+1]=g,g>>=8,a[c]=g,c+8}function E(a,b,c,d,e,f){if(c+d>a.length||c<0)throw RangeError("Index out of range")}function F(a,b,c,d,e){return b*=1,c>>>=0,e||E(a,b,c,4,34028234663852886e22,-34028234663852886e22),f.write(a,b,c,d,23,4),c+4}function G(a,b,c,d,e){return b*=1,c>>>=0,e||E(a,b,c,8,17976931348623157e292,-17976931348623157e292),f.write(a,b,c,d,52,8),c+8}a.Buffer=i,a.SlowBuffer=function(a){return+a!=a&&(a=0),i.alloc(+a)},a.INSPECT_MAX_BYTES=50,a.kMaxLength=0x7fffffff,i.TYPED_ARRAY_SUPPORT=function(){try{let a=new Uint8Array(1),b={foo:function(){return 42}};return Object.setPrototypeOf(b,Uint8Array.prototype),Object.setPrototypeOf(a,b),42===a.foo()}catch{return!1}}(),!i.TYPED_ARRAY_SUPPORT&&"u">typeof console&&"function"==typeof console.error&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(i.prototype,"parent",{enumerable:!0,get:function(){if(i.isBuffer(this))return this.buffer}}),Object.defineProperty(i.prototype,"offset",{enumerable:!0,get:function(){if(i.isBuffer(this))return this.byteOffset}}),i.poolSize=8192,i.from=function(a,b,c){return j(a,b,c)},Object.setPrototypeOf(i.prototype,Uint8Array.prototype),Object.setPrototypeOf(i,Uint8Array),i.alloc=function(a,b,c){return k(a),a<=0?h(a):void 0!==b?"string"==typeof c?h(a).fill(b,c):h(a).fill(b):h(a)},i.allocUnsafe=function(a){return l(a)},i.allocUnsafeSlow=function(a){return l(a)},i.isBuffer=function(a){return null!=a&&!0===a._isBuffer&&a!==i.prototype},i.compare=function(a,b){if(R(a,Uint8Array)&&(a=i.from(a,a.offset,a.byteLength)),R(b,Uint8Array)&&(b=i.from(b,b.offset,b.byteLength)),!i.isBuffer(a)||!i.isBuffer(b))throw TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(a===b)return 0;let c=a.length,d=b.length;for(let e=0,f=Math.min(c,d);e<f;++e)if(a[e]!==b[e]){c=a[e],d=b[e];break}return c<d?-1:+(d<c)},i.isEncoding=function(a){switch(String(a).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},i.concat=function(a,b){let c;if(!Array.isArray(a))throw TypeError('"list" argument must be an Array of Buffers');if(0===a.length)return i.alloc(0);if(void 0===b)for(b=0,c=0;c<a.length;++c)b+=a[c].length;let d=i.allocUnsafe(b),e=0;for(c=0;c<a.length;++c){let b=a[c];if(R(b,Uint8Array))e+b.length>d.length?(i.isBuffer(b)||(b=i.from(b)),b.copy(d,e)):Uint8Array.prototype.set.call(d,b,e);else if(i.isBuffer(b))b.copy(d,e);else throw TypeError('"list" argument must be an Array of Buffers');e+=b.length}return d},i.byteLength=p,i.prototype._isBuffer=!0,i.prototype.swap16=function(){let a=this.length;if(a%2!=0)throw RangeError("Buffer size must be a multiple of 16-bits");for(let b=0;b<a;b+=2)v(this,b,b+1);return this},i.prototype.swap32=function(){let a=this.length;if(a%4!=0)throw RangeError("Buffer size must be a multiple of 32-bits");for(let b=0;b<a;b+=4)v(this,b,b+3),v(this,b+1,b+2);return this},i.prototype.swap64=function(){let a=this.length;if(a%8!=0)throw RangeError("Buffer size must be a multiple of 64-bits");for(let b=0;b<a;b+=8)v(this,b,b+7),v(this,b+1,b+6),v(this,b+2,b+5),v(this,b+3,b+4);return this},i.prototype.toString=function(){let a=this.length;return 0===a?"":0==arguments.length?z(this,0,a):q.apply(this,arguments)},i.prototype.toLocaleString=i.prototype.toString,i.prototype.equals=function(a){if(!i.isBuffer(a))throw TypeError("Argument must be a Buffer");return this===a||0===i.compare(this,a)},i.prototype.inspect=function(){let b="",c=a.INSPECT_MAX_BYTES;return b=this.toString("hex",0,c).replace(/(.{2})/g,"$1 ").trim(),this.length>c&&(b+=" ... "),"<Buffer "+b+">"},g&&(i.prototype[g]=i.prototype.inspect),i.prototype.compare=function(a,b,c,d,e){if(R(a,Uint8Array)&&(a=i.from(a,a.offset,a.byteLength)),!i.isBuffer(a))throw TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof a);if(void 0===b&&(b=0),void 0===c&&(c=a?a.length:0),void 0===d&&(d=0),void 0===e&&(e=this.length),b<0||c>a.length||d<0||e>this.length)throw RangeError("out of range index");if(d>=e&&b>=c)return 0;if(d>=e)return -1;if(b>=c)return 1;if(b>>>=0,c>>>=0,d>>>=0,e>>>=0,this===a)return 0;let f=e-d,g=c-b,h=Math.min(f,g),j=this.slice(d,e),k=a.slice(b,c);for(let a=0;a<h;++a)if(j[a]!==k[a]){f=j[a],g=k[a];break}return f<g?-1:+(g<f)},i.prototype.includes=function(a,b,c){return -1!==this.indexOf(a,b,c)},i.prototype.indexOf=function(a,b,c){return x(this,a,b,c,!0)},i.prototype.lastIndexOf=function(a,b,c){return x(this,a,b,c,!1)},i.prototype.write=function(a,b,c,d){var e,f,g,h,i,j,k,l;if(void 0===b)d="utf8",c=this.length,b=0;else if(void 0===c&&"string"==typeof b)d=b,c=this.length,b=0;else if(isFinite(b))b>>>=0,isFinite(c)?(c>>>=0,void 0===d&&(d="utf8")):(d=c,c=void 0);else throw Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");let m=this.length-b;if((void 0===c||c>m)&&(c=m),a.length>0&&(c<0||b<0)||b>this.length)throw RangeError("Attempt to write outside buffer bounds");d||(d="utf8");let n=!1;for(;;)switch(d){case"hex":return function(a,b,c,d){let e;c=Number(c)||0;let f=a.length-c;d?(d=Number(d))>f&&(d=f):d=f;let g=b.length;for(d>g/2&&(d=g/2),e=0;e<d;++e){var h;let d=parseInt(b.substr(2*e,2),16);if((h=d)!=h)break;a[c+e]=d}return e}(this,a,b,c);case"utf8":case"utf-8":return e=b,f=c,Q(O(a,this.length-e),this,e,f);case"ascii":case"latin1":case"binary":return g=b,h=c,Q(function(a){let b=[];for(let c=0;c<a.length;++c)b.push(255&a.charCodeAt(c));return b}(a),this,g,h);case"base64":return i=b,j=c,Q(P(a),this,i,j);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return k=b,l=c,Q(function(a,b){let c,d,e=[];for(let f=0;f<a.length&&!((b-=2)<0);++f)d=(c=a.charCodeAt(f))>>8,e.push(c%256),e.push(d);return e}(a,this.length-k),this,k,l);default:if(n)throw TypeError("Unknown encoding: "+d);d=(""+d).toLowerCase(),n=!0}},i.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}},i.prototype.slice=function(a,b){let c=this.length;a=~~a,b=void 0===b?c:~~b,a<0?(a+=c)<0&&(a=0):a>c&&(a=c),b<0?(b+=c)<0&&(b=0):b>c&&(b=c),b<a&&(b=a);let d=this.subarray(a,b);return Object.setPrototypeOf(d,i.prototype),d},i.prototype.readUintLE=i.prototype.readUIntLE=function(a,b,c){a>>>=0,b>>>=0,c||A(a,b,this.length);let d=this[a],e=1,f=0;for(;++f<b&&(e*=256);)d+=this[a+f]*e;return d},i.prototype.readUintBE=i.prototype.readUIntBE=function(a,b,c){a>>>=0,b>>>=0,c||A(a,b,this.length);let d=this[a+--b],e=1;for(;b>0&&(e*=256);)d+=this[a+--b]*e;return d},i.prototype.readUint8=i.prototype.readUInt8=function(a,b){return a>>>=0,b||A(a,1,this.length),this[a]},i.prototype.readUint16LE=i.prototype.readUInt16LE=function(a,b){return a>>>=0,b||A(a,2,this.length),this[a]|this[a+1]<<8},i.prototype.readUint16BE=i.prototype.readUInt16BE=function(a,b){return a>>>=0,b||A(a,2,this.length),this[a]<<8|this[a+1]},i.prototype.readUint32LE=i.prototype.readUInt32LE=function(a,b){return a>>>=0,b||A(a,4,this.length),(this[a]|this[a+1]<<8|this[a+2]<<16)+0x1000000*this[a+3]},i.prototype.readUint32BE=i.prototype.readUInt32BE=function(a,b){return a>>>=0,b||A(a,4,this.length),0x1000000*this[a]+(this[a+1]<<16|this[a+2]<<8|this[a+3])},i.prototype.readBigUInt64LE=T(function(a){L(a>>>=0,"offset");let b=this[a],c=this[a+7];(void 0===b||void 0===c)&&M(a,this.length-8);let d=b+256*this[++a]+65536*this[++a]+0x1000000*this[++a],e=this[++a]+256*this[++a]+65536*this[++a]+0x1000000*c;return BigInt(d)+(BigInt(e)<<BigInt(32))}),i.prototype.readBigUInt64BE=T(function(a){L(a>>>=0,"offset");let b=this[a],c=this[a+7];(void 0===b||void 0===c)&&M(a,this.length-8);let d=0x1000000*b+65536*this[++a]+256*this[++a]+this[++a],e=0x1000000*this[++a]+65536*this[++a]+256*this[++a]+c;return(BigInt(d)<<BigInt(32))+BigInt(e)}),i.prototype.readIntLE=function(a,b,c){a>>>=0,b>>>=0,c||A(a,b,this.length);let d=this[a],e=1,f=0;for(;++f<b&&(e*=256);)d+=this[a+f]*e;return d>=(e*=128)&&(d-=Math.pow(2,8*b)),d},i.prototype.readIntBE=function(a,b,c){a>>>=0,b>>>=0,c||A(a,b,this.length);let d=b,e=1,f=this[a+--d];for(;d>0&&(e*=256);)f+=this[a+--d]*e;return f>=(e*=128)&&(f-=Math.pow(2,8*b)),f},i.prototype.readInt8=function(a,b){return a>>>=0,b||A(a,1,this.length),128&this[a]?-((255-this[a]+1)*1):this[a]},i.prototype.readInt16LE=function(a,b){a>>>=0,b||A(a,2,this.length);let c=this[a]|this[a+1]<<8;return 32768&c?0xffff0000|c:c},i.prototype.readInt16BE=function(a,b){a>>>=0,b||A(a,2,this.length);let c=this[a+1]|this[a]<<8;return 32768&c?0xffff0000|c:c},i.prototype.readInt32LE=function(a,b){return a>>>=0,b||A(a,4,this.length),this[a]|this[a+1]<<8|this[a+2]<<16|this[a+3]<<24},i.prototype.readInt32BE=function(a,b){return a>>>=0,b||A(a,4,this.length),this[a]<<24|this[a+1]<<16|this[a+2]<<8|this[a+3]},i.prototype.readBigInt64LE=T(function(a){L(a>>>=0,"offset");let b=this[a],c=this[a+7];return(void 0===b||void 0===c)&&M(a,this.length-8),(BigInt(this[a+4]+256*this[a+5]+65536*this[a+6]+(c<<24))<<BigInt(32))+BigInt(b+256*this[++a]+65536*this[++a]+0x1000000*this[++a])}),i.prototype.readBigInt64BE=T(function(a){L(a>>>=0,"offset");let b=this[a],c=this[a+7];return(void 0===b||void 0===c)&&M(a,this.length-8),(BigInt((b<<24)+65536*this[++a]+256*this[++a]+this[++a])<<BigInt(32))+BigInt(0x1000000*this[++a]+65536*this[++a]+256*this[++a]+c)}),i.prototype.readFloatLE=function(a,b){return a>>>=0,b||A(a,4,this.length),f.read(this,a,!0,23,4)},i.prototype.readFloatBE=function(a,b){return a>>>=0,b||A(a,4,this.length),f.read(this,a,!1,23,4)},i.prototype.readDoubleLE=function(a,b){return a>>>=0,b||A(a,8,this.length),f.read(this,a,!0,52,8)},i.prototype.readDoubleBE=function(a,b){return a>>>=0,b||A(a,8,this.length),f.read(this,a,!1,52,8)},i.prototype.writeUintLE=i.prototype.writeUIntLE=function(a,b,c,d){if(a*=1,b>>>=0,c>>>=0,!d){let d=Math.pow(2,8*c)-1;B(this,a,b,c,d,0)}let e=1,f=0;for(this[b]=255&a;++f<c&&(e*=256);)this[b+f]=a/e&255;return b+c},i.prototype.writeUintBE=i.prototype.writeUIntBE=function(a,b,c,d){if(a*=1,b>>>=0,c>>>=0,!d){let d=Math.pow(2,8*c)-1;B(this,a,b,c,d,0)}let e=c-1,f=1;for(this[b+e]=255&a;--e>=0&&(f*=256);)this[b+e]=a/f&255;return b+c},i.prototype.writeUint8=i.prototype.writeUInt8=function(a,b,c){return a*=1,b>>>=0,c||B(this,a,b,1,255,0),this[b]=255&a,b+1},i.prototype.writeUint16LE=i.prototype.writeUInt16LE=function(a,b,c){return a*=1,b>>>=0,c||B(this,a,b,2,65535,0),this[b]=255&a,this[b+1]=a>>>8,b+2},i.prototype.writeUint16BE=i.prototype.writeUInt16BE=function(a,b,c){return a*=1,b>>>=0,c||B(this,a,b,2,65535,0),this[b]=a>>>8,this[b+1]=255&a,b+2},i.prototype.writeUint32LE=i.prototype.writeUInt32LE=function(a,b,c){return a*=1,b>>>=0,c||B(this,a,b,4,0xffffffff,0),this[b+3]=a>>>24,this[b+2]=a>>>16,this[b+1]=a>>>8,this[b]=255&a,b+4},i.prototype.writeUint32BE=i.prototype.writeUInt32BE=function(a,b,c){return a*=1,b>>>=0,c||B(this,a,b,4,0xffffffff,0),this[b]=a>>>24,this[b+1]=a>>>16,this[b+2]=a>>>8,this[b+3]=255&a,b+4},i.prototype.writeBigUInt64LE=T(function(a,b=0){return C(this,a,b,BigInt(0),BigInt("0xffffffffffffffff"))}),i.prototype.writeBigUInt64BE=T(function(a,b=0){return D(this,a,b,BigInt(0),BigInt("0xffffffffffffffff"))}),i.prototype.writeIntLE=function(a,b,c,d){if(a*=1,b>>>=0,!d){let d=Math.pow(2,8*c-1);B(this,a,b,c,d-1,-d)}let e=0,f=1,g=0;for(this[b]=255&a;++e<c&&(f*=256);)a<0&&0===g&&0!==this[b+e-1]&&(g=1),this[b+e]=(a/f|0)-g&255;return b+c},i.prototype.writeIntBE=function(a,b,c,d){if(a*=1,b>>>=0,!d){let d=Math.pow(2,8*c-1);B(this,a,b,c,d-1,-d)}let e=c-1,f=1,g=0;for(this[b+e]=255&a;--e>=0&&(f*=256);)a<0&&0===g&&0!==this[b+e+1]&&(g=1),this[b+e]=(a/f|0)-g&255;return b+c},i.prototype.writeInt8=function(a,b,c){return a*=1,b>>>=0,c||B(this,a,b,1,127,-128),a<0&&(a=255+a+1),this[b]=255&a,b+1},i.prototype.writeInt16LE=function(a,b,c){return a*=1,b>>>=0,c||B(this,a,b,2,32767,-32768),this[b]=255&a,this[b+1]=a>>>8,b+2},i.prototype.writeInt16BE=function(a,b,c){return a*=1,b>>>=0,c||B(this,a,b,2,32767,-32768),this[b]=a>>>8,this[b+1]=255&a,b+2},i.prototype.writeInt32LE=function(a,b,c){return a*=1,b>>>=0,c||B(this,a,b,4,0x7fffffff,-0x80000000),this[b]=255&a,this[b+1]=a>>>8,this[b+2]=a>>>16,this[b+3]=a>>>24,b+4},i.prototype.writeInt32BE=function(a,b,c){return a*=1,b>>>=0,c||B(this,a,b,4,0x7fffffff,-0x80000000),a<0&&(a=0xffffffff+a+1),this[b]=a>>>24,this[b+1]=a>>>16,this[b+2]=a>>>8,this[b+3]=255&a,b+4},i.prototype.writeBigInt64LE=T(function(a,b=0){return C(this,a,b,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),i.prototype.writeBigInt64BE=T(function(a,b=0){return D(this,a,b,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),i.prototype.writeFloatLE=function(a,b,c){return F(this,a,b,!0,c)},i.prototype.writeFloatBE=function(a,b,c){return F(this,a,b,!1,c)},i.prototype.writeDoubleLE=function(a,b,c){return G(this,a,b,!0,c)},i.prototype.writeDoubleBE=function(a,b,c){return G(this,a,b,!1,c)},i.prototype.copy=function(a,b,c,d){if(!i.isBuffer(a))throw TypeError("argument should be a Buffer");if(c||(c=0),d||0===d||(d=this.length),b>=a.length&&(b=a.length),b||(b=0),d>0&&d<c&&(d=c),d===c||0===a.length||0===this.length)return 0;if(b<0)throw RangeError("targetStart out of bounds");if(c<0||c>=this.length)throw RangeError("Index out of range");if(d<0)throw RangeError("sourceEnd out of bounds");d>this.length&&(d=this.length),a.length-b<d-c&&(d=a.length-b+c);let e=d-c;return this===a&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(b,c,d):Uint8Array.prototype.set.call(a,this.subarray(c,d),b),e},i.prototype.fill=function(a,b,c,d){let e;if("string"==typeof a){if("string"==typeof b?(d=b,b=0,c=this.length):"string"==typeof c&&(d=c,c=this.length),void 0!==d&&"string"!=typeof d)throw TypeError("encoding must be a string");if("string"==typeof d&&!i.isEncoding(d))throw TypeError("Unknown encoding: "+d);if(1===a.length){let b=a.charCodeAt(0);("utf8"===d&&b<128||"latin1"===d)&&(a=b)}}else"number"==typeof a?a&=255:"boolean"==typeof a&&(a=Number(a));if(b<0||this.length<b||this.length<c)throw RangeError("Out of range index");if(c<=b)return this;if(b>>>=0,c=void 0===c?this.length:c>>>0,a||(a=0),"number"==typeof a)for(e=b;e<c;++e)this[e]=a;else{let f=i.isBuffer(a)?a:i.from(a,d),g=f.length;if(0===g)throw TypeError('The value "'+a+'" is invalid for argument "value"');for(e=0;e<c-b;++e)this[e+b]=f[e%g]}return this};var H={};function I(a,b,c){H[a]=class extends c{constructor(){super(),Object.defineProperty(this,"message",{value:b.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${a}]`,this.stack,delete this.name}get code(){return a}set code(a){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:a,writable:!0})}toString(){return`${this.name} [${a}]: ${this.message}`}}}function J(a){let b="",c=a.length,d=+("-"===a[0]);for(;c>=d+4;c-=3)b=`_${a.slice(c-3,c)}${b}`;return`${a.slice(0,c)}${b}`}function K(a,b,c,d,e,f){if(a>c||a<b){let d="bigint"==typeof b?"n":"",e;throw e=f>3?0===b||b===BigInt(0)?`>= 0${d} and < 2${d} ** ${(f+1)*8}${d}`:`>= -(2${d} ** ${(f+1)*8-1}${d}) and < 2 ** ${(f+1)*8-1}${d}`:`>= ${b}${d} and <= ${c}${d}`,new H.ERR_OUT_OF_RANGE("value",e,a)}L(e,"offset"),(void 0===d[e]||void 0===d[e+f])&&M(e,d.length-(f+1))}function L(a,b){if("number"!=typeof a)throw new H.ERR_INVALID_ARG_TYPE(b,"number",a)}function M(a,b,c){throw Math.floor(a)!==a?(L(a,c),new H.ERR_OUT_OF_RANGE(c||"offset","an integer",a)):b<0?new H.ERR_BUFFER_OUT_OF_BOUNDS:new H.ERR_OUT_OF_RANGE(c||"offset",`>= ${+!!c} and <= ${b}`,a)}I("ERR_BUFFER_OUT_OF_BOUNDS",function(a){return a?`${a} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),I("ERR_INVALID_ARG_TYPE",function(a,b){return`The "${a}" argument must be of type number. Received type ${typeof b}`},TypeError),I("ERR_OUT_OF_RANGE",function(a,b,c){let d=`The value of "${a}" is out of range.`,e=c;return Number.isInteger(c)&&Math.abs(c)>0x100000000?e=J(String(c)):"bigint"==typeof c&&(e=String(c),(c>BigInt(2)**BigInt(32)||c<-(BigInt(2)**BigInt(32)))&&(e=J(e)),e+="n"),d+=` It must be ${b}. Received ${e}`},RangeError);var N=/[^+/0-9A-Za-z-_]/g;function O(a,b){b=b||1/0;let c,d=a.length,e=null,f=[];for(let g=0;g<d;++g){if((c=a.charCodeAt(g))>55295&&c<57344){if(!e){if(c>56319||g+1===d){(b-=3)>-1&&f.push(239,191,189);continue}e=c;continue}if(c<56320){(b-=3)>-1&&f.push(239,191,189),e=c;continue}c=(e-55296<<10|c-56320)+65536}else e&&(b-=3)>-1&&f.push(239,191,189);if(e=null,c<128){if((b-=1)<0)break;f.push(c)}else if(c<2048){if((b-=2)<0)break;f.push(c>>6|192,63&c|128)}else if(c<65536){if((b-=3)<0)break;f.push(c>>12|224,c>>6&63|128,63&c|128)}else if(c<1114112){if((b-=4)<0)break;f.push(c>>18|240,c>>12&63|128,c>>6&63|128,63&c|128)}else throw Error("Invalid code point")}return f}function P(a){return e.toByteArray(function(a){if((a=(a=a.split("=")[0]).trim().replace(N,"")).length<2)return"";for(;a.length%4!=0;)a+="=";return a}(a))}function Q(a,b,c,d){let e;for(e=0;e<d&&!(e+c>=b.length||e>=a.length);++e)b[e+c]=a[e];return e}function R(a,b){return a instanceof b||null!=a&&null!=a.constructor&&null!=a.constructor.name&&a.constructor.name===b.name}var S=function(){let a="0123456789abcdef",b=Array(256);for(let c=0;c<16;++c){let d=16*c;for(let e=0;e<16;++e)b[d+e]=a[c]+a[e]}return b}();function T(a){return typeof BigInt>"u"?U:a}function U(){throw Error("BigInt not supported")}}),w=m(()=>{f=q(v())});function x(){return!1}function y(){return{dev:0,ino:0,mode:0,nlink:0,uid:0,gid:0,rdev:0,size:0,blksize:0,blocks:0,atimeMs:0,mtimeMs:0,ctimeMs:0,birthtimeMs:0,atime:new Date,mtime:new Date,ctime:new Date,birthtime:new Date}}function z(){return y()}function A(){return[]}function B(a){a(null,[])}function C(){return""}function D(){return""}function E(){}function F(){}function G(){}function H(){}function I(){}function J(){}function K(){}function L(){}function M(){return{close:()=>{},on:()=>{},removeAllListeners:()=>{}}}function N(a,b){b(null,y())}var O,P=m(()=>{w(),r(),s(),t(),u(),O={existsSync:x,lstatSync:y,stat:N,statSync:z,readdirSync:A,readdir:B,readlinkSync:C,realpathSync:D,chmodSync:E,renameSync:F,mkdirSync:G,rmdirSync:H,rmSync:I,unlinkSync:J,watchFile:K,unwatchFile:L,watch:M,promises:{}}}),Q=n((a,b)=>{b.exports={name:"@prisma/internals",version:"6.18.0",description:"This package is intended for Prisma's internal use",main:"dist/index.js",types:"dist/index.d.ts",repository:{type:"git",url:"https://github.com/prisma/prisma.git",directory:"packages/internals"},homepage:"https://www.prisma.io",author:"Tim Suchanek <suchanek@prisma.io>",bugs:"https://github.com/prisma/prisma/issues",license:"Apache-2.0",scripts:{dev:"DEV=true tsx helpers/build.ts",build:"tsx helpers/build.ts",test:"dotenv -e ../../.db.env -- jest --silent",prepublishOnly:"pnpm run build"},files:["README.md","dist","!**/libquery_engine*","!dist/get-generators/engines/*","scripts"],devDependencies:{"@babel/helper-validator-identifier":"7.25.9","@opentelemetry/api":"1.9.0","@swc/core":"1.11.5","@swc/jest":"0.2.37","@types/babel__helper-validator-identifier":"7.15.2","@types/jest":"29.5.14","@types/node":"18.19.76","@types/resolve":"1.20.6",archiver:"6.0.2","checkpoint-client":"1.1.33","cli-truncate":"4.0.0",dotenv:"16.5.0",empathic:"2.0.0","escape-string-regexp":"5.0.0",execa:"8.0.1","fast-glob":"3.3.3","find-up":"7.0.0","fp-ts":"2.16.9","fs-extra":"11.3.0","global-directory":"4.0.0",globby:"11.1.0","identifier-regex":"1.0.0","indent-string":"4.0.0","is-windows":"1.0.2","is-wsl":"3.1.0",jest:"29.7.0","jest-junit":"16.0.0",kleur:"4.1.5","mock-stdin":"1.0.0","new-github-issue-url":"0.2.1","node-fetch":"3.3.2","npm-packlist":"5.1.3",open:"7.4.2","p-map":"4.0.0",resolve:"1.22.10","string-width":"7.2.0","strip-indent":"4.0.0","temp-dir":"2.0.0",tempy:"1.0.1","terminal-link":"4.0.0",tmp:"0.2.3","ts-pattern":"5.6.2","ts-toolbelt":"9.6.0",typescript:"5.4.5",yarn:"1.22.22"},dependencies:{"@prisma/config":"workspace:*","@prisma/debug":"workspace:*","@prisma/dmmf":"workspace:*","@prisma/driver-adapter-utils":"workspace:*","@prisma/engines":"workspace:*","@prisma/fetch-engine":"workspace:*","@prisma/generator":"workspace:*","@prisma/generator-helper":"workspace:*","@prisma/get-platform":"workspace:*","@prisma/prisma-schema-wasm":"6.18.0-8.34b5a692b7bd79939a9a2c3ef97d816e749cda2f","@prisma/schema-engine-wasm":"6.18.0-8.34b5a692b7bd79939a9a2c3ef97d816e749cda2f","@prisma/schema-files-loader":"workspace:*",arg:"5.0.2",prompts:"2.4.2"},peerDependencies:{typescript:">=5.1.0"},peerDependenciesMeta:{typescript:{optional:!0}},sideEffects:!1}});function R(...a){return a.join("/")}function S(...a){return a.join("/")}function T(a){let b=U(a),c=V(a),[d,e]=b.split(".");return{root:"/",dir:c,base:b,ext:e,name:d}}function U(a){let b=a.split("/");return b[b.length-1]}function V(a){return a.split("/").slice(0,-1).join("/")}function W(a){let b=a.split("/").filter(a=>""!==a&&"."!==a),c=[];for(let a of b)".."===a?c.pop():c.push(a);let d=c.join("/");return a.startsWith("/")?"/"+d:d}var X,Y,Z=m(()=>{w(),r(),s(),t(),u(),X={basename:U,delimiter:":",dirname:V,join:S,normalize:W,parse:T,posix:{sep:"/"},resolve:R,sep:"/"}}),$=n((a,b)=>{b.exports={name:"@prisma/engines-version",version:"6.18.0-8.34b5a692b7bd79939a9a2c3ef97d816e749cda2f",main:"index.js",types:"index.d.ts",license:"Apache-2.0",author:"Tim Suchanek <suchanek@prisma.io>",prisma:{enginesVersion:"34b5a692b7bd79939a9a2c3ef97d816e749cda2f"},repository:{type:"git",url:"https://github.com/prisma/engines-wrapper.git",directory:"packages/engines-version"},devDependencies:{"@types/node":"18.19.76",typescript:"4.9.5"},files:["index.js","index.d.ts"],scripts:{build:"tsc -d"}}}),_=n(a=>{w(),r(),s(),t(),u(),Object.defineProperty(a,"__esModule",{value:!0}),a.enginesVersion=void 0,a.enginesVersion=$().prisma.enginesVersion}),aa=n((a,b)=>{w(),r(),s(),t(),u(),b.exports=(a,b=1,c)=>{if(c={indent:" ",includeEmptyLines:!1,...c},"string"!=typeof a)throw TypeError(`Expected \`input\` to be a \`string\`, got \`${typeof a}\``);if("number"!=typeof b)throw TypeError(`Expected \`count\` to be a \`number\`, got \`${typeof b}\``);if("string"!=typeof c.indent)throw TypeError(`Expected \`options.indent\` to be a \`string\`, got \`${typeof c.indent}\``);if(0===b)return a;let d=c.includeEmptyLines?/^/gm:/^(?!\s*$)/gm;return a.replace(d,c.indent.repeat(b))}}),ab=n((a,b)=>{w(),r(),s(),t(),u(),b.exports=function(){function a(a,b,c,d,e){return a<b||c<b?a>c?c+1:a+1:d===e?b:b+1}return function(b,c){if(b===c)return 0;if(b.length>c.length){var d=b;b=c,c=d}for(var e=b.length,f=c.length;e>0&&b.charCodeAt(e-1)===c.charCodeAt(f-1);)e--,f--;for(var g=0;g<e&&b.charCodeAt(g)===c.charCodeAt(g);)g++;if(e-=g,f-=g,0===e||f<3)return f;var h,i,j,k,l,m,n,o,p,q,r,s,t=0,u=[];for(h=0;h<e;h++)u.push(h+1),u.push(b.charCodeAt(g+h));for(var v=u.length-1;t<f-3;)for(p=c.charCodeAt(g+(i=t)),q=c.charCodeAt(g+(j=t+1)),r=c.charCodeAt(g+(k=t+2)),s=c.charCodeAt(g+(l=t+3)),m=t+=4,h=0;h<v;h+=2)i=a(n=u[h],i,j,p,o=u[h+1]),j=a(i,j,k,q,o),k=a(j,k,l,r,o),m=a(k,l,m,s,o),u[h]=m,l=k,k=j,j=i,i=n;for(;t<f;)for(p=c.charCodeAt(g+(i=t)),m=++t,h=0;h<v;h+=2)n=u[h],u[h]=m=a(n,i,m,p,u[h+1]),i=n;return m}}()}),ac=m(()=>{w(),r(),s(),t(),u()}),ad=m(()=>{w(),r(),s(),t(),u()}),ae=m(()=>{w(),r(),s(),t(),u(),Y=class{events={};on(a,b){return this.events[a]||(this.events[a]=[]),this.events[a].push(b),this}emit(a,...b){return!!this.events[a]&&(this.events[a].forEach(a=>{a(...b)}),!0)}}}),af={};o(af,{DMMF:()=>cy,Debug:()=>aH,Decimal:()=>cw,Extensions:()=>ag,MetricsClient:()=>dy,PrismaClientInitializationError:()=>a$,PrismaClientKnownRequestError:()=>a_,PrismaClientRustPanicError:()=>a0,PrismaClientUnknownRequestError:()=>a1,PrismaClientValidationError:()=>a2,Public:()=>aj,Sql:()=>dH,createParam:()=>dl,defineDmmfProperty:()=>dz,deserializeJsonResponse:()=>ei,deserializeRawResult:()=>fo,dmmfToRuntimeDataModel:()=>a6,empty:()=>dK,getPrismaClient:()=>fE,getRuntime:()=>eq,join:()=>dI,makeStrictEnum:()=>fH,makeTypedQueryFactory:()=>dE,objectEnumValues:()=>c8,raw:()=>dJ,serializeJsonQuery:()=>dt,skip:()=>dp,sqltag:()=>dL,warnEnvConflicts:()=>void 0,warnOnce:()=>aZ}),a.exports=p(h({},"__esModule",{value:!0}),af),w(),r(),s(),t(),u();var ag={};function ah(a){return"function"==typeof a?a:b=>b.$extends(a)}function ai(a){return a}o(ag,{defineExtension:()=>ah,getExtensionContext:()=>ai}),w(),r(),s(),t(),u(),w(),r(),s(),t(),u(),w(),r(),s(),t(),u();var aj={};function ak(){return a=>a}o(aj,{validator:()=>ak}),w(),r(),s(),t(),u(),w(),r(),s(),t(),u(),w(),r(),s(),t(),u(),w(),r(),s(),t(),u(),w(),r(),s(),t(),u();var al,am,an,ao,ap=!0;"u">typeof c&&({FORCE_COLOR:al,NODE_DISABLE_COLORS:am,NO_COLOR:an,TERM:ao}=c.env||{},ap=c.stdout&&c.stdout.isTTY);var aq={enabled:!am&&null==an&&"dumb"!==ao&&(null!=al&&"0"!==al||ap)};function ar(a,b){let c=RegExp(`\\x1b\\[${b}m`,"g"),d=`\x1b[${a}m`,e=`\x1b[${b}m`;return function(a){return aq.enabled&&null!=a?d+(~(""+a).indexOf(e)?a.replace(c,e+d):a)+e:a}}ar(0,0);var as=ar(1,22),at=ar(2,22),au=(ar(3,23),ar(4,24)),av=(ar(7,27),ar(8,28),ar(9,29),ar(30,39),ar(31,39)),aw=ar(32,39),ax=ar(33,39),ay=ar(34,39),az=(ar(35,39),ar(36,39)),aA=(ar(37,39),ar(90,39));ar(90,39),ar(40,49),ar(41,49),ar(42,49),ar(43,49),ar(44,49),ar(45,49),ar(46,49),ar(47,49),w(),r(),s(),t(),u();var aB=["green","yellow","blue","magenta","cyan","red"],aC=[],aD=Date.now(),aE=0,aF="u">typeof c?c.env:{};globalThis.DEBUG??=aF.DEBUG??"",globalThis.DEBUG_COLORS??=!aF.DEBUG_COLORS||"true"===aF.DEBUG_COLORS;var aG={enable(a){"string"==typeof a&&(globalThis.DEBUG=a)},disable(){let a=globalThis.DEBUG;return globalThis.DEBUG="",a},enabled(a){let b=globalThis.DEBUG.split(",").map(a=>a.replace(/[.+?^${}()|[\]\\]/g,"\\$&")),c=b.some(b=>""!==b&&"-"!==b[0]&&a.match(RegExp(b.split("*").join(".*")+"$"))),d=b.some(b=>""!==b&&"-"===b[0]&&a.match(RegExp(b.slice(1).split("*").join(".*")+"$")));return c&&!d},log:(...a)=>{let[b,c,...d]=a;(console.warn??console.log)(`${b} ${c}`,...d)},formatters:{}},aH=new Proxy(function(a){let b={color:aB[aE++%aB.length],enabled:aG.enabled(a),namespace:a,log:aG.log,extend:()=>{}};return new Proxy((...a)=>{let{enabled:c,namespace:d,color:e,log:f}=b;if(0!==a.length&&aC.push([d,...a]),aC.length>100&&aC.shift(),aG.enabled(d)||c){let b=a.map(a=>"string"==typeof a?a:function(a,b=2){let c=new Set;return JSON.stringify(a,(a,b)=>{if("object"==typeof b&&null!==b){if(c.has(b))return"[Circular *]";c.add(b)}else if("bigint"==typeof b)return b.toString();return b},b)}(a)),c=`+${Date.now()-aD}ms`;aD=Date.now(),f(d,...b,c)}},{get:(a,c)=>b[c],set:(a,c,d)=>b[c]=d})},{get:(a,b)=>aG[b],set:(a,b,c)=>aG[b]=c});w(),r(),s(),t(),u(),w(),r(),s(),t(),u();var aI=Q().version;function aJ(a){let b;return("library"===(b=c.env.PRISMA_CLIENT_ENGINE_TYPE)?"library":"binary"===b?"binary":"client"===b?"client":void 0)||(a?.config.engineType==="library"?"library":a?.config.engineType==="binary"?"binary":a?.config.engineType==="client"?"client":"library")}w(),r(),s(),t(),u(),w(),r(),s(),t(),u();var aK="prisma+postgres:";function aL(a){return a?.toString().startsWith(`${aK}//`)??!1}var aM={};o(aM,{error:()=>aS,info:()=>aR,log:()=>aP,query:()=>aT,should:()=>aO,tags:()=>aN,warn:()=>aQ}),w(),r(),s(),t(),u();var aN={error:av("prisma:error"),warn:ax("prisma:warn"),info:az("prisma:info"),query:ay("prisma:query")},aO={warn:()=>!c.env.PRISMA_DISABLE_WARNINGS};function aP(...a){console.log(...a)}function aQ(a,...b){aO.warn()&&console.warn(`${aN.warn} ${a}`,...b)}function aR(a,...b){console.info(`${aN.info} ${a}`,...b)}function aS(a,...b){console.error(`${aN.error} ${a}`,...b)}function aT(a,...b){console.log(`${aN.query} ${a}`,...b)}function aU(a,b){throw Error(b)}w(),r(),s(),t(),u(),w(),r(),s(),t(),u(),w(),r(),s(),t(),u();var aV=function({onlyFirst:a=!1}={}){return RegExp("[\\u001B\\u009B][[\\]()#;?]*(?:(?:(?:(?:;[-a-zA-Z\\d\\/#&.:=?%@~_]+)*|[a-zA-Z\\d]+(?:;[-a-zA-Z\\d\\/#&.:=?%@~_]*)*)?(?:\\u0007|\\u001B\\u005C|\\u009C))|(?:(?:\\d{1,4}(?:;\\d{0,4})*)?[\\dA-PR-TZcf-nq-uy=><~]))",a?void 0:"g")}();function aW(a,b){let c={};for(let d of Object.keys(a))c[d]=b(a[d],d);return c}function aX(a,b){Object.defineProperty(a,"name",{value:b,configurable:!0})}w(),r(),s(),t(),u(),w(),r(),s(),t(),u(),w(),r(),s(),t(),u(),w(),r(),s(),t(),u(),w(),r(),s(),t(),u();var aY=new Set,aZ=(a,b,...c)=>{aY.has(a)||(aY.add(a),aQ(b,...c))},a$=class a extends Error{clientVersion;errorCode;retryable;constructor(b,c,d){super(b),this.name="PrismaClientInitializationError",this.clientVersion=c,this.errorCode=d,Error.captureStackTrace(a)}get[Symbol.toStringTag](){return"PrismaClientInitializationError"}};aX(a$,"PrismaClientInitializationError"),w(),r(),s(),t(),u();var a_=class extends Error{code;meta;clientVersion;batchRequestIdx;constructor(a,{code:b,clientVersion:c,meta:d,batchRequestIdx:e}){super(a),this.name="PrismaClientKnownRequestError",this.code=b,this.clientVersion=c,this.meta=d,Object.defineProperty(this,"batchRequestIdx",{value:e,enumerable:!1,writable:!0})}get[Symbol.toStringTag](){return"PrismaClientKnownRequestError"}};aX(a_,"PrismaClientKnownRequestError"),w(),r(),s(),t(),u();var a0=class extends Error{clientVersion;constructor(a,b){super(a),this.name="PrismaClientRustPanicError",this.clientVersion=b}get[Symbol.toStringTag](){return"PrismaClientRustPanicError"}};aX(a0,"PrismaClientRustPanicError"),w(),r(),s(),t(),u();var a1=class extends Error{clientVersion;batchRequestIdx;constructor(a,{clientVersion:b,batchRequestIdx:c}){super(a),this.name="PrismaClientUnknownRequestError",this.clientVersion=b,Object.defineProperty(this,"batchRequestIdx",{value:c,writable:!0,enumerable:!1})}get[Symbol.toStringTag](){return"PrismaClientUnknownRequestError"}};aX(a1,"PrismaClientUnknownRequestError"),w(),r(),s(),t(),u();var a2=class extends Error{name="PrismaClientValidationError";clientVersion;constructor(a,{clientVersion:b}){super(a),this.clientVersion=b}get[Symbol.toStringTag](){return"PrismaClientValidationError"}};aX(a2,"PrismaClientValidationError"),w(),r(),s(),t(),u(),w(),r(),s(),t(),u(),w(),r(),s(),t(),u();var a3=class{_map=new Map;get(a){return this._map.get(a)?.value}set(a,b){this._map.set(a,{value:b})}getOrCreate(a,b){let c=this._map.get(a);if(c)return c.value;let d=b();return this.set(a,d),d}};function a4(a){return a.substring(0,1).toLowerCase()+a.substring(1)}function a5(a){let b;return{get:()=>(b||(b={value:a()}),b.value)}}function a6(a){return{models:a7(a.models),enums:a7(a.enums),types:a7(a.types)}}function a7(a){let b={};for(let{name:c,...d}of a)b[c]=d;return b}function a8(a){return a instanceof Date||"[object Date]"===Object.prototype.toString.call(a)}function a9(a){return"Invalid Date"!==a.toString()}w(),r(),s(),t(),u(),w(),r(),s(),t(),u(),w(),r(),s(),t(),u(),w(),r(),s(),t(),u(),w(),r(),s(),t(),u(),w(),r(),s(),t(),u(),w(),r(),s(),t(),u();var ba,bb,bc="0123456789abcdef",bd="2.3025850929940456840179914546843642076011014886287729760333279009675726096773524802359972050895982983419677840422862486334095254650828067566662873690987816894829072083255546808437998948262331985283935053089653777326288461633662222876982198867465436674744042432743651550489343149393914796194044002221051017141748003688084012647080685567743216228355220114804663715659121373450747856947683463616792101806445070648000277502684916746550586856935673420670581136429224554405758925724208241314695689016758940256776311356919292033376587141660230105703089634572075440370847469940168269282808481184289314848524948644871927809676271275775397027668605952496716674183485704422507197965004714951050492214776567636938662976979522110718264549734772662425709429322582798502585509785265383207606726317164309505995087807523710333101197857547331541421808427543863591778117054309827482385045648019095610299291824318237525357709750539565187697510374970888692180205189339507238539205144634197265287286965110862571492198849978748873771345686209167058",be="3.1415926535897932384626433832795028841971693993751058209749445923078164062862089986280348253421170679821480865132823066470938446095505822317253594081284811174502841027019385211055596446229489549303819644288109756659334461284756482337867831652712019091456485669234603486104543266482133936072602491412737245870066063155881748815209209628292540917153643678925903600113305305488204665213841469519415116094330572703657595919530921861173819326117931051185480744623799627495673518857527248912279381830119491298336733624406566430860213949463952247371907021798609437027705392171762931767523846748184676694051320005681271452635608277857713427577896091736371787214684409012249534301465495853710507922796892589235420199561121290219608640344181598136297747713099605187072113499999983729780499510597317328160963185950244594553469083026425223082533446850352619311881710100031378387528865875332083814206171776691473035982534904287554687311595628638823537875937519577818577805321712268066130019278766111959092164201989380952572010654858632789",bf={precision:20,rounding:4,modulo:1,toExpNeg:-7,toExpPos:21,minE:-9e15,maxE:9e15,crypto:!1},bg=!0,bh="[DecimalError] ",bi=bh+"Invalid argument: ",bj=bh+"Precision limit exceeded",bk=bh+"crypto unavailable",bl="[object Decimal]",bm=Math.floor,bn=Math.pow,bo=/^0b([01]+(\.[01]*)?|\.[01]+)(p[+-]?\d+)?$/i,bp=/^0x([0-9a-f]+(\.[0-9a-f]*)?|\.[0-9a-f]+)(p[+-]?\d+)?$/i,bq=/^0o([0-7]+(\.[0-7]*)?|\.[0-7]+)(p[+-]?\d+)?$/i,br=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,bs=bd.length-1,bt=be.length-1,bu={toStringTag:bl};function bv(a){var b,c,d,e=a.length-1,f="",g=a[0];if(e>0){for(f+=g,b=1;b<e;b++)(c=7-(d=a[b]+"").length)&&(f+=bG(c)),f+=d;(c=7-(d=(g=a[b])+"").length)&&(f+=bG(c))}else if(0===g)return"0";for(;g%10==0;)g/=10;return f+g}function bw(a,b,c){if(a!==~~a||a<b||a>c)throw Error(bi+a)}function bx(a,b,c,d){var e,f,g,h;for(f=a[0];f>=10;f/=10)--b;return--b<0?(b+=7,e=0):(e=Math.ceil((b+1)/7),b%=7),f=bn(10,7-b),h=a[e]%f|0,null==d?b<3?(0==b?h=h/100|0:1==b&&(h=h/10|0),g=c<4&&99999==h||c>3&&49999==h||5e4==h||0==h):g=(c<4&&h+1==f||c>3&&h+1==f/2)&&(a[e+1]/f/100|0)==bn(10,b-2)-1||(h==f/2||0==h)&&(a[e+1]/f/100|0)==0:b<4?(0==b?h=h/1e3|0:1==b?h=h/100|0:2==b&&(h=h/10|0),g=(d||c<4)&&9999==h||!d&&c>3&&4999==h):g=((d||c<4)&&h+1==f||!d&&c>3&&h+1==f/2)&&(a[e+1]/f/1e3|0)==bn(10,b-3)-1,g}function by(a,b,c){for(var d,e,f=[0],g=0,h=a.length;g<h;){for(e=f.length;e--;)f[e]*=b;for(f[0]+=bc.indexOf(a.charAt(g++)),d=0;d<f.length;d++)f[d]>c-1&&(void 0===f[d+1]&&(f[d+1]=0),f[d+1]+=f[d]/c|0,f[d]%=c)}return f.reverse()}bu.absoluteValue=bu.abs=function(){var a=new this.constructor(this);return a.s<0&&(a.s=1),bA(a)},bu.ceil=function(){return bA(new this.constructor(this),this.e+1,2)},bu.clampedTo=bu.clamp=function(a,b){var c=this.constructor;if(a=new c(a),b=new c(b),!a.s||!b.s)return new c(NaN);if(a.gt(b))throw Error(bi+b);return 0>this.cmp(a)?a:this.cmp(b)>0?b:new c(this)},bu.comparedTo=bu.cmp=function(a){var b,c,d,e,f=this.d,g=(a=new this.constructor(a)).d,h=this.s,i=a.s;if(!f||!g)return h&&i?h!==i?h:f===g?0:!f^h<0?1:-1:NaN;if(!f[0]||!g[0])return f[0]?h:g[0]?-i:0;if(h!==i)return h;if(this.e!==a.e)return this.e>a.e^h<0?1:-1;for(d=f.length,e=g.length,b=0,c=d<e?d:e;b<c;++b)if(f[b]!==g[b])return f[b]>g[b]^h<0?1:-1;return d===e?0:d>e^h<0?1:-1},bu.cosine=bu.cos=function(){var a,b,c=this,d=c.constructor;return c.d?c.d[0]?(a=d.precision,b=d.rounding,d.precision=a+Math.max(c.e,c.sd())+7,d.rounding=1,c=function(a,b){var c,d,e;if(b.isZero())return b;(d=b.d.length)<32?e=(1/bP(4,c=Math.ceil(d/3))).toString():(c=16,e="2.3283064365386962890625e-10"),a.precision+=c,b=bO(a,1,b.times(e),new a(1));for(var f=c;f--;){var g=b.times(b);b=g.times(g).minus(g).times(8).plus(1)}return a.precision-=c,b}(d,bQ(d,c)),d.precision=a,d.rounding=b,bA(2==bb||3==bb?c.neg():c,a,b,!0)):new d(1):new d(NaN)},bu.cubeRoot=bu.cbrt=function(){var a,b,c,d,e,f,g,h,i,j,k=this.constructor;if(!this.isFinite()||this.isZero())return new k(this);for(bg=!1,(f=this.s*bn(this.s*this,1/3))&&Math.abs(f)!=1/0?d=new k(f.toString()):(c=bv(this.d),(f=((a=this.e)-c.length+1)%3)&&(c+=1==f||-2==f?"0":"00"),f=bn(c,1/3),a=bm((a+1)/3)-(a%3==(a<0?-1:2)),(d=new k(c=f==1/0?"5e"+a:(c=f.toExponential()).slice(0,c.indexOf("e")+1)+a)).s=this.s),g=(a=k.precision)+3;;)if(d=bz((j=(i=(h=d).times(h).times(h)).plus(this)).plus(this).times(h),j.plus(i),g+2,1),bv(h.d).slice(0,g)===(c=bv(d.d)).slice(0,g))if("9999"!=(c=c.slice(g-3,g+1))&&(e||"4999"!=c)){+c&&(+c.slice(1)||"5"!=c.charAt(0))||(bA(d,a+1,1),b=!d.times(d).times(d).eq(this));break}else{if(!e&&(bA(h,a+1,0),h.times(h).times(h).eq(this))){d=h;break}g+=4,e=1}return bg=!0,bA(d,a,k.rounding,b)},bu.decimalPlaces=bu.dp=function(){var a,b=this.d,c=NaN;if(b){if(c=((a=b.length-1)-bm(this.e/7))*7,a=b[a])for(;a%10==0;a/=10)c--;c<0&&(c=0)}return c},bu.dividedBy=bu.div=function(a){return bz(this,new this.constructor(a))},bu.dividedToIntegerBy=bu.divToInt=function(a){var b=this.constructor;return bA(bz(this,new b(a),0,1,1),b.precision,b.rounding)},bu.equals=bu.eq=function(a){return 0===this.cmp(a)},bu.floor=function(){return bA(new this.constructor(this),this.e+1,3)},bu.greaterThan=bu.gt=function(a){return this.cmp(a)>0},bu.greaterThanOrEqualTo=bu.gte=function(a){var b=this.cmp(a);return 1==b||0===b},bu.hyperbolicCosine=bu.cosh=function(){var a,b,c,d,e,f=this,g=f.constructor,h=new g(1);if(!f.isFinite())return new g(f.s?1/0:NaN);if(f.isZero())return h;c=g.precision,d=g.rounding,g.precision=c+Math.max(f.e,f.sd())+4,g.rounding=1,(e=f.d.length)<32?b=(1/bP(4,a=Math.ceil(e/3))).toString():(a=16,b="2.3283064365386962890625e-10"),f=bO(g,1,f.times(b),new g(1),!0);for(var i,j=a,k=new g(8);j--;)i=f.times(f),f=h.minus(i.times(k.minus(i.times(k))));return bA(f,g.precision=c,g.rounding=d,!0)},bu.hyperbolicSine=bu.sinh=function(){var a,b,c,d,e=this,f=e.constructor;if(!e.isFinite()||e.isZero())return new f(e);if(b=f.precision,c=f.rounding,f.precision=b+Math.max(e.e,e.sd())+4,f.rounding=1,(d=e.d.length)<3)e=bO(f,2,e,e,!0);else{a=(a=1.4*Math.sqrt(d))>16?16:0|a,e=bO(f,2,e=e.times(1/bP(5,a)),e,!0);for(var g,h=new f(5),i=new f(16),j=new f(20);a--;)g=e.times(e),e=e.times(h.plus(g.times(i.times(g).plus(j))))}return f.precision=b,f.rounding=c,bA(e,b,c,!0)},bu.hyperbolicTangent=bu.tanh=function(){var a,b,c=this.constructor;return this.isFinite()?this.isZero()?new c(this):(a=c.precision,b=c.rounding,c.precision=a+7,c.rounding=1,bz(this.sinh(),this.cosh(),c.precision=a,c.rounding=b)):new c(this.s)},bu.inverseCosine=bu.acos=function(){var a=this,b=a.constructor,c=a.abs().cmp(1),d=b.precision,e=b.rounding;return -1!==c?0===c?a.isNeg()?bE(b,d,e):new b(0):new b(NaN):a.isZero()?bE(b,d+4,e).times(.5):(b.precision=d+6,b.rounding=1,a=new b(1).minus(a).div(a.plus(1)).sqrt().atan(),b.precision=d,b.rounding=e,a.times(2))},bu.inverseHyperbolicCosine=bu.acosh=function(){var a,b,c=this,d=c.constructor;return c.lte(1)?new d(c.eq(1)?0:NaN):c.isFinite()?(a=d.precision,b=d.rounding,d.precision=a+Math.max(Math.abs(c.e),c.sd())+4,d.rounding=1,bg=!1,c=c.times(c).minus(1).sqrt().plus(c),bg=!0,d.precision=a,d.rounding=b,c.ln()):new d(c)},bu.inverseHyperbolicSine=bu.asinh=function(){var a,b,c=this,d=c.constructor;return!c.isFinite()||c.isZero()?new d(c):(a=d.precision,b=d.rounding,d.precision=a+2*Math.max(Math.abs(c.e),c.sd())+6,d.rounding=1,bg=!1,c=c.times(c).plus(1).sqrt().plus(c),bg=!0,d.precision=a,d.rounding=b,c.ln())},bu.inverseHyperbolicTangent=bu.atanh=function(){var a,b,c,d,e=this,f=e.constructor;return e.isFinite()?e.e>=0?new f(e.abs().eq(1)?e.s/0:e.isZero()?e:NaN):(a=f.precision,b=f.rounding,Math.max(d=e.sd(),a)<-(2*e.e)-1?bA(new f(e),a,b,!0):(f.precision=c=d-e.e,e=bz(e.plus(1),new f(1).minus(e),c+a,1),f.precision=a+4,f.rounding=1,e=e.ln(),f.precision=a,f.rounding=b,e.times(.5))):new f(NaN)},bu.inverseSine=bu.asin=function(){var a,b,c,d,e=this,f=e.constructor;return e.isZero()?new f(e):(b=e.abs().cmp(1),c=f.precision,d=f.rounding,-1!==b?0===b?((a=bE(f,c+4,d).times(.5)).s=e.s,a):new f(NaN):(f.precision=c+6,f.rounding=1,e=e.div(new f(1).minus(e.times(e)).sqrt().plus(1)).atan(),f.precision=c,f.rounding=d,e.times(2)))},bu.inverseTangent=bu.atan=function(){var a,b,c,d,e,f,g,h,i,j=this,k=j.constructor,l=k.precision,m=k.rounding;if(j.isFinite()){if(j.isZero())return new k(j);if(j.abs().eq(1)&&l+4<=bt)return(g=bE(k,l+4,m).times(.25)).s=j.s,g}else{if(!j.s)return new k(NaN);if(l+4<=bt)return(g=bE(k,l+4,m).times(.5)).s=j.s,g}for(k.precision=h=l+10,k.rounding=1,a=c=Math.min(28,h/7+2|0);a;--a)j=j.div(j.times(j).plus(1).sqrt().plus(1));for(bg=!1,b=Math.ceil(h/7),d=1,i=j.times(j),g=new k(j),e=j;-1!==a;)if(e=e.times(i),f=g.minus(e.div(d+=2)),e=e.times(i),void 0!==(g=f.plus(e.div(d+=2))).d[b])for(a=b;g.d[a]===f.d[a]&&a--;);return c&&(g=g.times(2<<c-1)),bg=!0,bA(g,k.precision=l,k.rounding=m,!0)},bu.isFinite=function(){return!!this.d},bu.isInteger=bu.isInt=function(){return!!this.d&&bm(this.e/7)>this.d.length-2},bu.isNaN=function(){return!this.s},bu.isNegative=bu.isNeg=function(){return this.s<0},bu.isPositive=bu.isPos=function(){return this.s>0},bu.isZero=function(){return!!this.d&&0===this.d[0]},bu.lessThan=bu.lt=function(a){return 0>this.cmp(a)},bu.lessThanOrEqualTo=bu.lte=function(a){return 1>this.cmp(a)},bu.logarithm=bu.log=function(a){var b,c,d,e,f,g,h,i=this.constructor,j=i.precision,k=i.rounding;if(null==a)a=new i(10),b=!0;else{if(c=(a=new i(a)).d,a.s<0||!c||!c[0]||a.eq(1))return new i(NaN);b=a.eq(10)}if(c=this.d,this.s<0||!c||!c[0]||this.eq(1))return new i(c&&!c[0]?-1/0:1!=this.s?NaN:c?0:1/0);if(b)if(c.length>1)e=!0;else{for(d=c[0];d%10==0;)d/=10;e=1!==d}if(bg=!1,bx((h=bz(f=bL(this,g=j+5),b?bD(i,g+10):bL(a,g),g,1)).d,d=j,k))do if(g+=10,h=bz(f=bL(this,g),b?bD(i,g+10):bL(a,g),g,1),!e){+bv(h.d).slice(d+1,d+15)+1==1e14&&(h=bA(h,j+1,0));break}while(bx(h.d,d+=10,k));return bg=!0,bA(h,j,k)},bu.minus=bu.sub=function(a){var b,c,d,e,f,g,h,i,j,k,l,m,n=this.constructor;if(a=new n(a),!this.d||!a.d)return this.s&&a.s?this.d?a.s=-a.s:a=new n(a.d||this.s!==a.s?this:NaN):a=new n(NaN),a;if(this.s!=a.s)return a.s=-a.s,this.plus(a);if(j=this.d,m=a.d,h=n.precision,i=n.rounding,!j[0]||!m[0]){if(m[0])a.s=-a.s;else{if(!j[0])return new n(3===i?-0:0);a=new n(this)}return bg?bA(a,h,i):a}if(c=bm(a.e/7),k=bm(this.e/7),j=j.slice(),f=k-c){for((l=f<0)?(b=j,f=-f,g=m.length):(b=m,c=k,g=j.length),f>(d=Math.max(Math.ceil(h/7),g)+2)&&(f=d,b.length=1),b.reverse(),d=f;d--;)b.push(0);b.reverse()}else{for((l=(d=j.length)<(g=m.length))&&(g=d),d=0;d<g;d++)if(j[d]!=m[d]){l=j[d]<m[d];break}f=0}for(l&&(b=j,j=m,m=b,a.s=-a.s),g=j.length,d=m.length-g;d>0;--d)j[g++]=0;for(d=m.length;d>f;){if(j[--d]<m[d]){for(e=d;e&&0===j[--e];)j[e]=1e7-1;--j[e],j[d]+=1e7}j[d]-=m[d]}for(;0===j[--g];)j.pop();for(;0===j[0];j.shift())--c;return j[0]?(a.d=j,a.e=bC(j,c),bg?bA(a,h,i):a):new n(3===i?-0:0)},bu.modulo=bu.mod=function(a){var b,c=this.constructor;return a=new c(a),this.d&&a.s&&(!a.d||a.d[0])?a.d&&(!this.d||this.d[0])?(bg=!1,9==c.modulo?(b=bz(this,a.abs(),0,3,1),b.s*=a.s):b=bz(this,a,0,c.modulo,1),b=b.times(a),bg=!0,this.minus(b)):bA(new c(this),c.precision,c.rounding):new c(NaN)},bu.naturalExponential=bu.exp=function(){return bK(this)},bu.naturalLogarithm=bu.ln=function(){return bL(this)},bu.negated=bu.neg=function(){var a=new this.constructor(this);return a.s=-a.s,bA(a)},bu.plus=bu.add=function(a){var b,c,d,e,f,g,h,i,j,k,l=this.constructor;if(a=new l(a),!this.d||!a.d)return this.s&&a.s?this.d||(a=new l(a.d||this.s===a.s?this:NaN)):a=new l(NaN),a;if(this.s!=a.s)return a.s=-a.s,this.minus(a);if(j=this.d,k=a.d,h=l.precision,i=l.rounding,!j[0]||!k[0])return k[0]||(a=new l(this)),bg?bA(a,h,i):a;if(f=bm(this.e/7),d=bm(a.e/7),j=j.slice(),e=f-d){for(e<0?(c=j,e=-e,g=k.length):(c=k,d=f,g=j.length),e>(g=(f=Math.ceil(h/7))>g?f+1:g+1)&&(e=g,c.length=1),c.reverse();e--;)c.push(0);c.reverse()}for((g=j.length)-(e=k.length)<0&&(e=g,c=k,k=j,j=c),b=0;e;)b=(j[--e]=j[e]+k[e]+b)/1e7|0,j[e]%=1e7;for(b&&(j.unshift(b),++d),g=j.length;0==j[--g];)j.pop();return a.d=j,a.e=bC(j,d),bg?bA(a,h,i):a},bu.precision=bu.sd=function(a){var b;if(void 0!==a&&!!a!==a&&1!==a&&0!==a)throw Error(bi+a);return this.d?(b=bF(this.d),a&&this.e+1>b&&(b=this.e+1)):b=NaN,b},bu.round=function(){var a=this.constructor;return bA(new a(this),this.e+1,a.rounding)},bu.sine=bu.sin=function(){var a,b,c=this,d=c.constructor;return c.isFinite()?c.isZero()?new d(c):(a=d.precision,b=d.rounding,d.precision=a+Math.max(c.e,c.sd())+7,d.rounding=1,c=function(a,b){var c,d=b.d.length;if(d<3)return b.isZero()?b:bO(a,2,b,b);c=(c=1.4*Math.sqrt(d))>16?16:0|c,b=bO(a,2,b=b.times(1/bP(5,c)),b);for(var e,f=new a(5),g=new a(16),h=new a(20);c--;)e=b.times(b),b=b.times(f.plus(e.times(g.times(e).minus(h))));return b}(d,bQ(d,c)),d.precision=a,d.rounding=b,bA(bb>2?c.neg():c,a,b,!0)):new d(NaN)},bu.squareRoot=bu.sqrt=function(){var a,b,c,d,e,f,g=this.d,h=this.e,i=this.s,j=this.constructor;if(1!==i||!g||!g[0])return new j(!i||i<0&&(!g||g[0])?NaN:g?this:1/0);for(bg=!1,0==(i=Math.sqrt(+this))||i==1/0?(((b=bv(g)).length+h)%2==0&&(b+="0"),i=Math.sqrt(b),h=bm((h+1)/2)-(h<0||h%2),d=new j(b=i==1/0?"5e"+h:(b=i.toExponential()).slice(0,b.indexOf("e")+1)+h)):d=new j(i.toString()),c=(h=j.precision)+3;;)if(d=(f=d).plus(bz(this,f,c+2,1)).times(.5),bv(f.d).slice(0,c)===(b=bv(d.d)).slice(0,c))if("9999"!=(b=b.slice(c-3,c+1))&&(e||"4999"!=b)){+b&&(+b.slice(1)||"5"!=b.charAt(0))||(bA(d,h+1,1),a=!d.times(d).eq(this));break}else{if(!e&&(bA(f,h+1,0),f.times(f).eq(this))){d=f;break}c+=4,e=1}return bg=!0,bA(d,h,j.rounding,a)},bu.tangent=bu.tan=function(){var a,b,c=this,d=c.constructor;return c.isFinite()?c.isZero()?new d(c):(a=d.precision,b=d.rounding,d.precision=a+10,d.rounding=1,(c=c.sin()).s=1,c=bz(c,new d(1).minus(c.times(c)).sqrt(),a+10,0),d.precision=a,d.rounding=b,bA(2==bb||4==bb?c.neg():c,a,b,!0)):new d(NaN)},bu.times=bu.mul=function(a){var b,c,d,e,f,g,h,i,j,k=this.constructor,l=this.d,m=(a=new k(a)).d;if(a.s*=this.s,!l||!l[0]||!m||!m[0])return new k(!a.s||l&&!l[0]&&!m||m&&!m[0]&&!l?NaN:!l||!m?a.s/0:0*a.s);for(c=bm(this.e/7)+bm(a.e/7),(i=l.length)<(j=m.length)&&(f=l,l=m,m=f,g=i,i=j,j=g),f=[],d=g=i+j;d--;)f.push(0);for(d=j;--d>=0;){for(b=0,e=i+d;e>d;)h=f[e]+m[d]*l[e-d-1]+b,f[e--]=h%1e7|0,b=h/1e7|0;f[e]=(f[e]+b)%1e7|0}for(;!f[--g];)f.pop();return b?++c:f.shift(),a.d=f,a.e=bC(f,c),bg?bA(a,k.precision,k.rounding):a},bu.toBinary=function(a,b){return bR(this,2,a,b)},bu.toDecimalPlaces=bu.toDP=function(a,b){var c=this,d=c.constructor;return c=new d(c),void 0===a?c:(bw(a,0,1e9),void 0===b?b=d.rounding:bw(b,0,8),bA(c,a+c.e+1,b))},bu.toExponential=function(a,b){var c,d=this,e=d.constructor;return void 0===a?c=bB(d,!0):(bw(a,0,1e9),void 0===b?b=e.rounding:bw(b,0,8),c=bB(d=bA(new e(d),a+1,b),!0,a+1)),d.isNeg()&&!d.isZero()?"-"+c:c},bu.toFixed=function(a,b){var c,d,e=this.constructor;return void 0===a?c=bB(this):(bw(a,0,1e9),void 0===b?b=e.rounding:bw(b,0,8),c=bB(d=bA(new e(this),a+this.e+1,b),!1,a+d.e+1)),this.isNeg()&&!this.isZero()?"-"+c:c},bu.toFraction=function(a){var b,c,d,e,f,g,h,i,j,k,l,m,n=this.d,o=this.constructor;if(!n)return new o(this);if(j=c=new o(1),d=i=new o(0),g=(f=(b=new o(d)).e=bF(n)-this.e-1)%7,b.d[0]=bn(10,g<0?7+g:g),null==a)a=f>0?b:j;else{if(!(h=new o(a)).isInt()||h.lt(j))throw Error(bi+h);a=h.gt(b)?f>0?b:j:h}for(bg=!1,h=new o(bv(n)),k=o.precision,o.precision=f=7*n.length*2;l=bz(h,b,0,1,1),1!=(e=c.plus(l.times(d))).cmp(a);)c=d,d=e,e=j,j=i.plus(l.times(e)),i=e,e=b,b=h.minus(l.times(e)),h=e;return e=bz(a.minus(c),d,0,1,1),i=i.plus(e.times(j)),c=c.plus(e.times(d)),i.s=j.s=this.s,m=1>bz(j,d,f,1).minus(this).abs().cmp(bz(i,c,f,1).minus(this).abs())?[j,d]:[i,c],o.precision=k,bg=!0,m},bu.toHexadecimal=bu.toHex=function(a,b){return bR(this,16,a,b)},bu.toNearest=function(a,b){var c=this,d=c.constructor;if(c=new d(c),null==a){if(!c.d)return c;a=new d(1),b=d.rounding}else{if(a=new d(a),void 0===b?b=d.rounding:bw(b,0,8),!c.d)return a.s?c:a;if(!a.d)return a.s&&(a.s=c.s),a}return a.d[0]?(bg=!1,c=bz(c,a,0,b,1).times(a),bg=!0,bA(c)):(a.s=c.s,c=a),c},bu.toNumber=function(){return+this},bu.toOctal=function(a,b){return bR(this,8,a,b)},bu.toPower=bu.pow=function(a){var b,c,d,e,f,g,h=this,i=h.constructor,j=+(a=new i(a));if(!h.d||!a.d||!h.d[0]||!a.d[0])return new i(bn(+h,j));if((h=new i(h)).eq(1))return h;if(d=i.precision,f=i.rounding,a.eq(1))return bA(h,d,f);if((b=bm(a.e/7))>=a.d.length-1&&(c=j<0?-j:j)<=0x1fffffffffffff)return e=bH(i,h,c,d),a.s<0?new i(1).div(e):bA(e,d,f);if((g=h.s)<0){if(b<a.d.length-1)return new i(NaN);if((1&a.d[b])==0&&(g=1),0==h.e&&1==h.d[0]&&1==h.d.length)return h.s=g,h}return(b=0!=(c=bn(+h,j))&&isFinite(c)?new i(c+"").e:bm(j*(Math.log("0."+bv(h.d))/Math.LN10+h.e+1)))>i.maxE+1||b<i.minE-1?new i(b>0?g/0:0):(bg=!1,i.rounding=h.s=1,c=Math.min(12,(b+"").length),(e=bK(a.times(bL(h,d+c)),d)).d&&bx((e=bA(e,d+5,1)).d,d,f)&&(b=d+10,+bv((e=bA(bK(a.times(bL(h,b+c)),b),b+5,1)).d).slice(d+1,d+15)+1==1e14&&(e=bA(e,d+1,0))),e.s=g,bg=!0,i.rounding=f,bA(e,d,f))},bu.toPrecision=function(a,b){var c,d=this,e=d.constructor;return void 0===a?c=bB(d,d.e<=e.toExpNeg||d.e>=e.toExpPos):(bw(a,1,1e9),void 0===b?b=e.rounding:bw(b,0,8),c=bB(d=bA(new e(d),a,b),a<=d.e||d.e<=e.toExpNeg,a)),d.isNeg()&&!d.isZero()?"-"+c:c},bu.toSignificantDigits=bu.toSD=function(a,b){var c=this.constructor;return void 0===a?(a=c.precision,b=c.rounding):(bw(a,1,1e9),void 0===b?b=c.rounding:bw(b,0,8)),bA(new c(this),a,b)},bu.toString=function(){var a=this.constructor,b=bB(this,this.e<=a.toExpNeg||this.e>=a.toExpPos);return this.isNeg()&&!this.isZero()?"-"+b:b},bu.truncated=bu.trunc=function(){return bA(new this.constructor(this),this.e+1,1)},bu.valueOf=bu.toJSON=function(){var a=this.constructor,b=bB(this,this.e<=a.toExpNeg||this.e>=a.toExpPos);return this.isNeg()?"-"+b:b};var bz=function(){function a(a,b,c){var d,e=0,f=a.length;for(a=a.slice();f--;)d=a[f]*b+e,a[f]=d%c|0,e=d/c|0;return e&&a.unshift(e),a}function b(a,b,c,d){var e,f;if(c!=d)f=c>d?1:-1;else for(e=f=0;e<c;e++)if(a[e]!=b[e]){f=a[e]>b[e]?1:-1;break}return f}function c(a,b,c,d){for(var e=0;c--;)a[c]-=e,e=+(a[c]<b[c]),a[c]=e*d+a[c]-b[c];for(;!a[0]&&a.length>1;)a.shift()}return function(d,e,f,g,h,i){var j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D=d.constructor,E=d.s==e.s?1:-1,F=d.d,G=e.d;if(!F||!F[0]||!G||!G[0])return new D(!d.s||!e.s||(F?G&&F[0]==G[0]:!G)?NaN:F&&0==F[0]||!G?0*E:E/0);for(i?(n=1,k=d.e-e.e):(i=1e7,n=7,k=bm(d.e/n)-bm(e.e/n)),B=G.length,z=F.length,s=(r=new D(E)).d=[],l=0;G[l]==(F[l]||0);l++);if(G[l]>(F[l]||0)&&k--,null==f?(w=f=D.precision,g=D.rounding):w=h?f+(d.e-e.e)+1:f,w<0)s.push(1),o=!0;else{if(w=w/n+2|0,l=0,1==B){for(m=0,G=G[0],w++;(l<z||m)&&w--;l++)x=m*i+(F[l]||0),s[l]=x/G|0,m=x%G|0;o=m||l<z}else{for((m=i/(G[0]+1)|0)>1&&(G=a(G,m,i),F=a(F,m,i),B=G.length,z=F.length),y=B,u=(t=F.slice(0,B)).length;u<B;)t[u++]=0;(C=G.slice()).unshift(0),A=G[0],G[1]>=i/2&&++A;do m=0,(j=b(G,t,B,u))<0?(v=t[0],B!=u&&(v=v*i+(t[1]||0)),(m=v/A|0)>1?(m>=i&&(m=i-1),q=(p=a(G,m,i)).length,u=t.length,1==(j=b(p,t,q,u))&&(m--,c(p,B<q?C:G,q,i))):(0==m&&(j=m=1),p=G.slice()),(q=p.length)<u&&p.unshift(0),c(t,p,u,i),-1==j&&(u=t.length,(j=b(G,t,B,u))<1&&(m++,c(t,B<u?C:G,u,i))),u=t.length):0===j&&(m++,t=[0]),s[l++]=m,j&&t[0]?t[u++]=F[y]||0:(t=[F[y]],u=1);while((y++<z||void 0!==t[0])&&w--);o=void 0!==t[0]}s[0]||s.shift()}if(1==n)r.e=k,ba=o;else{for(l=1,m=s[0];m>=10;m/=10)l++;r.e=l+k*n-1,bA(r,h?f+r.e+1:f,g,o)}return r}}();function bA(a,b,c,d){var e,f,g,h,i,j,k,l,m,n=a.constructor;a:if(null!=b){if(!(l=a.d))return a;for(e=1,h=l[0];h>=10;h/=10)e++;if((f=b-e)<0)f+=7,g=b,i=(k=l[m=0])/bn(10,e-g-1)%10|0;else if((m=Math.ceil((f+1)/7))>=(h=l.length))if(d){for(;h++<=m;)l.push(0);k=i=0,e=1,f%=7,g=f-7+1}else break a;else{for(k=h=l[m],e=1;h>=10;h/=10)e++;f%=7,i=(g=f-7+e)<0?0:k/bn(10,e-g-1)%10|0}if(d=d||b<0||void 0!==l[m+1]||(g<0?k:k%bn(10,e-g-1)),j=c<4?(i||d)&&(0==c||c==(a.s<0?3:2)):i>5||5==i&&(4==c||d||6==c&&(f>0?g>0?k/bn(10,e-g):0:l[m-1])%10&1||c==(a.s<0?8:7)),b<1||!l[0])return l.length=0,j?(b-=a.e+1,l[0]=bn(10,(7-b%7)%7),a.e=-b||0):l[0]=a.e=0,a;if(0==f?(l.length=m,h=1,m--):(l.length=m+1,h=bn(10,7-f),l[m]=g>0?(k/bn(10,e-g)%bn(10,g)|0)*h:0),j)for(;;)if(0==m){for(f=1,g=l[0];g>=10;g/=10)f++;for(g=l[0]+=h,h=1;g>=10;g/=10)h++;f!=h&&(a.e++,1e7==l[0]&&(l[0]=1));break}else{if(l[m]+=h,1e7!=l[m])break;l[m--]=0,h=1}for(f=l.length;0===l[--f];)l.pop()}return bg&&(a.e>n.maxE?(a.d=null,a.e=NaN):a.e<n.minE&&(a.e=0,a.d=[0])),a}function bB(a,b,c){if(!a.isFinite())return bM(a);var d,e=a.e,f=bv(a.d),g=f.length;return b?(c&&(d=c-g)>0?f=f.charAt(0)+"."+f.slice(1)+bG(d):g>1&&(f=f.charAt(0)+"."+f.slice(1)),f=f+(a.e<0?"e":"e+")+a.e):e<0?(f="0."+bG(-e-1)+f,c&&(d=c-g)>0&&(f+=bG(d))):e>=g?(f+=bG(e+1-g),c&&(d=c-e-1)>0&&(f=f+"."+bG(d))):((d=e+1)<g&&(f=f.slice(0,d)+"."+f.slice(d)),c&&(d=c-g)>0&&(e+1===g&&(f+="."),f+=bG(d))),f}function bC(a,b){var c=a[0];for(b*=7;c>=10;c/=10)b++;return b}function bD(a,b,c){if(b>bs)throw bg=!0,c&&(a.precision=c),Error(bj);return bA(new a(bd),b,1,!0)}function bE(a,b,c){if(b>bt)throw Error(bj);return bA(new a(be),b,c,!0)}function bF(a){var b=a.length-1,c=7*b+1;if(b=a[b]){for(;b%10==0;b/=10)c--;for(b=a[0];b>=10;b/=10)c++}return c}function bG(a){for(var b="";a--;)b+="0";return b}function bH(a,b,c,d){var e,f=new a(1),g=Math.ceil(d/7+4);for(bg=!1;;){if(c%2&&bS((f=f.times(b)).d,g)&&(e=!0),0===(c=bm(c/2))){c=f.d.length-1,e&&0===f.d[c]&&++f.d[c];break}bS((b=b.times(b)).d,g)}return bg=!0,f}function bI(a){return 1&a.d[a.d.length-1]}function bJ(a,b,c){for(var d,e,f=new a(b[0]),g=0;++g<b.length;){if(!(e=new a(b[g])).s){f=e;break}((d=f.cmp(e))===c||0===d&&f.s===c)&&(f=e)}return f}function bK(a,b){var c,d,e,f,g,h,i,j=0,k=0,l=0,m=a.constructor,n=m.rounding,o=m.precision;if(!a.d||!a.d[0]||a.e>17)return new m(a.d?a.d[0]?a.s<0?0:1/0:1:a.s?a.s<0?0:a:NaN);for(null==b?(bg=!1,i=o):i=b,h=new m(.03125);a.e>-2;)a=a.times(h),l+=5;for(i+=d=Math.log(bn(2,l))/Math.LN10*2+5|0,c=f=g=new m(1),m.precision=i;;){if(f=bA(f.times(a),i,1),c=c.times(++k),bv((h=g.plus(bz(f,c,i,1))).d).slice(0,i)===bv(g.d).slice(0,i)){for(e=l;e--;)g=bA(g.times(g),i,1);if(null!=b)return m.precision=o,g;if(!(j<3&&bx(g.d,i-d,n,j)))return bA(g,m.precision=o,n,bg=!0);m.precision=i+=10,c=f=h=new m(1),k=0,j++}g=h}}function bL(a,b){var c,d,e,f,g,h,i,j,k,l,m,n=1,o=a,p=o.d,q=o.constructor,r=q.rounding,s=q.precision;if(o.s<0||!p||!p[0]||!o.e&&1==p[0]&&1==p.length)return new q(p&&!p[0]?-1/0:1!=o.s?NaN:p?0:o);if(null==b?(bg=!1,k=s):k=b,q.precision=k+=10,d=(c=bv(p)).charAt(0),!(15e14>Math.abs(f=o.e)))return j=bD(q,k+2,s).times(f+""),o=bL(new q(d+"."+c.slice(1)),k-10).plus(j),q.precision=s,null==b?bA(o,s,r,bg=!0):o;for(;d<7&&1!=d||1==d&&c.charAt(1)>3;)d=(c=bv((o=o.times(a)).d)).charAt(0),n++;for(f=o.e,d>1?(o=new q("0."+c),f++):o=new q(d+"."+c.slice(1)),l=o,i=g=o=bz(o.minus(1),o.plus(1),k,1),m=bA(o.times(o),k,1),e=3;;){if(g=bA(g.times(m),k,1),bv((j=i.plus(bz(g,new q(e),k,1))).d).slice(0,k)===bv(i.d).slice(0,k))if(i=i.times(2),0!==f&&(i=i.plus(bD(q,k+2,s).times(f+""))),i=bz(i,new q(n),k,1),null!=b)return q.precision=s,i;else{if(!bx(i.d,k-10,r,h))return bA(i,q.precision=s,r,bg=!0);q.precision=k+=10,j=g=o=bz(l.minus(1),l.plus(1),k,1),m=bA(o.times(o),k,1),e=h=1}i=j,e+=2}}function bM(a){return String(a.s*a.s/0)}function bN(a,b){var c,d,e;for((c=b.indexOf("."))>-1&&(b=b.replace(".","")),(d=b.search(/e/i))>0?(c<0&&(c=d),c+=+b.slice(d+1),b=b.substring(0,d)):c<0&&(c=b.length),d=0;48===b.charCodeAt(d);d++);for(e=b.length;48===b.charCodeAt(e-1);--e);if(b=b.slice(d,e)){if(e-=d,a.e=c=c-d-1,a.d=[],d=(c+1)%7,c<0&&(d+=7),d<e){for(d&&a.d.push(+b.slice(0,d)),e-=7;d<e;)a.d.push(+b.slice(d,d+=7));d=7-(b=b.slice(d)).length}else d-=e;for(;d--;)b+="0";a.d.push(+b),bg&&(a.e>a.constructor.maxE?(a.d=null,a.e=NaN):a.e<a.constructor.minE&&(a.e=0,a.d=[0]))}else a.e=0,a.d=[0];return a}function bO(a,b,c,d,e){var f,g,h,i,j=a.precision,k=Math.ceil(j/7);for(bg=!1,i=c.times(c),h=new a(d);;){if(g=bz(h.times(i),new a(b++*b++),j,1),h=e?d.plus(g):d.minus(g),d=bz(g.times(i),new a(b++*b++),j,1),void 0!==(g=h.plus(d)).d[k]){for(f=k;g.d[f]===h.d[f]&&f--;);if(-1==f)break}f=h,h=d,d=g,g=f}return bg=!0,g.d.length=k+1,g}function bP(a,b){for(var c=a;--b;)c*=a;return c}function bQ(a,b){var c,d=b.s<0,e=bE(a,a.precision,1),f=e.times(.5);if((b=b.abs()).lte(f))return bb=d?4:1,b;if((c=b.divToInt(e)).isZero())bb=d?3:2;else{if((b=b.minus(c.times(e))).lte(f))return bb=bI(c)?d?2:3:d?4:1,b;bb=bI(c)?d?1:4:d?3:2}return b.minus(e).abs()}function bR(a,b,c,d){var e,f,g,h,i,j,k,l,m,n=a.constructor,o=void 0!==c;if(o?(bw(c,1,1e9),void 0===d?d=n.rounding:bw(d,0,8)):(c=n.precision,d=n.rounding),a.isFinite()){for(g=(k=bB(a)).indexOf("."),o?(e=2,16==b?c=4*c-3:8==b&&(c=3*c-2)):e=b,g>=0&&(k=k.replace(".",""),(m=new n(1)).e=k.length-g,m.d=by(bB(m),10,e),m.e=m.d.length),f=i=(l=by(k,10,e)).length;0==l[--i];)l.pop();if(l[0]){if(g<0?f--:((a=new n(a)).d=l,a.e=f,l=(a=bz(a,m,c,d,0,e)).d,f=a.e,j=ba),g=l[c],h=e/2,j=j||void 0!==l[c+1],j=d<4?(void 0!==g||j)&&(0===d||d===(a.s<0?3:2)):g>h||g===h&&(4===d||j||6===d&&1&l[c-1]||d===(a.s<0?8:7)),l.length=c,j)for(;++l[--c]>e-1;)l[c]=0,c||(++f,l.unshift(1));for(i=l.length;!l[i-1];--i);for(g=0,k="";g<i;g++)k+=bc.charAt(l[g]);if(o){if(i>1)if(16==b||8==b){for(g=16==b?4:3,--i;i%g;i++)k+="0";for(i=(l=by(k,e,b)).length;!l[i-1];--i);for(g=1,k="1.";g<i;g++)k+=bc.charAt(l[g])}else k=k.charAt(0)+"."+k.slice(1);k=k+(f<0?"p":"p+")+f}else if(f<0){for(;++f;)k="0"+k;k="0."+k}else if(++f>i)for(f-=i;f--;)k+="0";else f<i&&(k=k.slice(0,f)+"."+k.slice(f))}else k=o?"0p+0":"0";k=(16==b?"0x":2==b?"0b":8==b?"0o":"")+k}else k=bM(a);return a.s<0?"-"+k:k}function bS(a,b){if(a.length>b)return a.length=b,!0}function bT(a){return new this(a).abs()}function bU(a){return new this(a).acos()}function bV(a){return new this(a).acosh()}function bW(a,b){return new this(a).plus(b)}function bX(a){return new this(a).asin()}function bY(a){return new this(a).asinh()}function bZ(a){return new this(a).atan()}function b$(a){return new this(a).atanh()}function b_(a,b){a=new this(a),b=new this(b);var c,d=this.precision,e=this.rounding,f=d+4;return a.s&&b.s?a.d||b.d?!b.d||a.isZero()?(c=b.s<0?bE(this,d,e):new this(0)).s=a.s:!a.d||b.isZero()?(c=bE(this,f,1).times(.5)).s=a.s:b.s<0?(this.precision=f,this.rounding=1,c=this.atan(bz(a,b,f,1)),b=bE(this,f,1),this.precision=d,this.rounding=e,c=a.s<0?c.minus(b):c.plus(b)):c=this.atan(bz(a,b,f,1)):(c=bE(this,f,1).times(b.s>0?.25:.75)).s=a.s:c=new this(NaN),c}function b0(a){return new this(a).cbrt()}function b1(a){return bA(a=new this(a),a.e+1,2)}function b2(a,b,c){return new this(a).clamp(b,c)}function b3(a){if(!a||"object"!=typeof a)throw Error(bh+"Object expected");var b,c,d,e=!0===a.defaults,f=["precision",1,1e9,"rounding",0,8,"toExpNeg",-9e15,0,"toExpPos",0,9e15,"maxE",0,9e15,"minE",-9e15,0,"modulo",0,9];for(b=0;b<f.length;b+=3)if(c=f[b],e&&(this[c]=bf[c]),void 0!==(d=a[c]))if(bm(d)===d&&d>=f[b+1]&&d<=f[b+2])this[c]=d;else throw Error(bi+c+": "+d);if(c="crypto",e&&(this[c]=bf[c]),void 0!==(d=a[c]))if(!0===d||!1===d||0===d||1===d)if(d)if("u">typeof crypto&&crypto&&(crypto.getRandomValues||crypto.randomBytes))this[c]=!0;else throw Error(bk);else this[c]=!1;else throw Error(bi+c+": "+d);return this}function b4(a){return new this(a).cos()}function b5(a){return new this(a).cosh()}function b6(a,b){return new this(a).div(b)}function b7(a){return new this(a).exp()}function b8(a){return bA(a=new this(a),a.e+1,3)}function b9(){var a,b,c=new this(0);for(bg=!1,a=0;a<arguments.length;)if(b=new this(arguments[a++]),b.d)c.d&&(c=c.plus(b.times(b)));else{if(b.s)return bg=!0,new this(1/0);c=b}return bg=!0,c.sqrt()}function ca(a){return a instanceof cv||a&&a.toStringTag===bl||!1}function cb(a){return new this(a).ln()}function cc(a,b){return new this(a).log(b)}function cd(a){return new this(a).log(2)}function ce(a){return new this(a).log(10)}function cf(){return bJ(this,arguments,-1)}function cg(){return bJ(this,arguments,1)}function ch(a,b){return new this(a).mod(b)}function ci(a,b){return new this(a).mul(b)}function cj(a,b){return new this(a).pow(b)}function ck(a){var b,c,d,e,f=0,g=new this(1),h=[];if(void 0===a?a=this.precision:bw(a,1,1e9),d=Math.ceil(a/7),this.crypto)if(crypto.getRandomValues)for(b=crypto.getRandomValues(new Uint32Array(d));f<d;)(e=b[f])>=429e7?b[f]=crypto.getRandomValues(new Uint32Array(1))[0]:h[f++]=e%1e7;else if(crypto.randomBytes){for(b=crypto.randomBytes(d*=4);f<d;)(e=b[f]+(b[f+1]<<8)+(b[f+2]<<16)+((127&b[f+3])<<24))>=214e7?crypto.randomBytes(4).copy(b,f):(h.push(e%1e7),f+=4);f=d/4}else throw Error(bk);else for(;f<d;)h[f++]=1e7*Math.random()|0;for(d=h[--f],a%=7,d&&a&&(e=bn(10,7-a),h[f]=(d/e|0)*e);0===h[f];f--)h.pop();if(f<0)c=0,h=[0];else{for(c=-1;0===h[0];c-=7)h.shift();for(d=1,e=h[0];e>=10;e/=10)d++;d<7&&(c-=7-d)}return g.e=c,g.d=h,g}function cl(a){return bA(a=new this(a),a.e+1,this.rounding)}function cm(a){return(a=new this(a)).d?a.d[0]?a.s:0*a.s:a.s||NaN}function cn(a){return new this(a).sin()}function co(a){return new this(a).sinh()}function cp(a){return new this(a).sqrt()}function cq(a,b){return new this(a).sub(b)}function cr(){var a=0,b=arguments,c=new this(b[0]);for(bg=!1;c.s&&++a<b.length;)c=c.plus(b[a]);return bg=!0,bA(c,this.precision,this.rounding)}function cs(a){return new this(a).tan()}function ct(a){return new this(a).tanh()}function cu(a){return bA(a=new this(a),a.e+1,1)}bu[Symbol.for("nodejs.util.inspect.custom")]=bu.toString,bu[Symbol.toStringTag]="Decimal";var cv=bu.constructor=function a(b){var c,d,e;function f(a){var b,c,d;if(!(this instanceof f))return new f(a);if(this.constructor=f,ca(a)){this.s=a.s,bg?!a.d||a.e>f.maxE?(this.e=NaN,this.d=null):a.e<f.minE?(this.e=0,this.d=[0]):(this.e=a.e,this.d=a.d.slice()):(this.e=a.e,this.d=a.d?a.d.slice():a.d);return}if("number"==(d=typeof a)){if(0===a){this.s=1/a<0?-1:1,this.e=0,this.d=[0];return}if(a<0?(a=-a,this.s=-1):this.s=1,a===~~a&&a<1e7){for(b=0,c=a;c>=10;c/=10)b++;bg?b>f.maxE?(this.e=NaN,this.d=null):b<f.minE?(this.e=0,this.d=[0]):(this.e=b,this.d=[a]):(this.e=b,this.d=[a]);return}if(0*a!=0){a||(this.s=NaN),this.e=NaN,this.d=null;return}return bN(this,a.toString())}if("string"===d)return 45===(c=a.charCodeAt(0))?(a=a.slice(1),this.s=-1):(43===c&&(a=a.slice(1)),this.s=1),br.test(a)?bN(this,a):function(a,b){var c,d,e,f,g,h,i,j,k;if(b.indexOf("_")>-1){if(b=b.replace(/(\d)_(?=\d)/g,"$1"),br.test(b))return bN(a,b)}else if("Infinity"===b||"NaN"===b)return+b||(a.s=NaN),a.e=NaN,a.d=null,a;if(bp.test(b))c=16,b=b.toLowerCase();else if(bo.test(b))c=2;else if(bq.test(b))c=8;else throw Error(bi+b);for((f=b.search(/p/i))>0?(i=+b.slice(f+1),b=b.substring(2,f)):b=b.slice(2),g=(f=b.indexOf("."))>=0,d=a.constructor,g&&(f=(h=(b=b.replace(".","")).length)-f,e=bH(d,new d(c),f,2*f)),f=k=(j=by(b,c,1e7)).length-1;0===j[f];--f)j.pop();return f<0?new d(0*a.s):(a.e=bC(j,k),a.d=j,bg=!1,g&&(a=bz(a,e,4*h)),i&&(a=a.times(54>Math.abs(i)?bn(2,i):cv.pow(2,i))),bg=!0,a)}(this,a);if("bigint"===d)return a<0?(a=-a,this.s=-1):this.s=1,bN(this,a.toString());throw Error(bi+a)}if(f.prototype=bu,f.ROUND_UP=0,f.ROUND_DOWN=1,f.ROUND_CEIL=2,f.ROUND_FLOOR=3,f.ROUND_HALF_UP=4,f.ROUND_HALF_DOWN=5,f.ROUND_HALF_EVEN=6,f.ROUND_HALF_CEIL=7,f.ROUND_HALF_FLOOR=8,f.EUCLID=9,f.config=f.set=b3,f.clone=a,f.isDecimal=ca,f.abs=bT,f.acos=bU,f.acosh=bV,f.add=bW,f.asin=bX,f.asinh=bY,f.atan=bZ,f.atanh=b$,f.atan2=b_,f.cbrt=b0,f.ceil=b1,f.clamp=b2,f.cos=b4,f.cosh=b5,f.div=b6,f.exp=b7,f.floor=b8,f.hypot=b9,f.ln=cb,f.log=cc,f.log10=ce,f.log2=cd,f.max=cf,f.min=cg,f.mod=ch,f.mul=ci,f.pow=cj,f.random=ck,f.round=cl,f.sign=cm,f.sin=cn,f.sinh=co,f.sqrt=cp,f.sub=cq,f.sum=cr,f.tan=cs,f.tanh=ct,f.trunc=cu,void 0===b&&(b={}),b&&!0!==b.defaults)for(e=["precision","rounding","toExpNeg","toExpPos","maxE","minE","modulo","crypto"],c=0;c<e.length;)b.hasOwnProperty(d=e[c++])||(b[d]=this[d]);return f.config(b),f}(bf);bd=new cv(bd),be=new cv(be);var cw=cv;function cx(a){return!!cv.isDecimal(a)||null!==a&&"object"==typeof a&&"number"==typeof a.s&&"number"==typeof a.e&&"function"==typeof a.toFixed&&Array.isArray(a.d)}w(),r(),s(),t(),u(),w(),r(),s(),t(),u();var cy={};function cz(a){return{name:a.name,values:a.values.map(a=>a.name)}}o(cy,{ModelAction:()=>cA,datamodelEnumToSchemaEnum:()=>cz}),w(),r(),s(),t(),u(),w(),r(),s(),t(),u(),w(),r(),s(),t(),u();var cA=((b=cA||{}).findUnique="findUnique",b.findUniqueOrThrow="findUniqueOrThrow",b.findFirst="findFirst",b.findFirstOrThrow="findFirstOrThrow",b.findMany="findMany",b.create="create",b.createMany="createMany",b.createManyAndReturn="createManyAndReturn",b.update="update",b.updateMany="updateMany",b.updateManyAndReturn="updateManyAndReturn",b.upsert="upsert",b.delete="delete",b.deleteMany="deleteMany",b.groupBy="groupBy",b.count="count",b.aggregate="aggregate",b.findRaw="findRaw",b.aggregateRaw="aggregateRaw",b);q(aa());var cB={red:av,gray:aA,dim:at,bold:as,underline:au,highlightSource:a=>a.highlight()},cC={red:a=>a,gray:a=>a,dim:a=>a,bold:a=>a,underline:a=>a,highlightSource:a=>a};function cD(a){let b=a.showColors?cB:cC;return function({functionName:a,location:b,message:c,isPanic:d,contextLines:e,callArguments:f},g){var h;let i,j=[""],k=b?" in":":";if(d?(j.push(g.red(`Oops, an unknown error occurred! This is ${g.bold("on us")}, you did nothing wrong.`)),j.push(g.red(`It occurred in the ${g.bold(`\`${a}\``)} invocation${k}`))):j.push(g.red(`Invalid ${g.bold(`\`${a}\``)} invocation${k}`)),b&&j.push(g.underline((i=[(h=b).fileName],h.lineNumber&&i.push(String(h.lineNumber)),h.columnNumber&&i.push(String(h.columnNumber)),i.join(":")))),e){j.push("");let a=[e.toString()];f&&(a.push(f),a.push(g.dim(")"))),j.push(a.join("")),f&&j.push("")}else j.push(""),f&&j.push(f),j.push("");return j.push(c),j.join(`
`)}("u">typeof $getTemplateParameters?$getTemplateParameters(a,b):function({message:a,originalMethod:b,isPanic:c,callArguments:d}){return{functionName:`prisma.${b}()`,message:a,isPanic:c??!1,callArguments:d}}(a),b)}w(),r(),s(),t(),u();var cE=q(ab());function cF(a){let b=0;return Array.isArray(a.selectionPath)&&(b+=a.selectionPath.length),Array.isArray(a.argumentPath)&&(b+=a.argumentPath.length),b}function cG(a){switch(a.kind){case"InvalidArgumentValue":case"ValueTooLarge":return 20;case"InvalidArgumentType":return 10;case"RequiredArgumentMissing":return -10;default:return 0}}w(),r(),s(),t(),u(),w(),r(),s(),t(),u();var cH=class{constructor(a,b){this.name=a,this.value=b}isRequired=!1;makeRequired(){return this.isRequired=!0,this}write(a){let{colors:{green:b}}=a.context;a.addMarginSymbol(b(this.isRequired?"+":"?")),a.write(b(this.name)),this.isRequired||a.write(b("?")),a.write(b(": ")),"string"==typeof this.value?a.write(b(this.value)):a.write(this.value)}};w(),r(),s(),t(),u(),w(),r(),s(),t(),u(),ad(),w(),r(),s(),t(),u();var cI=class{constructor(a=0,b){this.context=b,this.currentIndent=a}lines=[];currentLine="";currentIndent=0;marginSymbol;afterNextNewLineCallback;write(a){return"string"==typeof a?this.currentLine+=a:a.write(this),this}writeJoined(a,b,c=(a,b)=>b.write(a)){let d=b.length-1;for(let e=0;e<b.length;e++)c(b[e],this),e!==d&&this.write(a);return this}writeLine(a){return this.write(a).newLine()}newLine(){this.lines.push(this.indentedCurrentLine()),this.currentLine="",this.marginSymbol=void 0;let a=this.afterNextNewLineCallback;return this.afterNextNewLineCallback=void 0,a?.(),this}withIndent(a){return this.indent(),a(this),this.unindent(),this}afterNextNewline(a){return this.afterNextNewLineCallback=a,this}indent(){return this.currentIndent++,this}unindent(){return this.currentIndent>0&&this.currentIndent--,this}addMarginSymbol(a){return this.marginSymbol=a,this}toString(){return this.lines.concat(this.indentedCurrentLine()).join(`
`)}getCurrentLineLength(){return this.currentLine.length}indentedCurrentLine(){let a=this.currentLine.padStart(this.currentLine.length+2*this.currentIndent);return this.marginSymbol?this.marginSymbol+a.slice(1):a}};ac(),w(),r(),s(),t(),u(),w(),r(),s(),t(),u();var cJ=class{constructor(a){this.value=a}write(a){a.write(this.value)}markAsError(){this.value.markAsError()}};w(),r(),s(),t(),u();var cK=a=>a,cL={bold:cK,red:cK,green:cK,dim:cK,enabled:!1},cM={bold:as,red:av,green:aw,dim:at,enabled:!0},cN={write(a){a.writeLine(",")}};w(),r(),s(),t(),u();var cO=class{constructor(a){this.contents=a}isUnderlined=!1;color=a=>a;underline(){return this.isUnderlined=!0,this}setColor(a){return this.color=a,this}write(a){let b=a.getCurrentLineLength();a.write(this.color(this.contents)),this.isUnderlined&&a.afterNextNewline(()=>{a.write(" ".repeat(b)).writeLine(this.color("~".repeat(this.contents.length)))})}};w(),r(),s(),t(),u();var cP=class{hasError=!1;markAsError(){return this.hasError=!0,this}},cQ=class extends cP{items=[];addItem(a){return this.items.push(new cJ(a)),this}getField(a){return this.items[a]}getPrintWidth(){return 0===this.items.length?2:Math.max(...this.items.map(a=>a.value.getPrintWidth()))+2}write(a){0===this.items.length?this.writeEmpty(a):this.writeWithItems(a)}writeEmpty(a){let b=new cO("[]");this.hasError&&b.setColor(a.context.colors.red).underline(),a.write(b)}writeWithItems(a){let{colors:b}=a.context;a.writeLine("[").withIndent(()=>a.writeJoined(cN,this.items).newLine()).write("]"),this.hasError&&a.afterNextNewline(()=>{a.writeLine(b.red("~".repeat(this.getPrintWidth())))})}asObject(){}},cR=class a extends cP{fields={};suggestions=[];addField(a){this.fields[a.name]=a}addSuggestion(a){this.suggestions.push(a)}getField(a){return this.fields[a]}getDeepField(b){let[c,...d]=b,e=this.getField(c);if(!e)return;let f=e;for(let b of d){let c;if(f.value instanceof a?c=f.value.getField(b):f.value instanceof cQ&&(c=f.value.getField(Number(b))),!c)return;f=c}return f}getDeepFieldValue(a){return 0===a.length?this:this.getDeepField(a)?.value}hasField(a){return!!this.getField(a)}removeAllFields(){this.fields={}}removeField(a){delete this.fields[a]}getFields(){return this.fields}isEmpty(){return 0===Object.keys(this.fields).length}getFieldValue(a){return this.getField(a)?.value}getDeepSubSelectionValue(b){let c=this;for(let d of b){if(!(c instanceof a))return;let b=c.getSubSelectionValue(d);if(!b)return;c=b}return c}getDeepSelectionParent(b){let c=this.getSelectionParent();if(!c)return;let d=c;for(let c of b){let b=d.value.getFieldValue(c);if(!b||!(b instanceof a))return;let e=b.getSelectionParent();if(!e)return;d=e}return d}getSelectionParent(){let a=this.getField("select")?.value.asObject();if(a)return{kind:"select",value:a};let b=this.getField("include")?.value.asObject();if(b)return{kind:"include",value:b}}getSubSelectionValue(a){return this.getSelectionParent()?.value.fields[a].value}getPrintWidth(){let a=Object.values(this.fields);return 0==a.length?2:Math.max(...a.map(a=>a.getPrintWidth()))+2}write(a){let b=Object.values(this.fields);0===b.length&&0===this.suggestions.length?this.writeEmpty(a):this.writeWithContents(a,b)}asObject(){return this}writeEmpty(a){let b=new cO("{}");this.hasError&&b.setColor(a.context.colors.red).underline(),a.write(b)}writeWithContents(a,b){a.writeLine("{").withIndent(()=>{a.writeJoined(cN,[...b,...this.suggestions]).newLine()}),a.write("}"),this.hasError&&a.afterNextNewline(()=>{a.writeLine(a.context.colors.red("~".repeat(this.getPrintWidth())))})}};w(),r(),s(),t(),u();var cS=class extends cP{constructor(a){super(),this.text=a}getPrintWidth(){return this.text.length}write(a){let b=new cO(this.text);this.hasError&&b.underline().setColor(a.context.colors.red),a.write(b)}asObject(){}};w(),r(),s(),t(),u();var cT=class{fields=[];addField(a,b){return this.fields.push({write(c){let{green:d,dim:e}=c.context.colors;c.write(d(e(`${a}: ${b}`))).addMarginSymbol(d(e("+")))}}),this}write(a){let{colors:{green:b}}=a.context;a.writeLine(b("{")).withIndent(()=>{a.writeJoined(cN,this.fields).newLine()}).write(b("}")).addMarginSymbol(b("+"))}};function cU(a,b,c){let d=[`Unknown argument \`${a.red(b)}\`.`],e=function(a,b){let c=1/0,d;for(let e of b){let b=(0,cE.default)(a,e);b>3||b<c&&(c=b,d=e)}return d}(b,c);return e&&d.push(`Did you mean \`${a.green(e)}\`?`),c.length>0&&d.push(cZ(a)),d.join(" ")}function cV(a,b){for(let c of b.fields)a.hasField(c.name)||a.addSuggestion(new cH(c.name,"true"))}function cW(a,b){let[c,d]=cY(a),e=b.arguments.getDeepSubSelectionValue(c)?.asObject();if(!e)return{parentKind:"unknown",fieldName:d};let f=e.getFieldValue("select")?.asObject(),g=e.getFieldValue("include")?.asObject(),h=e.getFieldValue("omit")?.asObject(),i=f?.getField(d);return f&&i?{parentKind:"select",parent:f,field:i,fieldName:d}:(i=g?.getField(d),g&&i?{parentKind:"include",field:i,parent:g,fieldName:d}:(i=h?.getField(d),h&&i?{parentKind:"omit",field:i,parent:h,fieldName:d}:{parentKind:"unknown",fieldName:d}))}function cX(a,b){if("object"===b.kind)for(let c of b.fields)a.hasField(c.name)||a.addSuggestion(new cH(c.name,c.typeNames.join(" | ")))}function cY(a){let b=[...a],c=b.pop();if(!c)throw Error("unexpected empty path");return[b,c]}function cZ({green:a,enabled:b}){return"Available options are "+(b?`listed in ${a("green")}`:"marked with ?")+"."}function c$(a,b){if(1===b.length)return b[0];let c=[...b],d=c.pop();return`${c.join(", ")} ${a} ${d}`}w(),r(),s(),t(),u(),w(),r(),s(),t(),u();var c_=class{modelName;name;typeName;isList;isEnum;constructor(a,b,c,d,e){this.modelName=a,this.name=b,this.typeName=c,this.isList=d,this.isEnum=e}_toGraphQLInputType(){let a=this.isList?"List":"",b=this.isEnum?"Enum":"";return`${a}${b}${this.typeName}FieldRefInput<${this.modelName}>`}};function c0(a){return a instanceof c_}w(),r(),s(),t(),u();var c1=Symbol(),c2=new WeakMap,c3=class{constructor(a){a===c1?c2.set(this,`Prisma.${this._getName()}`):c2.set(this,`new Prisma.${this._getNamespace()}.${this._getName()}()`)}_getName(){return this.constructor.name}toString(){return c2.get(this)}},c4=class extends c3{_getNamespace(){return"NullTypes"}},c5=class extends c4{#a};c9(c5,"DbNull");var c6=class extends c4{#a};c9(c6,"JsonNull");var c7=class extends c4{#a};c9(c7,"AnyNull");var c8={classes:{DbNull:c5,JsonNull:c6,AnyNull:c7},instances:{DbNull:new c5(c1),JsonNull:new c6(c1),AnyNull:new c7(c1)}};function c9(a,b){Object.defineProperty(a,"name",{value:b,configurable:!0})}w(),r(),s(),t(),u();var da=class{constructor(a,b){this.name=a,this.value=b}hasError=!1;markAsError(){this.hasError=!0}getPrintWidth(){return this.name.length+this.value.getPrintWidth()+2}write(a){let b=new cO(this.name);this.hasError&&b.underline().setColor(a.context.colors.red),a.write(b).write(": ").write(this.value)}},db=class{arguments;errorMessages=[];constructor(a){this.arguments=a}write(a){a.write(this.arguments)}addErrorMessage(a){this.errorMessages.push(a)}renderAllMessages(a){return this.errorMessages.map(b=>b(a)).join(`
`)}};function dc(a){return new db(dd(a))}function dd(a){let b=new cR;for(let[c,d]of Object.entries(a)){let a=new da(c,function a(b){if("string"==typeof b)return new cS(JSON.stringify(b));if("number"==typeof b||"boolean"==typeof b)return new cS(String(b));if("bigint"==typeof b)return new cS(`${b}n`);if(null===b)return new cS("null");if(void 0===b)return new cS("undefined");if(cx(b))return new cS(`new Prisma.Decimal("${b.toFixed()}")`);if(b instanceof Uint8Array)return new cS(f.Buffer.isBuffer(b)?`Buffer.alloc(${b.byteLength})`:`new Uint8Array(${b.byteLength})`);if(b instanceof Date){let a=a9(b)?b.toISOString():"Invalid Date";return new cS(`new Date("${a}")`)}return b instanceof c3?new cS(`Prisma.${b._getName()}`):c0(b)?new cS(`prisma.${a4(b.modelName)}.$fields.${b.name}`):Array.isArray(b)?function(b){let c=new cQ;for(let d of b)c.addItem(a(d));return c}(b):"object"==typeof b?dd(b):new cS(Object.prototype.toString.call(b))}(d));b.addField(a)}return b}function de(a,b){let c="pretty"===b?cM:cL;return{message:a.renderAllMessages(c),args:new cI(0,{colors:c}).write(a).toString()}}function df({args:a,errors:b,errorFormat:c,callsite:d,originalMethod:e,clientVersion:f,globalOmit:g}){let h=dc(a);for(let a of b)!function a(b,c,d){switch(b.kind){case"MutuallyExclusiveFields":let e;m=b,n=c,(e=n.arguments.getDeepSubSelectionValue(m.selectionPath)?.asObject())&&(e.getField(m.firstField)?.markAsError(),e.getField(m.secondField)?.markAsError()),n.addErrorMessage(a=>`Please ${a.bold("either")} use ${a.green(`\`${m.firstField}\``)} or ${a.green(`\`${m.secondField}\``)}, but ${a.red("not both")} at the same time.`);break;case"IncludeOnScalar":!function(a,b){let[c,d]=cY(a.selectionPath),e=a.outputType,f=b.arguments.getDeepSelectionParent(c)?.value;if(f&&(f.getField(d)?.markAsError(),e))for(let a of e.fields)a.isRelation&&f.addSuggestion(new cH(a.name,"true"));b.addErrorMessage(a=>{let b=`Invalid scalar field ${a.red(`\`${d}\``)} for ${a.bold("include")} statement`;return e?b+=` on model ${a.bold(e.name)}. ${cZ(a)}`:b+=".",b+=`
Note that ${a.bold("include")} statements only accept relation fields.`})}(b,c);break;case"EmptySelection":!function(a,b,c){let d=b.arguments.getDeepSubSelectionValue(a.selectionPath)?.asObject();if(d){let c=d.getField("omit")?.value.asObject();if(c){var e,f,g=a,h=b,i=c;for(let a of(i.removeAllFields(),g.outputType.fields))i.addSuggestion(new cH(a.name,"false"));h.addErrorMessage(a=>`The ${a.red("omit")} statement includes every field of the model ${a.bold(g.outputType.name)}. At least one field must be included in the result`);return}if(d.hasField("select")){let c,d,g;return e=a,f=b,c=e.outputType,d=f.arguments.getDeepSelectionParent(e.selectionPath)?.value,g=d?.isEmpty()??!1,d&&(d.removeAllFields(),cV(d,c)),f.addErrorMessage(a=>g?`The ${a.red("`select`")} statement for type ${a.bold(c.name)} must not be empty. ${cZ(a)}`:`The ${a.red("`select`")} statement for type ${a.bold(c.name)} needs ${a.bold("at least one truthy value")}.`)}}c?.[a4(a.outputType.name)]?function(a,b){let c=new cT;for(let b of a.outputType.fields)b.isRelation||c.addField(b.name,"false");let d=new cH("omit",c).makeRequired();if(0===a.selectionPath.length)b.arguments.addSuggestion(d);else{let[c,e]=cY(a.selectionPath),f=b.arguments.getDeepSelectionParent(c)?.value.asObject()?.getField(e);if(f){let a=f?.value.asObject()??new cR;a.addSuggestion(d),f.value=a}}b.addErrorMessage(b=>`The global ${b.red("omit")} configuration excludes every field of the model ${b.bold(a.outputType.name)}. At least one field must be included in the result`)}(a,b):b.addErrorMessage(()=>`Unknown field at "${a.selectionPath.join(".")} selection"`)}(b,c,d);break;case"UnknownSelectionField":!function(a,b){let c=cW(a.selectionPath,b);if("unknown"!==c.parentKind){c.field.markAsError();let b=c.parent;switch(c.parentKind){case"select":cV(b,a.outputType);break;case"include":var d=b,e=a.outputType;for(let a of e.fields)a.isRelation&&!d.hasField(a.name)&&d.addSuggestion(new cH(a.name,"true"));break;case"omit":var f=b,g=a.outputType;for(let a of g.fields)f.hasField(a.name)||a.isRelation||f.addSuggestion(new cH(a.name,"true"))}}b.addErrorMessage(b=>{let d=[`Unknown field ${b.red(`\`${c.fieldName}\``)}`];return"unknown"!==c.parentKind&&d.push(`for ${b.bold(c.parentKind)} statement`),d.push(`on model ${b.bold(`\`${a.outputType.name}\``)}.`),d.push(cZ(b)),d.join(" ")})}(b,c);break;case"InvalidSelectionValue":let f;o=b,p=c,"unknown"!==(f=cW(o.selectionPath,p)).parentKind&&f.field.value.markAsError(),p.addErrorMessage(a=>`Invalid value for selection field \`${a.red(f.fieldName)}\`: ${o.underlyingError}`);break;case"UnknownArgument":let g,h;q=b,r=c,g=q.argumentPath[0],(h=r.arguments.getDeepSubSelectionValue(q.selectionPath)?.asObject())&&(h.getField(g)?.markAsError(),function(a,b){for(let c of b)a.hasField(c.name)||a.addSuggestion(new cH(c.name,c.typeNames.join(" | ")))}(h,q.arguments)),r.addErrorMessage(a=>cU(a,g,q.arguments.map(a=>a.name)));break;case"UnknownInputField":!function(a,b){let[c,d]=cY(a.argumentPath),e=b.arguments.getDeepSubSelectionValue(a.selectionPath)?.asObject();if(e){e.getDeepField(a.argumentPath)?.markAsError();let b=e.getDeepFieldValue(c)?.asObject();b&&cX(b,a.inputType)}b.addErrorMessage(b=>cU(b,d,a.inputType.fields.map(a=>a.name)))}(b,c);break;case"RequiredArgumentMissing":!function(a,b){let c;b.addErrorMessage(a=>c?.value instanceof cS&&"null"===c.value.text?`Argument \`${a.green(f)}\` must not be ${a.red("null")}.`:`Argument \`${a.green(f)}\` is missing.`);let d=b.arguments.getDeepSubSelectionValue(a.selectionPath)?.asObject();if(!d)return;let[e,f]=cY(a.argumentPath),g=new cT,h=d.getDeepFieldValue(e)?.asObject();if(h){if((c=h.getField(f))&&h.removeField(f),1===a.inputTypes.length&&"object"===a.inputTypes[0].kind){for(let b of a.inputTypes[0].fields)g.addField(b.name,b.typeNames.join(" | "));h.addSuggestion(new cH(f,g).makeRequired())}else{let b=a.inputTypes.map(function a(b){return"list"===b.kind?`${a(b.elementType)}[]`:b.name}).join(" | ");h.addSuggestion(new cH(f,b).makeRequired())}if(a.dependentArgumentPath){d.getDeepField(a.dependentArgumentPath)?.markAsError();let[,c]=cY(a.dependentArgumentPath);b.addErrorMessage(a=>`Argument \`${a.green(f)}\` is required because argument \`${a.green(c)}\` was provided.`)}}}(b,c);break;case"InvalidArgumentType":let i,j;s=b,t=c,i=s.argument.name,(j=t.arguments.getDeepSubSelectionValue(s.selectionPath)?.asObject())&&j.getDeepFieldValue(s.argumentPath)?.markAsError(),t.addErrorMessage(a=>{let b=c$("or",s.argument.typeNames.map(b=>a.green(b)));return`Argument \`${a.bold(i)}\`: Invalid value provided. Expected ${b}, provided ${a.red(s.inferredType)}.`});break;case"InvalidArgumentValue":let k,l;u=b,v=c,k=u.argument.name,(l=v.arguments.getDeepSubSelectionValue(u.selectionPath)?.asObject())&&l.getDeepFieldValue(u.argumentPath)?.markAsError(),v.addErrorMessage(a=>{let b=[`Invalid value for argument \`${a.bold(k)}\``];if(u.underlyingError&&b.push(`: ${u.underlyingError}`),b.push("."),u.argument.typeNames.length>0){let c=c$("or",u.argument.typeNames.map(b=>a.green(b)));b.push(` Expected ${c}.`)}return b.join("")});break;case"ValueTooLarge":var m,n,o,p,q,r,s,t,u,v,w=b,x=c;let y=w.argument.name,z=x.arguments.getDeepSubSelectionValue(w.selectionPath)?.asObject(),A;if(z){let a=z.getDeepField(w.argumentPath)?.value;a?.markAsError(),a instanceof cS&&(A=a.text)}x.addErrorMessage(a=>{let b=["Unable to fit value"];return A&&b.push(a.red(A)),b.push(`into a 64-bit signed integer for field \`${a.bold(y)}\``),b.join(" ")});break;case"SomeFieldsMissing":var B=b,C=c;let D=B.argumentPath[B.argumentPath.length-1],E=C.arguments.getDeepSubSelectionValue(B.selectionPath)?.asObject();if(E){let a=E.getDeepFieldValue(B.argumentPath)?.asObject();a&&cX(a,B.inputType)}C.addErrorMessage(a=>{let b=[`Argument \`${a.bold(D)}\` of type ${a.bold(B.inputType.name)} needs`];return 1===B.constraints.minFieldCount?B.constraints.requiredFields?b.push(`${a.green("at least one of")} ${c$("or",B.constraints.requiredFields.map(b=>`\`${a.bold(b)}\``))} arguments.`):b.push(`${a.green("at least one")} argument.`):b.push(`${a.green(`at least ${B.constraints.minFieldCount}`)} arguments.`),b.push(cZ(a)),b.join(" ")});break;case"TooManyFieldsGiven":var F=b,G=c;let H=F.argumentPath[F.argumentPath.length-1],I=G.arguments.getDeepSubSelectionValue(F.selectionPath)?.asObject(),J=[];if(I){let a=I.getDeepFieldValue(F.argumentPath)?.asObject();a&&(a.markAsError(),J=Object.keys(a.getFields()))}G.addErrorMessage(a=>{let b=[`Argument \`${a.bold(H)}\` of type ${a.bold(F.inputType.name)} needs`];return 1===F.constraints.minFieldCount&&1==F.constraints.maxFieldCount?b.push(`${a.green("exactly one")} argument,`):1==F.constraints.maxFieldCount?b.push(`${a.green("at most one")} argument,`):b.push(`${a.green(`at most ${F.constraints.maxFieldCount}`)} arguments,`),b.push(`but you provided ${c$("and",J.map(b=>a.red(b)))}. Please choose`),1===F.constraints.maxFieldCount?b.push("one."):b.push(`${F.constraints.maxFieldCount}.`),b.join(" ")});break;case"Union":let K;(K=function(a){var b=(a,b)=>{let c=cF(a),d=cF(b);return c!==d?c-d:cG(a)-cG(b)};if(0===a.length)return;let c=a[0];for(let d=1;d<a.length;d++)0>b(c,a[d])&&(c=a[d]);return c}(function(a){let b=new Map,c=[];for(let f of a){var d,e;if("InvalidArgumentType"!==f.kind){c.push(f);continue}let a=`${f.selectionPath.join(".")}:${f.argumentPath.join(".")}`,g=b.get(a);g?b.set(a,{...f,argument:{...f.argument,typeNames:(d=g.argument.typeNames,e=f.argument.typeNames,[...new Set(d.concat(e))])}}):b.set(a,f)}return c.push(...b.values()),c}(function a(b){return b.errors.flatMap(b=>"Union"===b.kind?a(b):[b])}(b))))?a(K,c,d):c.addErrorMessage(()=>"Unknown error");break;default:throw Error("not implemented: "+b.kind)}}(a,h,g);let{message:i,args:j}=de(h,c);throw new a2(cD({message:i,callsite:d,originalMethod:e,showColors:"pretty"===c,callArguments:j}),{clientVersion:f})}function dg(a){return a.replace(/^./,a=>a.toLowerCase())}function dh(a,b,c){return c?aW(c,({needs:a,compute:c},d)=>{var e,f,g;let h;return{name:d,needs:a?Object.keys(a).filter(b=>a[b]):[],compute:(e=b,f=d,g=c,(h=e?.[f]?.compute)?a=>g({...a,[f]:h(a)}):g)}}):{}}w(),r(),s(),t(),u(),w(),r(),s(),t(),u(),w(),r(),s(),t(),u();var di=class{constructor(a,b){this.extension=a,this.previous=b}computedFieldsCache=new a3;modelExtensionsCache=new a3;queryCallbacksCache=new a3;clientExtensions=a5(()=>this.extension.client?{...this.previous?.getAllClientExtensions(),...this.extension.client}:this.previous?.getAllClientExtensions());batchCallbacks=a5(()=>{let a=this.previous?.getAllBatchQueryCallbacks()??[],b=this.extension.query?.$__internalBatch;return b?a.concat(b):a});getAllComputedFields(a){return this.computedFieldsCache.getOrCreate(a,()=>{var b,c,d;let e,f,g;return b=this.previous?.getAllComputedFields(a),c=this.extension,e=dg(a),c.result&&(c.result.$allModels||c.result[e])?(d={...b,...dh(c.name,b,c.result.$allModels),...dh(c.name,b,c.result[e])},f=new a3,g=(a,b)=>f.getOrCreate(a,()=>b.has(a)?[a]:(b.add(a),d[a]?d[a].needs.flatMap(a=>g(a,b)):[a])),aW(d,a=>({...a,needs:g(a.name,new Set)}))):b})}getAllClientExtensions(){return this.clientExtensions.get()}getAllModelExtensions(a){return this.modelExtensionsCache.getOrCreate(a,()=>{let b=dg(a);return this.extension.model&&(this.extension.model[b]||this.extension.model.$allModels)?{...this.previous?.getAllModelExtensions(a),...this.extension.model.$allModels,...this.extension.model[b]}:this.previous?.getAllModelExtensions(a)})}getAllQueryCallbacks(a,b){return this.queryCallbacksCache.getOrCreate(`${a}:${b}`,()=>{let c=this.previous?.getAllQueryCallbacks(a,b)??[],d=[],e=this.extension.query;return e&&(e[a]||e.$allModels||e[b]||e.$allOperations)?(void 0!==e[a]&&(void 0!==e[a][b]&&d.push(e[a][b]),void 0!==e[a].$allOperations&&d.push(e[a].$allOperations)),"$none"!==a&&void 0!==e.$allModels&&(void 0!==e.$allModels[b]&&d.push(e.$allModels[b]),void 0!==e.$allModels.$allOperations&&d.push(e.$allModels.$allOperations)),void 0!==e[b]&&d.push(e[b]),void 0!==e.$allOperations&&d.push(e.$allOperations),c.concat(d)):c})}getAllBatchQueryCallbacks(){return this.batchCallbacks.get()}},dj=class a{constructor(a){this.head=a}static empty(){return new a}static single(b){return new a(new di(b))}isEmpty(){return void 0===this.head}append(b){return new a(new di(b,this.head))}getAllComputedFields(a){return this.head?.getAllComputedFields(a)}getAllClientExtensions(){return this.head?.getAllClientExtensions()}getAllModelExtensions(a){return this.head?.getAllModelExtensions(a)}getAllQueryCallbacks(a,b){return this.head?.getAllQueryCallbacks(a,b)??[]}getAllBatchQueryCallbacks(){return this.head?.getAllBatchQueryCallbacks()??[]}};w(),r(),s(),t(),u();var dk=class{constructor(a){this.name=a}};function dl(a){return new dk(a)}w(),r(),s(),t(),u(),w(),r(),s(),t(),u();var dm=Symbol(),dn=class{constructor(a){if(a!==dm)throw Error("Skip instance can not be constructed directly")}ifUndefined(a){return void 0===a?dp:a}},dp=new dn(dm);function dq(a){return a instanceof dn}var dr={findUnique:"findUnique",findUniqueOrThrow:"findUniqueOrThrow",findFirst:"findFirst",findFirstOrThrow:"findFirstOrThrow",findMany:"findMany",count:"aggregate",create:"createOne",createMany:"createMany",createManyAndReturn:"createManyAndReturn",update:"updateOne",updateMany:"updateMany",updateManyAndReturn:"updateManyAndReturn",upsert:"upsertOne",delete:"deleteOne",deleteMany:"deleteMany",executeRaw:"executeRaw",queryRaw:"queryRaw",aggregate:"aggregate",groupBy:"groupBy",runCommandRaw:"runCommandRaw",findRaw:"findRaw",aggregateRaw:"aggregateRaw"},ds="explicitly `undefined` values are not allowed";function dt({modelName:a,action:b,args:c,runtimeDataModel:d,extensions:e=dj.empty(),callsite:f,clientMethod:g,errorFormat:h,clientVersion:i,previewFeatures:j,globalOmit:k}){let l=new dw({runtimeDataModel:d,modelName:a,action:b,rootArgs:c,callsite:f,extensions:e,selectionPath:[],argumentPath:[],originalMethod:g,errorFormat:h,clientVersion:i,previewFeatures:j,globalOmit:k});return{modelName:a,action:dr[b],query:function a({select:b,include:c,...d}={},e){var f,g,h,i,j,k,l;let m,n=d.omit;return delete d.omit,{arguments:du(d,e),selection:(f=b,g=c,h=n,i=e,f?(g?i.throwValidationError({kind:"MutuallyExclusiveFields",firstField:"include",secondField:"select",selectionPath:i.getSelectionPath()}):h&&i.throwValidationError({kind:"MutuallyExclusiveFields",firstField:"omit",secondField:"select",selectionPath:i.getSelectionPath()}),function(b,c){let d={},e=c.getComputedFields();for(let[f,g]of Object.entries(function(a,b){if(!b)return a;let c={...a};for(let d of Object.values(b))if(a[d.name])for(let a of d.needs)c[a]=!0;return c}(b,e))){if(dq(g))continue;let b=c.nestSelection(f);dv(g,b);let h=c.findField(f);if(!(e?.[f]&&!h)){if(!1===g||void 0===g||dq(g)){d[f]=!1;continue}if(!0===g){h?.kind==="object"?d[f]=a({},b):d[f]=!0;continue}d[f]=a(g,b)}}return d}(f,i)):(j=i,k=g,l=h,m={},j.modelOrType&&!j.isRawAction()&&(m.$composites=!0,m.$scalars=!0),k&&function(b,c,d){for(let[e,f]of Object.entries(c)){if(dq(f))continue;let c=d.nestSelection(e);if(dv(f,c),!1===f||void 0===f){b[e]=!1;continue}let g=d.findField(e);if(g&&"object"!==g.kind&&d.throwValidationError({kind:"IncludeOnScalar",selectionPath:d.getSelectionPath().concat(e),outputType:d.getOutputTypeDescription()}),g){b[e]=a(!0===f?{}:f,c);continue}if(!0===f){b[e]=!0;continue}b[e]=a(f,c)}}(m,k,j),function(a,b,c){let d=c.getComputedFields();for(let[e,f]of Object.entries(function(a,b){if(!b)return a;let c={...a};for(let d of Object.values(b))if(!a[d.name])for(let a of d.needs)delete c[a];return c}({...c.getGlobalOmit(),...b},d))){if(dq(f))continue;dv(f,c.nestSelection(e));let b=c.findField(e);d?.[e]&&!b||(a[e]=!f)}}(m,l,j),m))}}(c,l)}}function du(a,b){if(a.$type)return{$type:"Raw",value:a};let c={};for(let d in a){let e=a[d],g=b.nestArgument(d);dq(e)||(void 0!==e?c[d]=function a(b,c){var d,e;if(null===b)return null;if("string"==typeof b||"number"==typeof b||"boolean"==typeof b)return b;if("bigint"==typeof b)return{$type:"BigInt",value:String(b)};if(a8(b)){if(a9(b))return{$type:"DateTime",value:b.toISOString()};c.throwValidationError({kind:"InvalidArgumentValue",selectionPath:c.getSelectionPath(),argumentPath:c.getArgumentPath(),argument:{name:c.getArgumentName(),typeNames:["Date"]},underlyingError:"Provided Date object is invalid"})}if(b instanceof dk)return{$type:"Param",value:b.name};if(c0(b))return{$type:"FieldRef",value:{_ref:b.name,_container:b.modelName}};if(Array.isArray(b))return function(b,c){let d=[];for(let e=0;e<b.length;e++){let f=c.nestArgument(String(e)),g=b[e];if(void 0===g||dq(g)){let a=void 0===g?"undefined":"Prisma.skip";c.throwValidationError({kind:"InvalidArgumentValue",selectionPath:f.getSelectionPath(),argumentPath:f.getArgumentPath(),argument:{name:`${c.getArgumentName()}[${e}]`,typeNames:[]},underlyingError:`Can not use \`${a}\` value within array. Use \`null\` or filter out \`${a}\` values`})}d.push(a(g,f))}return d}(b,c);if(ArrayBuffer.isView(b)){let{buffer:a,byteOffset:c,byteLength:d}=b;return{$type:"Bytes",value:f.Buffer.from(a,c,d).toString("base64")}}if("object"==typeof(d=b)&&null!==d&&!0===d.__prismaRawParameters__)return b.values;if(cx(b))return{$type:"Decimal",value:b.toFixed()};if(b instanceof c3){if(b!==c8.instances[b._getName()])throw Error("Invalid ObjectEnumValue");return{$type:"Enum",value:b._getName()}}return"object"==typeof(e=b)&&null!==e&&"function"==typeof e.toJSON?b.toJSON():"object"==typeof b?du(b,c):void c.throwValidationError({kind:"InvalidArgumentValue",selectionPath:c.getSelectionPath(),argumentPath:c.getArgumentPath(),argument:{name:c.getArgumentName(),typeNames:[]},underlyingError:`We could not serialize ${Object.prototype.toString.call(b)} value. Serialize the object to JSON or implement a ".toJSON()" method on it`})}(e,g):b.isPreviewFeatureOn("strictUndefinedChecks")&&b.throwValidationError({kind:"InvalidArgumentValue",argumentPath:g.getArgumentPath(),selectionPath:b.getSelectionPath(),argument:{name:b.getArgumentName(),typeNames:[]},underlyingError:ds}))}return c}function dv(a,b){void 0===a&&b.isPreviewFeatureOn("strictUndefinedChecks")&&b.throwValidationError({kind:"InvalidSelectionValue",selectionPath:b.getSelectionPath(),underlyingError:ds})}var dw=class a{constructor(a){this.params=a,this.params.modelName&&(this.modelOrType=this.params.runtimeDataModel.models[this.params.modelName]??this.params.runtimeDataModel.types[this.params.modelName])}modelOrType;throwValidationError(a){df({errors:[a],originalMethod:this.params.originalMethod,args:this.params.rootArgs??{},callsite:this.params.callsite,errorFormat:this.params.errorFormat,clientVersion:this.params.clientVersion,globalOmit:this.params.globalOmit})}getSelectionPath(){return this.params.selectionPath}getArgumentPath(){return this.params.argumentPath}getArgumentName(){return this.params.argumentPath[this.params.argumentPath.length-1]}getOutputTypeDescription(){if(!(!this.params.modelName||!this.modelOrType))return{name:this.params.modelName,fields:this.modelOrType.fields.map(a=>({name:a.name,typeName:"boolean",isRelation:"object"===a.kind}))}}isRawAction(){return["executeRaw","queryRaw","runCommandRaw","findRaw","aggregateRaw"].includes(this.params.action)}isPreviewFeatureOn(a){return this.params.previewFeatures.includes(a)}getComputedFields(){if(this.params.modelName)return this.params.extensions.getAllComputedFields(this.params.modelName)}findField(a){return this.modelOrType?.fields.find(b=>b.name===a)}nestSelection(b){let c=this.findField(b),d=c?.kind==="object"?c.type:void 0;return new a({...this.params,modelName:d,selectionPath:this.params.selectionPath.concat(b)})}getGlobalOmit(){return this.params.modelName&&this.shouldApplyGlobalOmit()?this.params.globalOmit?.[a4(this.params.modelName)]??{}:{}}shouldApplyGlobalOmit(){switch(this.params.action){case"findFirst":case"findFirstOrThrow":case"findUniqueOrThrow":case"findMany":case"upsert":case"findUnique":case"createManyAndReturn":case"create":case"update":case"updateManyAndReturn":case"delete":return!0;case"executeRaw":case"aggregateRaw":case"runCommandRaw":case"findRaw":case"createMany":case"deleteMany":case"groupBy":case"updateMany":case"count":case"aggregate":case"queryRaw":return!1;default:aU(this.params.action,"Unknown action")}}nestArgument(b){return new a({...this.params,argumentPath:this.params.argumentPath.concat(b)})}};function dx(a){if(!a._hasPreviewFlag("metrics"))throw new a2("`metrics` preview feature must be enabled in order to access metrics API",{clientVersion:a._clientVersion})}w(),r(),s(),t(),u();var dy=class{_client;constructor(a){this._client=a}prometheus(a){return dx(this._client),this._client._engine.metrics({format:"prometheus",...a})}json(a){return dx(this._client),this._client._engine.metrics({format:"json",...a})}};function dz(a,b){let c=a5(()=>{var a;return{datamodel:{models:dA((a=b).models),enums:dA(a.enums),types:dA(a.types)}}});Object.defineProperty(a,"dmmf",{get:()=>c.get()})}function dA(a){return Object.entries(a).map(([a,b])=>({name:a,...b}))}w(),r(),s(),t(),u(),w(),r(),s(),t(),u();var dB=new WeakMap,dC="$$PrismaTypedSql",dD=class{constructor(a,b){dB.set(this,{sql:a,values:b}),Object.defineProperty(this,dC,{value:dC})}get sql(){return dB.get(this).sql}get values(){return dB.get(this).values}};function dE(a){return(...b)=>new dD(a,b)}function dF(a){return null!=a&&a[dC]===dC}w(),r(),s(),t(),u();var dG=q($());w(),r(),s(),t(),u(),ae(),P(),Z(),w(),r(),s(),t(),u();var dH=class a{constructor(b,c){if(b.length-1!==c.length)throw 0===b.length?TypeError("Expected at least 1 string"):TypeError(`Expected ${b.length} strings to have ${b.length-1} values`);let d=c.reduce((b,c)=>b+(c instanceof a?c.values.length:1),0);this.values=Array(d),this.strings=Array(d+1),this.strings[0]=b[0];let e=0,f=0;for(;e<c.length;){let d=c[e++],g=b[e];if(d instanceof a){this.strings[f]+=d.strings[0];let a=0;for(;a<d.values.length;)this.values[f++]=d.values[a++],this.strings[f]=d.strings[a];this.strings[f]+=g}else this.values[f++]=d,this.strings[f]=g}}get sql(){let a=this.strings.length,b=1,c=this.strings[0];for(;b<a;)c+=`?${this.strings[b++]}`;return c}get statement(){let a=this.strings.length,b=1,c=this.strings[0];for(;b<a;)c+=`:${b}${this.strings[b++]}`;return c}get text(){let a=this.strings.length,b=1,c=this.strings[0];for(;b<a;)c+=`$${b}${this.strings[b++]}`;return c}inspect(){return{sql:this.sql,statement:this.statement,text:this.text,values:this.values}}};function dI(a,b=",",c="",d=""){if(0===a.length)throw TypeError("Expected `join([])` to be called with an array of multiple elements, but got an empty array");return new dH([c,...Array(a.length-1).fill(b),d],a)}function dJ(a){return new dH([a],[])}var dK=dJ("");function dL(a,...b){return new dH(a,b)}function dM(a){return{getKeys:()=>Object.keys(a),getPropertyValue:b=>a[b]}}function dN(a,b){return{getKeys:()=>[a],getPropertyValue:()=>b()}}function dO(a){let b=new a3;return{getKeys:()=>a.getKeys(),getPropertyValue:c=>b.getOrCreate(c,()=>a.getPropertyValue(c)),getPropertyDescriptor:b=>a.getPropertyDescriptor?.(b)}}w(),r(),s(),t(),u(),w(),r(),s(),t(),u(),w(),r(),s(),t(),u(),w(),r(),s(),t(),u(),w(),r(),s(),t(),u(),w(),r(),s(),t(),u();var dP={enumerable:!0,configurable:!0,writable:!0};function dQ(a){let b=new Set(a);return{getPrototypeOf:()=>Object.prototype,getOwnPropertyDescriptor:()=>dP,has:(a,c)=>b.has(c),set:(a,c,d)=>b.add(c)&&Reflect.set(a,c,d),ownKeys:()=>[...b]}}var dR=Symbol.for("nodejs.util.inspect.custom");function dS(a,b){let c=function(a){let b=new Map;for(let c of a)for(let a of c.getKeys())b.set(a,c);return b}(b),d=new Set,e=new Proxy(a,{get(a,b){if(d.has(b))return a[b];let e=c.get(b);return e?e.getPropertyValue(b):a[b]},has(a,b){if(d.has(b))return!0;let e=c.get(b);return e?e.has?.(b)??!0:Reflect.has(a,b)},ownKeys:a=>[...new Set([...dT(Reflect.ownKeys(a),c),...dT(Array.from(c.keys()),c),...d])],set:(a,b,e)=>c.get(b)?.getPropertyDescriptor?.(b)?.writable!==!1&&(d.add(b),Reflect.set(a,b,e)),getOwnPropertyDescriptor(a,b){let d=Reflect.getOwnPropertyDescriptor(a,b);if(d&&!d.configurable)return d;let e=c.get(b);return e?e.getPropertyDescriptor?{...dP,...e?.getPropertyDescriptor(b)}:dP:d},defineProperty:(a,b,c)=>(d.add(b),Reflect.defineProperty(a,b,c)),getPrototypeOf:()=>Object.prototype});return e[dR]=function(){let a={...this};return delete a[dR],a},e}function dT(a,b){return a.filter(a=>b.get(a)?.has?.(a)??!0)}function dU(a){return{getKeys:()=>a,has:()=>!1,getPropertyValue(){}}}function dV(a,b){return{batch:a,transaction:b?.kind==="batch"?{isolationLevel:b.options.isolationLevel}:void 0}}function dW({error:a,user_facing_error:b},c,d){var e,f;let g;return b.error_code?new a_((e=b,f=d,g=e.message,("postgresql"===f||"postgres"===f||"mysql"===f)&&"P2037"===e.error_code&&(g+=`
Prisma Accelerate has built-in connection pooling to prevent such errors: https://pris.ly/client/error-accelerate`),g),{code:b.error_code,clientVersion:c,meta:b.meta,batchRequestIdx:b.batch_request_idx}):new a1(a,{clientVersion:c,batchRequestIdx:b.batch_request_idx})}w(),r(),s(),t(),u(),w(),r(),s(),t(),u(),w(),r(),s(),t(),u(),w(),r(),s(),t(),u(),w(),r(),s(),t(),u(),w(),r(),s(),t(),u(),w(),r(),s(),t(),u(),w(),r(),s(),t(),u(),w(),r(),s(),t(),u();var dX=class{getLocation(){return null}};function dY(a){return"function"==typeof $EnabledCallSite&&"minimal"!==a?new $EnabledCallSite:new dX}w(),r(),s(),t(),u(),w(),r(),s(),t(),u(),w(),r(),s(),t(),u();var dZ={_avg:!0,_count:!0,_sum:!0,_min:!0,_max:!0};function d$(a={}){return Object.entries(function(a={}){return"boolean"==typeof a._count?{...a,_count:{_all:a._count}}:a}(a)).reduce((a,[b,c])=>(void 0!==dZ[b]?a.select[b]={select:c}:a[b]=c,a),{select:{}})}function d_(a={}){return b=>("boolean"==typeof a._count&&(b._count=b._count._all),b)}function d0(a={}){let{select:b,...c}=a;return"object"==typeof b?d$({...c,_count:b}):d$({...c,_count:{_all:!0}})}function d1(a={}){let b=d$(a);if(Array.isArray(b.by))for(let a of b.by)"string"==typeof a&&(b.select[a]=!0);else"string"==typeof b.by&&(b.select[b.by]=!0);return b}w(),r(),s(),t(),u(),w(),r(),s(),t(),u(),w(),r(),s(),t(),u(),w(),r(),s(),t(),u(),w(),r(),s(),t(),u();var d2=a=>Array.isArray(a)?a:a.split("."),d3=(a,b)=>d2(b).reduce((a,b)=>a&&a[b],a),d4=["findUnique","findUniqueOrThrow","findFirst","findFirstOrThrow","create","update","upsert","delete"],d5=["aggregate","count","groupBy"];function d6(a,b){var c,d,e,f;let g,h,i=a._extensions.getAllModelExtensions(b)??{};return dS({},[(c=a,g=dg(d=b),h=Object.keys(cA).concat("count"),{getKeys:()=>h,getPropertyValue(a){var b;let e=b=>e=>{let f=dY(c._errorFormat);return c._createPrismaPromise(h=>{let i={args:e,dataPath:[],action:a,model:d,clientMethod:`${g}.${a}`,jsModelName:g,transaction:h,callsite:f};return c._request({...i,...b})},{action:a,args:e,model:d})};return d4.includes(a)?function a(b,c,d,e,f,g){let h=b._runtimeDataModel.models[c].fields.reduce((a,b)=>({...a,[b.name]:b}),{});return i=>{var j,k;let l,m=dY(b._errorFormat),n=void 0===e||void 0===f?[]:[...f,"select",e],o=void 0===g?i??{}:(l=i||!0,d2(n).reduceRight((a,b,c,d)=>Object.assign({},d3(g,d.slice(0,c)),{[b]:a}),l)),p=d({dataPath:n,callsite:m})(o),q=(j=b,k=c,j._runtimeDataModel.models[k].fields.filter(a=>"object"===a.kind).map(a=>a.name));return new Proxy(p,{get:(c,e)=>q.includes(e)?a(b,h[e].type,d,e,n,o):c[e],...dQ([...q,...Object.getOwnPropertyNames(p)])})}}(c,d,e):(b=a,d5.includes(b))?"aggregate"===a?a=>e({action:"aggregate",unpacker:d_(a),argsMapper:d$})(a):"count"===a?a=>e({action:"count",unpacker:function(a={}){return"object"==typeof a.select?b=>d_(a)(b)._count:b=>d_(a)(b)._count._all}(a),argsMapper:d0})(a):"groupBy"===a?a=>e({action:"groupBy",unpacker:function(a={}){return b=>("boolean"==typeof a?._count&&b.forEach(a=>{a._count=a._count._all}),b)}(a),argsMapper:d1})(a):void 0:e({})}}),(e=a,f=b,dO(dN("fields",()=>{let a,b=e._runtimeDataModel.models[f];return new Proxy({},{get(b,c){if(c in b||"symbol"==typeof c)return b[c];let d=a[c];if(d)return new c_(f,c,d.type,d.isList,"enum"===d.kind)},...dQ(Object.keys(a=function(a,b){let c={};for(let d of a)c[d[b]]=d;return c}(b.fields.filter(a=>!a.relationName),"name")))})}))),dM(i),dN("name",()=>b),dN("$name",()=>b),dN("$parent",()=>a._appliedParent)])}w(),r(),s(),t(),u();var d7=Symbol();function d8(a){var b,c;let d,e,f,g,h=[(d=[...new Set(Object.getOwnPropertyNames(Object.getPrototypeOf((b=a)._originalClient)))],{getKeys:()=>d,getPropertyValue:a=>b[a]}),(f=(e=Object.keys((c=a)._runtimeDataModel.models)).map(dg),g=[...new Set(e.concat(f))],dO({getKeys:()=>g,getPropertyValue(a){let b=a.replace(/^./,a=>a.toUpperCase());return void 0!==c._runtimeDataModel.models[b]?d6(c,b):void 0!==c._runtimeDataModel.models[a]?d6(c,a):void 0},getPropertyDescriptor(a){if(!f.includes(a))return{enumerable:!1}}})),dN(d7,()=>a),dN("$parent",()=>a._appliedParent)],i=a._extensions.getAllClientExtensions();return i&&h.push(dM(i)),dS(a,h)}function d9(a){if("function"==typeof a)return a(this);if(a.client?.__AccelerateEngine){let b=a.client.__AccelerateEngine;this._originalClient._engine=new b(this._originalClient._accelerateEngineConfig)}return d8(Object.create(this._originalClient,{_extensions:{value:this._extensions.append(a)},_appliedParent:{value:this,configurable:!0},$on:{value:void 0}}))}function ea({visitor:a,result:b,args:c,runtimeDataModel:d,modelName:e}){if(Array.isArray(b)){for(let f=0;f<b.length;f++)b[f]=ea({result:b[f],args:c,modelName:e,runtimeDataModel:d,visitor:a});return b}let f=a(b,e,c)??b;return c.include&&eb({includeOrSelect:c.include,result:f,parentModelName:e,runtimeDataModel:d,visitor:a}),c.select&&eb({includeOrSelect:c.select,result:f,parentModelName:e,runtimeDataModel:d,visitor:a}),f}function eb({includeOrSelect:a,result:b,parentModelName:c,runtimeDataModel:d,visitor:e}){for(let[f,g]of Object.entries(a)){if(!g||null==b[f]||dq(g))continue;let a=d.models[c].fields.find(a=>a.name===f);if(!a||"object"!==a.kind||!a.relationName)continue;let h="object"==typeof g?g:{};b[f]=ea({visitor:e,result:b[f],args:h,modelName:a.type,runtimeDataModel:d})}}w(),r(),s(),t(),u(),w(),r(),s(),t(),u(),w(),r(),s(),t(),u(),w(),r(),s(),t(),u(),w(),r(),s(),t(),u(),w(),r(),s(),t(),u();var ec=["$connect","$disconnect","$on","$transaction","$extends"];function ed(a){if("object"!=typeof a||null==a||a instanceof c3||c0(a))return a;if(cx(a))return new cw(a.toFixed());if(a8(a))return new Date(+a);if(ArrayBuffer.isView(a))return a.slice(0);if(Array.isArray(a)){let b=a.length,c;for(c=Array(b);b--;)c[b]=ed(a[b]);return c}if("object"==typeof a){let b={};for(let c in a)"__proto__"===c?Object.defineProperty(b,c,{value:ed(a[c]),configurable:!0,enumerable:!0,writable:!0}):b[c]=ed(a[c]);return b}aU(a,"Unknown value")}var ee=a=>a;function ef(a=ee,b=ee){return c=>a(b(c))}w(),r(),s(),t(),u();var eg=aH("prisma:client"),eh={Vercel:"vercel","Netlify CI":"netlify"};function ei(a){return null===a?a:Array.isArray(a)?a.map(ei):"object"==typeof a?null!==a&&"object"==typeof a&&"string"==typeof a.$type?function({$type:a,value:b}){switch(a){case"BigInt":return BigInt(b);case"Bytes":{let{buffer:a,byteOffset:c,byteLength:d}=f.Buffer.from(b,"base64");return new Uint8Array(a,c,d)}case"DateTime":return new Date(b);case"Decimal":return new cv(b);case"Json":return JSON.parse(b);default:throw Error("Unknown tagged value")}}(a):null!==a.constructor&&"Object"!==a.constructor.name?a:function(a,b){let c={};for(let d of Object.keys(a))c[d]=b(a[d],d);return c}(a,ei):a}w(),r(),s(),t(),u(),w(),r(),s(),t(),u(),w(),r(),s(),t(),u(),w(),r(),s(),t(),u(),w(),r(),s(),t(),u(),w(),r(),s(),t(),u(),w(),r(),s(),t(),u(),w(),r(),s(),t(),u(),w(),r(),s(),t(),u();var ej=()=>globalThis.process?.release?.name==="node",ek=()=>!!globalThis.Bun||!!globalThis.process?.versions?.bun,el=()=>!!globalThis.Deno,em=()=>"object"==typeof globalThis.Netlify,en=()=>"object"==typeof globalThis.EdgeRuntime,eo=()=>globalThis.navigator?.userAgent==="Cloudflare-Workers",ep={node:"Node.js",workerd:"Cloudflare Workers",deno:"Deno and Deno Deploy",netlify:"Netlify Edge Functions","edge-light":"Edge Runtime (Vercel Edge Functions, Vercel Edge Middleware, Next.js (Pages Router) Edge API Routes, Next.js (App Router) Edge Route Handlers or Next.js Middleware)"};function eq(){let a=[[em,"netlify"],[en,"edge-light"],[eo,"workerd"],[el,"deno"],[ek,"bun"],[ej,"node"]].flatMap(a=>a[0]()?[a[1]]:[]).at(0)??"";return{id:a,prettyName:ep[a]||a,isEdge:["workerd","deno","netlify","edge-light"].includes(a)}}function er({inlineDatasources:a,overrideDatasources:b,env:c,clientVersion:d}){let e,f=Object.keys(a)[0],g=a[f]?.url,h=b[f]?.url;if(void 0===f?e=void 0:h?e=h:g?.value?e=g.value:g?.fromEnvVar&&(e=c[g.fromEnvVar]),g?.fromEnvVar!==void 0&&void 0===e)throw"workerd"===eq().id?new a$(`error: Environment variable not found: ${g.fromEnvVar}.

In Cloudflare module Workers, environment variables are available only in the Worker's \`env\` parameter of \`fetch\`.
To solve this, provide the connection string directly: https://pris.ly/d/cloudflare-datasource-url`,d):new a$(`error: Environment variable not found: ${g.fromEnvVar}.`,d);if(void 0===e)throw new a$("error: Missing URL environment variable, value, or override.",d);return e}w(),r(),s(),t(),u(),w(),r(),s(),t(),u(),w(),r(),s(),t(),u();var es=class extends Error{clientVersion;cause;constructor(a,b){super(a),this.clientVersion=b.clientVersion,this.cause=b.cause}get[Symbol.toStringTag](){return this.name}},et=class extends es{isRetryable;constructor(a,b){super(a,b),this.isRetryable=b.isRetryable??!0}};function eu(a,b){return{...a,isRetryable:b}}w(),r(),s(),t(),u();var ev=class extends et{name="InvalidDatasourceError";code="P6001";constructor(a,b){super(a,eu(b,!1))}};aX(ev,"InvalidDatasourceError"),w(),r(),s(),t(),u();var ew=q(_()),ex=class{apiKey;tracingHelper;logLevel;logQueries;engineHash;constructor({apiKey:a,tracingHelper:b,logLevel:c,logQueries:d,engineHash:e}){this.apiKey=a,this.tracingHelper=b,this.logLevel=c,this.logQueries=d,this.engineHash=e}build({traceparent:a,transactionId:b}={}){let c={Accept:"application/json",Authorization:`Bearer ${this.apiKey}`,"Content-Type":"application/json","Prisma-Engine-Hash":this.engineHash,"Prisma-Engine-Version":ew.enginesVersion};this.tracingHelper.isEnabled()&&(c.traceparent=a??this.tracingHelper.getTraceParent()),b&&(c["X-Transaction-Id"]=b);let d=this.#a();return d.length>0&&(c["X-Capture-Telemetry"]=d.join(", ")),c}#a(){let a=[];return this.tracingHelper.isEnabled()&&a.push("tracing"),this.logLevel&&a.push(this.logLevel),this.logQueries&&a.push("query"),a}};function ey(a){return new Date(1e3*a[0]+a[1]/1e6)}w(),r(),s(),t(),u(),w(),r(),s(),t(),u(),w(),r(),s(),t(),u();var ez=class extends et{name="ForcedRetryError";code="P5001";constructor(a){super("This request must be retried",eu(a,!0))}};aX(ez,"ForcedRetryError"),w(),r(),s(),t(),u();var eA=class extends et{name="NotImplementedYetError";code="P5004";constructor(a,b){super(a,eu(b,!1))}};aX(eA,"NotImplementedYetError"),w(),r(),s(),t(),u(),w(),r(),s(),t(),u();var eB=class extends et{response;constructor(a,b){super(a,b),this.response=b.response;let c=this.response.headers.get("prisma-request-id");if(c){let a=`(The request id was: ${c})`;this.message=this.message+" "+a}}},eC=class extends eB{name="SchemaMissingError";code="P5005";constructor(a){super("Schema needs to be uploaded",eu(a,!0))}};aX(eC,"SchemaMissingError"),w(),r(),s(),t(),u(),w(),r(),s(),t(),u();var eD="This request could not be understood by the server",eE=class extends eB{name="BadRequestError";code="P5000";constructor(a,b,c){super(b||eD,eu(a,!1)),c&&(this.code=c)}};aX(eE,"BadRequestError"),w(),r(),s(),t(),u();var eF=class extends eB{name="HealthcheckTimeoutError";code="P5013";logs;constructor(a,b){super("Engine not started: healthcheck timeout",eu(a,!0)),this.logs=b}};aX(eF,"HealthcheckTimeoutError"),w(),r(),s(),t(),u();var eG=class extends eB{name="EngineStartupError";code="P5014";logs;constructor(a,b,c){super(b,eu(a,!0)),this.logs=c}};aX(eG,"EngineStartupError"),w(),r(),s(),t(),u();var eH=class extends eB{name="EngineVersionNotSupportedError";code="P5012";constructor(a){super("Engine version is not supported",eu(a,!1))}};aX(eH,"EngineVersionNotSupportedError"),w(),r(),s(),t(),u();var eI="Request timed out",eJ=class extends eB{name="GatewayTimeoutError";code="P5009";constructor(a,b=eI){super(b,eu(a,!1))}};aX(eJ,"GatewayTimeoutError"),w(),r(),s(),t(),u();var eK=class extends eB{name="InteractiveTransactionError";code="P5015";constructor(a,b="Interactive transaction error"){super(b,eu(a,!1))}};aX(eK,"InteractiveTransactionError"),w(),r(),s(),t(),u();var eL=class extends eB{name="InvalidRequestError";code="P5011";constructor(a,b="Request parameters are invalid"){super(b,eu(a,!1))}};aX(eL,"InvalidRequestError"),w(),r(),s(),t(),u();var eM="Requested resource does not exist",eN=class extends eB{name="NotFoundError";code="P5003";constructor(a,b=eM){super(b,eu(a,!1))}};aX(eN,"NotFoundError"),w(),r(),s(),t(),u();var eO="Unknown server error",eP=class extends eB{name="ServerError";code="P5006";logs;constructor(a,b,c){super(b||eO,eu(a,!0)),this.logs=c}};aX(eP,"ServerError"),w(),r(),s(),t(),u();var eQ="Unauthorized, check your connection string",eR=class extends eB{name="UnauthorizedError";code="P5007";constructor(a,b=eQ){super(b,eu(a,!1))}};aX(eR,"UnauthorizedError"),w(),r(),s(),t(),u();var eS="Usage exceeded, retry again later",eT=class extends eB{name="UsageExceededError";code="P5008";constructor(a,b=eS){super(b,eu(a,!0))}};async function eU(a){let b;try{b=await a.text()}catch{return{type:"EmptyError"}}try{let a=JSON.parse(b);if("string"==typeof a)if("InternalDataProxyError"===a)return{type:"DataProxyError",body:a};else return{type:"UnknownTextError",body:a};if("object"==typeof a&&null!==a){if("is_panic"in a&&"message"in a&&"error_code"in a)return{type:"QueryEngineError",body:a};if("EngineNotStarted"in a||"InteractiveTransactionMisrouted"in a||"InvalidRequestError"in a){let b=Object.values(a)[0].reason;return"string"!=typeof b||["SchemaMissing","EngineVersionNotSupported"].includes(b)?{type:"DataProxyError",body:a}:{type:"UnknownJsonError",body:a}}}return{type:"UnknownJsonError",body:a}}catch{return""===b?{type:"EmptyError"}:{type:"UnknownTextError",body:b}}}async function eV(a,b){if(a.ok)return;let c={clientVersion:b,response:a},d=await eU(a);if("QueryEngineError"===d.type)throw new a_(d.body.message,{code:d.body.error_code,clientVersion:b});if("DataProxyError"===d.type){if("InternalDataProxyError"===d.body)throw new eP(c,"Internal Data Proxy error");if("EngineNotStarted"in d.body){if("SchemaMissing"===d.body.EngineNotStarted.reason)return new eC(c);if("EngineVersionNotSupported"===d.body.EngineNotStarted.reason)throw new eH(c);if("EngineStartupError"in d.body.EngineNotStarted.reason){let{msg:a,logs:b}=d.body.EngineNotStarted.reason.EngineStartupError;throw new eG(c,a,b)}if("KnownEngineStartupError"in d.body.EngineNotStarted.reason){let{msg:a,error_code:c}=d.body.EngineNotStarted.reason.KnownEngineStartupError;throw new a$(a,b,c)}if("HealthcheckTimeout"in d.body.EngineNotStarted.reason){let{logs:a}=d.body.EngineNotStarted.reason.HealthcheckTimeout;throw new eF(c,a)}}if("InteractiveTransactionMisrouted"in d.body)throw new eK(c,{IDParseError:"Could not parse interactive transaction ID",NoQueryEngineFoundError:"Could not find Query Engine for the specified host and transaction ID",TransactionStartError:"Could not start interactive transaction"}[d.body.InteractiveTransactionMisrouted.reason]);if("InvalidRequestError"in d.body)throw new eL(c,d.body.InvalidRequestError.reason)}if(401===a.status||403===a.status)throw new eR(c,eW(eQ,d));if(404===a.status)return new eN(c,eW(eM,d));if(429===a.status)throw new eT(c,eW(eS,d));if(504===a.status)throw new eJ(c,eW(eI,d));if(a.status>=500)throw new eP(c,eW(eO,d));if(a.status>=400)throw new eE(c,eW(eD,d))}function eW(a,b){return"EmptyError"===b.type?a:`${a}: ${JSON.stringify(b)}`}aX(eT,"UsageExceededError"),w(),r(),s(),t(),u(),w(),r(),s(),t(),u();var eX="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";w(),r(),s(),t(),u(),w(),r(),s(),t(),u();w(),r(),s(),t(),u(),w(),r(),s(),t(),u();var eY=class extends et{name="RequestError";code="P5010";constructor(a,b){super(`Cannot fetch data from service:
${a}`,eu(b,!0))}};async function eZ(a,b,c=a=>a){let{clientVersion:d,...e}=b,f=c(fetch);try{return await f(a,e)}catch(a){throw new eY(a.message??"Unknown error",{clientVersion:d,cause:a})}}aX(eY,"RequestError");var e$=/^[1-9][0-9]*\.[0-9]+\.[0-9]+$/,e_=aH("prisma:client:dataproxyEngine");async function e0(a,b){let d=b.clientVersion??"unknown";if(c.env.PRISMA_CLIENT_DATA_PROXY_CLIENT_VERSION||globalThis.PRISMA_CLIENT_DATA_PROXY_CLIENT_VERSION)return c.env.PRISMA_CLIENT_DATA_PROXY_CLIENT_VERSION||globalThis.PRISMA_CLIENT_DATA_PROXY_CLIENT_VERSION;if(a.includes("accelerate")&&"0.0.0"!==d&&"in-memory"!==d)return d;let[e,f]=d?.split("-")??[];if(void 0===f&&e$.test(e))return e;if(void 0!==f||"0.0.0"===d||"in-memory"===d){var g;let a,[b]="6.18.0-8.34b5a692b7bd79939a9a2c3ef97d816e749cda2f".split("-")??[],[c,e,f]=b.split("."),h=(g=`<=${c}.${e}.${f}`,encodeURI(`https://unpkg.com/prisma@${g}/package.json`)),i=await eZ(h,{clientVersion:d});if(!i.ok)throw Error(`Failed to fetch stable Prisma version, unpkg.com status ${i.status} ${i.statusText}, response body: ${await i.text()||"<empty body>"}`);let j=await i.text();e_("length of body fetched from unpkg.com",j.length);try{a=JSON.parse(j)}catch(a){throw console.error("JSON.parse error: body fetched from unpkg.com: ",j),a}return a.version}throw new eA("Only `major.minor.patch` versions are supported by Accelerate.",{clientVersion:d})}async function e1(a,b){let c=await e0(a,b);return e_("version",c),c}var e2=aH("prisma:client:dataproxyEngine"),e3=class{name="DataProxyEngine";inlineSchema;inlineSchemaHash;inlineDatasources;config;logEmitter;env;clientVersion;engineHash;tracingHelper;remoteClientVersion;host;headerBuilder;startPromise;protocol;constructor(a){(function(a){if(a.generator?.previewFeatures.some(a=>a.toLowerCase().includes("metrics")))throw new a$("The `metrics` preview feature is not yet available with Accelerate.\nPlease remove `metrics` from the `previewFeatures` in your schema.\n\nMore information about Accelerate: https://pris.ly/d/accelerate",a.clientVersion)})(a),this.config=a,this.env=a.env,this.inlineSchema=function(a){let b=new TextEncoder().encode(a),c="",d=b.byteLength,e=d%3,f=d-e,g,h,i,j,k;for(let a=0;a<f;a+=3)g=(0xfc0000&(k=b[a]<<16|b[a+1]<<8|b[a+2]))>>18,h=(258048&k)>>12,i=(4032&k)>>6,j=63&k,c+=eX[g]+eX[h]+eX[i]+eX[j];return 1==e?(g=(252&(k=b[f]))>>2,h=(3&k)<<4,c+=eX[g]+eX[h]+"=="):2==e&&(g=(64512&(k=b[f]<<8|b[f+1]))>>10,h=(1008&k)>>4,i=(15&k)<<2,c+=eX[g]+eX[h]+eX[i]+"="),c}(a.inlineSchema),this.inlineDatasources=a.inlineDatasources,this.inlineSchemaHash=a.inlineSchemaHash,this.clientVersion=a.clientVersion,this.engineHash=a.engineVersion,this.logEmitter=a.logEmitter,this.tracingHelper=a.tracingHelper}apiKey(){return this.headerBuilder.apiKey}version(){return this.engineHash}async start(){void 0!==this.startPromise&&await this.startPromise,this.startPromise=(async()=>{let{apiKey:a,url:b}=this.getURLAndAPIKey();this.host=b.host,this.protocol=b.protocol,this.headerBuilder=new ex({apiKey:a,tracingHelper:this.tracingHelper,logLevel:this.config.logLevel??"error",logQueries:this.config.logQueries,engineHash:this.engineHash}),this.remoteClientVersion=await e1(this.host,this.config),e2("host",this.host),e2("protocol",this.protocol)})(),await this.startPromise}async stop(){}propagateResponseExtensions(a){a?.logs?.length&&a.logs.forEach(a=>{switch(a.level){case"debug":case"trace":e2(a);break;case"error":case"warn":case"info":this.logEmitter.emit(a.level,{timestamp:ey(a.timestamp),message:a.attributes.message??"",target:a.target??"BinaryEngine"});break;case"query":this.logEmitter.emit("query",{query:a.attributes.query??"",timestamp:ey(a.timestamp),duration:a.attributes.duration_ms??0,params:a.attributes.params??"",target:a.target??"BinaryEngine"});break;default:a.level}}),a?.traces?.length&&this.tracingHelper.dispatchEngineSpans(a.traces)}onBeforeExit(){throw Error('"beforeExit" hook is not applicable to the remote query engine')}async url(a){return await this.start(),`${this.protocol}//${this.host}/${this.remoteClientVersion}/${this.inlineSchemaHash}/${a}`}async uploadSchema(){return this.tracingHelper.runInChildSpan({name:"schemaUpload",internal:!0},async()=>{let a=await eZ(await this.url("schema"),{method:"PUT",headers:this.headerBuilder.build(),body:this.inlineSchema,clientVersion:this.clientVersion});a.ok||e2("schema response status",a.status);let b=await eV(a,this.clientVersion);if(b)throw this.logEmitter.emit("warn",{message:`Error while uploading schema: ${b.message}`,timestamp:new Date,target:""}),b;this.logEmitter.emit("info",{message:`Schema (re)uploaded (hash: ${this.inlineSchemaHash})`,timestamp:new Date,target:""})})}request(a,{traceparent:b,interactiveTransaction:c,customDataProxyFetch:d}){return this.requestInternal({body:a,traceparent:b,interactiveTransaction:c,customDataProxyFetch:d})}async requestBatch(a,{traceparent:b,transaction:c,customDataProxyFetch:d}){let e=c?.kind==="itx"?c.options:void 0,f=dV(a,c);return(await this.requestInternal({body:f,customDataProxyFetch:d,interactiveTransaction:e,traceparent:b})).map(a=>(a.extensions&&this.propagateResponseExtensions(a.extensions),"errors"in a?this.convertProtocolErrorsToClientError(a.errors):a))}requestInternal({body:a,traceparent:b,customDataProxyFetch:c,interactiveTransaction:d}){return this.withRetry({actionGerund:"querying",callback:async({logHttpCall:e})=>{let f=d?`${d.payload.endpoint}/graphql`:await this.url("graphql");e(f);let g=await eZ(f,{method:"POST",headers:this.headerBuilder.build({traceparent:b,transactionId:d?.id}),body:JSON.stringify(a),clientVersion:this.clientVersion},c);g.ok||e2("graphql response status",g.status),await this.handleError(await eV(g,this.clientVersion));let h=await g.json();if(h.extensions&&this.propagateResponseExtensions(h.extensions),"errors"in h)throw this.convertProtocolErrorsToClientError(h.errors);return"batchResult"in h?h.batchResult:h}})}async transaction(a,b,c){return this.withRetry({actionGerund:`${{start:"starting",commit:"committing",rollback:"rolling back"}[a]} transaction`,callback:async({logHttpCall:d})=>{if("start"===a){let a=JSON.stringify({max_wait:c.maxWait,timeout:c.timeout,isolation_level:c.isolationLevel}),e=await this.url("transaction/start");d(e);let f=await eZ(e,{method:"POST",headers:this.headerBuilder.build({traceparent:b.traceparent}),body:a,clientVersion:this.clientVersion});await this.handleError(await eV(f,this.clientVersion));let g=await f.json(),{extensions:h}=g;return h&&this.propagateResponseExtensions(h),{id:g.id,payload:{endpoint:g["data-proxy"].endpoint}}}{let e=`${c.payload.endpoint}/${a}`;d(e);let f=await eZ(e,{method:"POST",headers:this.headerBuilder.build({traceparent:b.traceparent}),clientVersion:this.clientVersion});await this.handleError(await eV(f,this.clientVersion));let{extensions:g}=await f.json();g&&this.propagateResponseExtensions(g);return}}})}getURLAndAPIKey(){return function(a){let b={clientVersion:a.clientVersion},d=Object.keys(a.inlineDatasources)[0],e=er({inlineDatasources:a.inlineDatasources,overrideDatasources:a.overrideDatasources,clientVersion:a.clientVersion,env:{...a.env,..."u">typeof c?c.env:{}}}),f;try{f=new URL(e)}catch{throw new ev(`Error validating datasource \`${d}\`: the URL must start with the protocol \`prisma://\``,b)}let{protocol:g,searchParams:h}=f;if("prisma:"!==g&&g!==aK)throw new ev(`Error validating datasource \`${d}\`: the URL must start with the protocol \`prisma://\` or \`prisma+postgres://\``,b);let i=h.get("api_key");if(null===i||i.length<1)throw new ev(`Error validating datasource \`${d}\`: the URL must contain a valid API key`,b);let j=!function(a){if(!aL(a))return!1;let{host:b}=new URL(a);return b.includes("localhost")||b.includes("127.0.0.1")||b.includes("[::1]")}(f)?"https:":"http:";return c.env.TEST_CLIENT_ENGINE_REMOTE_EXECUTOR&&f.searchParams.has("use_http")&&(j="http:"),{apiKey:i,url:new URL(f.href.replace(g,j))}}({clientVersion:this.clientVersion,env:this.env,inlineDatasources:this.inlineDatasources,overrideDatasources:this.config.overrideDatasources})}metrics(){throw new eA("Metrics are not yet supported for Accelerate",{clientVersion:this.clientVersion})}async withRetry(a){for(let b=0;;b++){let c=a=>{this.logEmitter.emit("info",{message:`Calling ${a} (n=${b})`,timestamp:new Date,target:""})};try{return await a.callback({logHttpCall:c})}catch(d){if(!(d instanceof et)||!d.isRetryable)throw d;if(b>=3)throw d instanceof ez?d.cause:d;this.logEmitter.emit("warn",{message:`Attempt ${b+1}/3 failed for ${a.actionGerund}: ${d.message??"(unknown)"}`,timestamp:new Date,target:""});let c=await function(a){let b=50*Math.pow(2,a),c=Math.ceil(Math.random()*b)-Math.ceil(b/2),d=b+c;return new Promise(a=>setTimeout(()=>a(d),d))}(b);this.logEmitter.emit("warn",{message:`Retrying after ${c}ms`,timestamp:new Date,target:""})}}}async handleError(a){if(a instanceof eC)throw await this.uploadSchema(),new ez({clientVersion:this.clientVersion,cause:a});if(a)throw a}convertProtocolErrorsToClientError(a){return 1===a.length?dW(a[0],this.config.clientVersion,this.config.activeProvider):new a1(JSON.stringify(a),{clientVersion:this.config.clientVersion})}applyPendingMigrations(){throw Error("Method not implemented.")}};w(),r(),s(),t(),u(),w(),r(),s(),t(),u(),w(),r(),s(),t(),u();var e4=a=>({command:a});function e5(a){try{return e6(a,"fast")}catch{return e6(a,"slow")}}function e6(a,b){return JSON.stringify(a.map(a=>(function a(b,c){var d;if(Array.isArray(b))return b.map(b=>a(b,c));if("bigint"==typeof b)return{prisma__type:"bigint",prisma__value:b.toString()};if(a8(b))return{prisma__type:"date",prisma__value:b.toJSON()};if(cw.isDecimal(b))return{prisma__type:"decimal",prisma__value:b.toJSON()};if(f.Buffer.isBuffer(b))return{prisma__type:"bytes",prisma__value:b.toString("base64")};if((d=b)instanceof ArrayBuffer||d instanceof SharedArrayBuffer||"object"==typeof d&&null!==d&&("ArrayBuffer"===d[Symbol.toStringTag]||"SharedArrayBuffer"===d[Symbol.toStringTag]))return{prisma__type:"bytes",prisma__value:f.Buffer.from(b).toString("base64")};if(ArrayBuffer.isView(b)){let{buffer:a,byteOffset:c,byteLength:d}=b;return{prisma__type:"bytes",prisma__value:f.Buffer.from(a,c,d).toString("base64")}}return"object"==typeof b&&"slow"===c?e7(b):b})(a,b)))}function e7(a){if("object"!=typeof a||null===a)return a;if("function"==typeof a.toJSON)return a.toJSON();if(Array.isArray(a))return a.map(e8);let b={};for(let c of Object.keys(a))b[c]=e8(a[c]);return b}function e8(a){return"bigint"==typeof a?a.toString():e7(a)}w(),r(),s(),t(),u(),w(),r(),s(),t(),u(),w(),r(),s(),t(),u();var e9=/^(\s*alter\s)/i,fa=aH("prisma:client");function fb(a,b,c,d){if(("postgresql"===a||"cockroachdb"===a)&&c.length>0&&e9.exec(b))throw Error(`Running ALTER using ${d} is not supported
Using the example below you can still execute your query with Prisma, but please note that it is vulnerable to SQL injection attacks and requires you to take care of input sanitization.

Example:
  await prisma.$executeRawUnsafe(\`ALTER USER prisma WITH PASSWORD '\${password}'\`)

More Information: https://pris.ly/d/execute-raw
`)}var fc=({clientMethod:a,activeProvider:b})=>c=>{let d="",e;if(dF(c))d=c.sql,e={values:e5(c.values),__prismaRawParameters__:!0};else if(Array.isArray(c)){let[a,...b]=c;d=a,e={values:e5(b||[]),__prismaRawParameters__:!0}}else switch(b){case"sqlite":case"mysql":d=c.sql,e={values:e5(c.values),__prismaRawParameters__:!0};break;case"cockroachdb":case"postgresql":case"postgres":d=c.text,e={values:e5(c.values),__prismaRawParameters__:!0};break;case"sqlserver":d=c.strings.reduce((a,b,c)=>`${a}@P${c}${b}`),e={values:e5(c.values),__prismaRawParameters__:!0};break;default:throw Error(`The ${b} provider does not support ${a}`)}return e?.values?fa(`prisma.${a}(${d}, ${e.values})`):fa(`prisma.${a}(${d})`),{query:d,parameters:e}},fd={requestArgsToMiddlewareArgs:a=>[a.strings,...a.values],middlewareArgsToRequestArgs(a){let[b,...c]=a;return new dH(b,c)}},fe={requestArgsToMiddlewareArgs:a=>[a],middlewareArgsToRequestArgs:a=>a[0]};function ff(a){return function(b,c){let d,e=(c=a)=>{try{return void 0===c||c?.kind==="itx"?d??=fg(b(c)):fg(b(c))}catch(a){return Promise.reject(a)}};return{get spec(){return c},then:(a,b)=>e().then(a,b),catch:a=>e().catch(a),finally:a=>e().finally(a),requestTransaction(a){let b=e(a);return b.requestTransaction?b.requestTransaction(a):b},[Symbol.toStringTag]:"PrismaPromise"}}}function fg(a){return"function"==typeof a.then?a:Promise.resolve(a)}w(),r(),s(),t(),u(),w(),r(),s(),t(),u();var fh=aI.split(".")[0],fi={isEnabled:()=>!1,getTraceParent:()=>"00-10-10-00",dispatchEngineSpans(){},getActiveContext(){},runInChildSpan:(a,b)=>b()},fj=class{isEnabled(){return this.getGlobalTracingHelper().isEnabled()}getTraceParent(a){return this.getGlobalTracingHelper().getTraceParent(a)}dispatchEngineSpans(a){return this.getGlobalTracingHelper().dispatchEngineSpans(a)}getActiveContext(){return this.getGlobalTracingHelper().getActiveContext()}runInChildSpan(a,b){return this.getGlobalTracingHelper().runInChildSpan(a,b)}getGlobalTracingHelper(){let a=globalThis[`V${fh}_PRISMA_INSTRUMENTATION`],b=globalThis.PRISMA_INSTRUMENTATION;return a?.helper??b?.helper??fi}};function fk(a){return"number"==typeof a.batchRequestIdx}function fl(a){return`(${Object.keys(a).sort().map(b=>{let c=a[b];return"object"==typeof c&&null!==c?`(${b} ${fl(c)})`:b}).join(" ")})`}w(),r(),s(),t(),u(),w(),r(),s(),t(),u(),w(),r(),s(),t(),u(),w(),r(),s(),t(),u(),w(),r(),s(),t(),u(),w(),r(),s(),t(),u();var fm={aggregate:!1,aggregateRaw:!1,createMany:!0,createManyAndReturn:!0,createOne:!0,deleteMany:!0,deleteOne:!0,executeRaw:!0,findFirst:!1,findFirstOrThrow:!1,findMany:!1,findRaw:!1,findUnique:!1,findUniqueOrThrow:!1,groupBy:!1,queryRaw:!1,runCommandRaw:!0,updateMany:!0,updateManyAndReturn:!0,updateOne:!0,upsertOne:!0};w(),r(),s(),t(),u();var fn=class{constructor(a){this.options=a,this.batches={}}batches;tickActive=!1;request(a){let b=this.options.batchBy(a);return b?(this.batches[b]||(this.batches[b]=[],this.tickActive||(this.tickActive=!0,c.nextTick(()=>{this.dispatchBatches(),this.tickActive=!1}))),new Promise((c,d)=>{this.batches[b].push({request:a,resolve:c,reject:d})})):this.options.singleLoader(a)}dispatchBatches(){for(let a in this.batches){let b=this.batches[a];delete this.batches[a],1===b.length?this.options.singleLoader(b[0].request).then(a=>{a instanceof Error?b[0].reject(a):b[0].resolve(a)}).catch(a=>{b[0].reject(a)}):(b.sort((a,b)=>this.options.batchOrder(a.request,b.request)),this.options.batchLoader(b.map(a=>a.request)).then(a=>{if(a instanceof Error)for(let c=0;c<b.length;c++)b[c].reject(a);else for(let c=0;c<b.length;c++){let d=a[c];d instanceof Error?b[c].reject(d):b[c].resolve(d)}}).catch(a=>{for(let c=0;c<b.length;c++)b[c].reject(a)}))}}get[Symbol.toStringTag](){return"DataLoader"}};function fo(a){let b=[],c=function(a){let b={};for(let c=0;c<a.columns.length;c++)b[a.columns[c]]=null;return b}(a);for(let d=0;d<a.rows.length;d++){let e=a.rows[d],g={...c};for(let b=0;b<e.length;b++)g[a.columns[b]]=function a(b,c){if(null===c)return c;switch(b){case"bigint":return BigInt(c);case"bytes":{let{buffer:a,byteOffset:b,byteLength:d}=f.Buffer.from(c,"base64");return new Uint8Array(a,b,d)}case"decimal":return new cw(c);case"datetime":case"date":return new Date(c);case"time":return new Date(`1970-01-01T${c}Z`);case"bigint-array":return c.map(b=>a("bigint",b));case"bytes-array":return c.map(b=>a("bytes",b));case"decimal-array":return c.map(b=>a("decimal",b));case"datetime-array":return c.map(b=>a("datetime",b));case"date-array":return c.map(b=>a("date",b));case"time-array":return c.map(b=>a("time",b));default:return c}}(a.types[b],e[b]);b.push(g)}return b}w(),r(),s(),t(),u();var fp=aH("prisma:client:request_handler"),fq=class{client;dataloader;logEmitter;constructor(a,b){this.logEmitter=b,this.client=a,this.dataloader=new fn({batchLoader:function(a){return b=>{let c={requests:b},d=b[0].extensions.getAllBatchQueryCallbacks();return d.length?function a(b,c,d,e){if(d===c.length)return e(b);let f=b.customDataProxyFetch,g=b.requests[0].transaction;return c[d]({args:{queries:b.requests.map(a=>({model:a.modelName,operation:a.action,args:a.args})),transaction:g?{isolationLevel:"batch"===g.kind?g.isolationLevel:void 0}:void 0},__internalParams:b,query(g,h=b){let i=h.customDataProxyFetch;return h.customDataProxyFetch=ef(f,i),a(h,c,d+1,e)}})}(c,d,0,a):a(c)}}(async({requests:a,customDataProxyFetch:b})=>{let{transaction:c,otelParentCtx:d}=a[0],e=a.map(a=>a.protocolQuery),f=this.client._tracingHelper.getTraceParent(d),g=a.some(a=>fm[a.protocolQuery.action]);return(await this.client._engine.requestBatch(e,{traceparent:f,transaction:function(a){if(a){if("batch"===a.kind)return{kind:"batch",options:{isolationLevel:a.isolationLevel}};if("itx"===a.kind)return{kind:"itx",options:fr(a)};aU(a,"Unknown transaction kind")}}(c),containsWrite:g,customDataProxyFetch:b})).map((b,c)=>{if(b instanceof Error)return b;try{return this.mapQueryEngineResult(a[c],b)}catch(a){return a}})}),singleLoader:async a=>{let b=a.transaction?.kind==="itx"?fr(a.transaction):void 0,c=await this.client._engine.request(a.protocolQuery,{traceparent:this.client._tracingHelper.getTraceParent(),interactiveTransaction:b,isWrite:fm[a.protocolQuery.action],customDataProxyFetch:a.customDataProxyFetch});return this.mapQueryEngineResult(a,c)},batchBy:a=>a.transaction?.id?`transaction-${a.transaction.id}`:function(a){if("findUnique"!==a.action&&"findUniqueOrThrow"!==a.action)return;let b=[];return a.modelName&&b.push(a.modelName),a.query.arguments&&b.push(fl(a.query.arguments)),b.push(fl(a.query.selection)),b.join("")}(a.protocolQuery),batchOrder:(a,b)=>a.transaction?.kind==="batch"&&b.transaction?.kind==="batch"?a.transaction.index-b.transaction.index:0})}async request(a){try{return await this.dataloader.request(a)}catch(g){let{clientMethod:b,callsite:c,transaction:d,args:e,modelName:f}=a;this.handleAndLogRequestError({error:g,clientMethod:b,callsite:c,transaction:d,args:e,modelName:f,globalOmit:a.globalOmit})}}mapQueryEngineResult({dataPath:a,unpacker:b},d){let e=d?.data,f=this.unpack(e,a,b);return c.env.PRISMA_CLIENT_GET_TIME?{data:f}:f}handleAndLogRequestError(a){try{this.handleRequestError(a)}catch(b){throw this.logEmitter&&this.logEmitter.emit("error",{message:b.message,target:a.clientMethod,timestamp:new Date}),b}}handleRequestError({error:a,clientMethod:b,callsite:c,transaction:d,args:e,modelName:f,globalOmit:g}){var h,i,j;if(fp(a),h=a,i=d,fk(h)&&i?.kind==="batch"&&h.batchRequestIdx!==i.index)throw a;a instanceof a_&&("P2009"===(j=a).code||"P2012"===j.code)&&df({args:e,errors:[function a(b){if("Union"===b.kind)return{kind:"Union",errors:b.errors.map(a)};if(Array.isArray(b.selectionPath)){let[,...a]=b.selectionPath;return{...b,selectionPath:a}}return b}(a.meta)],callsite:c,errorFormat:this.client._errorFormat,originalMethod:b,clientVersion:this.client._clientVersion,globalOmit:g});let k=a.message;if(c&&(k=cD({callsite:c,originalMethod:b,isPanic:a.isPanic,showColors:"pretty"===this.client._errorFormat,message:k})),k=this.sanitizeMessage(k),a.code){let b=f?{modelName:f,...a.meta}:a.meta;throw new a_(k,{code:a.code,clientVersion:this.client._clientVersion,meta:b,batchRequestIdx:a.batchRequestIdx})}if(a.isPanic)throw new a0(k,this.client._clientVersion);if(a instanceof a1)throw new a1(k,{clientVersion:this.client._clientVersion,batchRequestIdx:a.batchRequestIdx});if(a instanceof a$)throw new a$(k,this.client._clientVersion);if(a instanceof a0)throw new a0(k,this.client._clientVersion);throw a.clientVersion=this.client._clientVersion,a}sanitizeMessage(a){return this.client._errorFormat&&"pretty"!==this.client._errorFormat?function(a){if("string"!=typeof a)throw TypeError(`Expected a \`string\`, got \`${typeof a}\``);return a.replace(aV,"")}(a):a}unpack(a,b,c){if(!a||(a.data&&(a=a.data),!a))return a;let d=Object.keys(a)[0],e=d3(Object.values(a)[0],b.filter(a=>"select"!==a&&"include"!==a)),f="queryRaw"===d?fo(e):ei(e);return c?c(f):f}get[Symbol.toStringTag](){return"RequestHandler"}};function fr(a){return{id:a.id,payload:a.payload}}w(),r(),s(),t(),u(),w(),r(),s(),t(),u();var fs=q(ab());w(),r(),s(),t(),u();var ft=class extends Error{constructor(a){super(a+`
Read more at https://pris.ly/d/client-constructor`),this.name="PrismaClientConstructorValidationError"}get[Symbol.toStringTag](){return"PrismaClientConstructorValidationError"}};aX(ft,"PrismaClientConstructorValidationError");var fu=["datasources","datasourceUrl","errorFormat","adapter","log","transactionOptions","omit","__internal"],fv=["pretty","colorless","minimal"],fw=["info","query","warn","error"],fx={datasources:(a,{datasourceNames:b})=>{if(a){if("object"!=typeof a||Array.isArray(a))throw new ft(`Invalid value ${JSON.stringify(a)} for "datasources" provided to PrismaClient constructor`);for(let[c,d]of Object.entries(a)){if(!b.includes(c)){let a=fy(c,b)||` Available datasources: ${b.join(", ")}`;throw new ft(`Unknown datasource ${c} provided to PrismaClient constructor.${a}`)}if("object"!=typeof d||Array.isArray(d))throw new ft(`Invalid value ${JSON.stringify(a)} for datasource "${c}" provided to PrismaClient constructor.
It should have this form: { url: "CONNECTION_STRING" }`);if(d&&"object"==typeof d)for(let[b,e]of Object.entries(d)){if("url"!==b)throw new ft(`Invalid value ${JSON.stringify(a)} for datasource "${c}" provided to PrismaClient constructor.
It should have this form: { url: "CONNECTION_STRING" }`);if("string"!=typeof e)throw new ft(`Invalid value ${JSON.stringify(e)} for datasource "${c}" provided to PrismaClient constructor.
It should have this form: { url: "CONNECTION_STRING" }`)}}}},adapter:(a,b)=>{if(!a&&"client"===aJ(b.generator))throw new ft('Using engine type "client" requires a driver adapter to be provided to PrismaClient constructor.');if(null!==a){if(void 0===a)throw new ft('"adapter" property must not be undefined, use null to conditionally disable driver adapters.');if("binary"===aJ(b.generator))throw new ft('Cannot use a driver adapter with the "binary" Query Engine. Please use the "library" Query Engine.')}},datasourceUrl:a=>{if("u">typeof a&&"string"!=typeof a)throw new ft(`Invalid value ${JSON.stringify(a)} for "datasourceUrl" provided to PrismaClient constructor.
Expected string or undefined.`)},errorFormat:a=>{if(a){if("string"!=typeof a)throw new ft(`Invalid value ${JSON.stringify(a)} for "errorFormat" provided to PrismaClient constructor.`);if(!fv.includes(a)){let b=fy(a,fv);throw new ft(`Invalid errorFormat ${a} provided to PrismaClient constructor.${b}`)}}},log:a=>{if(a){if(!Array.isArray(a))throw new ft(`Invalid value ${JSON.stringify(a)} for "log" provided to PrismaClient constructor.`);for(let c of a){b(c);let a={level:b,emit:a=>{let b=["stdout","event"];if(!b.includes(a)){let c=fy(a,b);throw new ft(`Invalid value ${JSON.stringify(a)} for "emit" in logLevel provided to PrismaClient constructor.${c}`)}}};if(c&&"object"==typeof c)for(let[b,d]of Object.entries(c))if(a[b])a[b](d);else throw new ft(`Invalid property ${b} for "log" provided to PrismaClient constructor`)}}function b(a){if("string"==typeof a&&!fw.includes(a)){let b=fy(a,fw);throw new ft(`Invalid log level "${a}" provided to PrismaClient constructor.${b}`)}}},transactionOptions:a=>{if(!a)return;let b=a.maxWait;if(null!=b&&b<=0)throw new ft(`Invalid value ${b} for maxWait in "transactionOptions" provided to PrismaClient constructor. maxWait needs to be greater than 0`);let c=a.timeout;if(null!=c&&c<=0)throw new ft(`Invalid value ${c} for timeout in "transactionOptions" provided to PrismaClient constructor. timeout needs to be greater than 0`)},omit:(a,b)=>{if("object"!=typeof a)throw new ft('"omit" option is expected to be an object.');if(null===a)throw new ft('"omit" option can not be `null`');let c=[];for(let[f,g]of Object.entries(a)){var d,e;let a=(d=f,fz((e=b.runtimeDataModel).models,d)??fz(e.types,d));if(!a){c.push({kind:"UnknownModel",modelKey:f});continue}for(let[b,d]of Object.entries(g)){let e=a.fields.find(a=>a.name===b);if(!e){c.push({kind:"UnknownField",modelKey:f,fieldName:b});continue}if(e.relationName){c.push({kind:"RelationInOmit",modelKey:f,fieldName:b});continue}"boolean"!=typeof d&&c.push({kind:"InvalidFieldValue",modelKey:f,fieldName:b})}}if(c.length>0)throw new ft(function(a,b){let c=dc(a);for(let a of b)switch(a.kind){case"UnknownModel":c.arguments.getField(a.modelKey)?.markAsError(),c.addErrorMessage(()=>`Unknown model name: ${a.modelKey}.`);break;case"UnknownField":c.arguments.getDeepField([a.modelKey,a.fieldName])?.markAsError(),c.addErrorMessage(()=>`Model "${a.modelKey}" does not have a field named "${a.fieldName}".`);break;case"RelationInOmit":c.arguments.getDeepField([a.modelKey,a.fieldName])?.markAsError(),c.addErrorMessage(()=>'Relations are already excluded by default and can not be specified in "omit".');break;case"InvalidFieldValue":c.arguments.getDeepFieldValue([a.modelKey,a.fieldName])?.markAsError(),c.addErrorMessage(()=>"Omit field option value must be a boolean.")}let{message:d,args:e}=de(c,"colorless");return`Error validating "omit" option:

${e}

${d}`}(a,c))},__internal:a=>{if(!a)return;let b=["debug","engine","configOverride"];if("object"!=typeof a)throw new ft(`Invalid value ${JSON.stringify(a)} for "__internal" to PrismaClient constructor`);for(let[c]of Object.entries(a))if(!b.includes(c)){let a=fy(c,b);throw new ft(`Invalid property ${JSON.stringify(c)} for "__internal" provided to PrismaClient constructor.${a}`)}}};function fy(a,b){if(0===b.length||"string"!=typeof a)return"";let c=function(a,b){if(0===b.length)return null;let c=b.map(b=>({value:b,distance:(0,fs.default)(a,b)}));c.sort((a,b)=>a.distance<b.distance?-1:1);let d=c[0];return d.distance<3?d.value:null}(a,b);return c?` Did you mean "${c}"?`:""}function fz(a,b){let c=Object.keys(a).find(a=>a4(a)===b);if(c)return a[c]}w(),r(),s(),t(),u();var fA=aH("prisma:client");"object"==typeof globalThis&&(globalThis.NODE_CLIENT=!0);var fB={requestArgsToMiddlewareArgs:a=>a,middlewareArgsToRequestArgs:a=>a},fC=Symbol.for("prisma.client.transaction.id"),fD={id:0,nextId(){return++this.id}};function fE(a){class b{_originalClient=this;_runtimeDataModel;_requestHandler;_connectionPromise;_disconnectionPromise;_engineConfig;_accelerateEngineConfig;_clientVersion;_errorFormat;_tracingHelper;_previewFeatures;_activeProvider;_globalOmit;_extensions;_engine;_appliedParent;_createPrismaPromise=ff();constructor(b){let d;(function({postinstall:a,ciName:b,clientVersion:c,generator:d}){if(eg("checkPlatformCaching:postinstall",a),eg("checkPlatformCaching:ciName",b),!0===a&&!(d?.output&&"string"==typeof(d.output.fromEnvVar??d.output.value))&&b&&b in eh){let a=`Prisma has detected that this project was built on ${b}, which caches dependencies. This leads to an outdated Prisma Client because Prisma's auto-generation isn't triggered. To fix this, make sure to run the \`prisma generate\` command during the build process.

Learn how: https://pris.ly/d/${eh[b]}-build`;throw console.error(a),new a$(a,c)}})(a=b?.__internal?.configOverride?.(a)??a),b&&function(a,b){for(let[c,d]of Object.entries(a)){if(!fu.includes(c)){let a=fy(c,fu);throw new ft(`Unknown property ${c} provided to PrismaClient constructor.${a}`)}fx[c](d,b)}if(a.datasourceUrl&&a.datasources)throw new ft('Can not use "datasourceUrl" and "datasources" options at the same time. Pick one of them')}(b,a);let e=new Y().on("error",()=>{});if(this._extensions=dj.empty(),this._previewFeatures=function({generator:a}){return a?.previewFeatures??[]}(a),this._clientVersion=a.clientVersion??"6.18.0",this._activeProvider=a.activeProvider,this._globalOmit=b?.omit,this._tracingHelper=new fj,a.relativeEnvPaths&&(a.relativeEnvPaths.rootEnvPath&&X.resolve(a.dirname,a.relativeEnvPaths.rootEnvPath),a.relativeEnvPaths.schemaEnvPath&&X.resolve(a.dirname,a.relativeEnvPaths.schemaEnvPath)),b?.adapter){d=b.adapter;let c="postgresql"===a.activeProvider||"cockroachdb"===a.activeProvider?"postgres":a.activeProvider;if(d.provider!==c)throw new a$(`The Driver Adapter \`${d.adapterName}\`, based on \`${d.provider}\`, is not compatible with the provider \`${c}\` specified in the Prisma schema.`,this._clientVersion);if(b.datasources||void 0!==b.datasourceUrl)throw new a$("Custom datasource configuration is not compatible with Prisma Driver Adapters. Please define the database connection string directly in the Driver Adapter configuration.",this._clientVersion)}let f=a.injectableEdgeEnv?.();try{let g=b??{},h=g.__internal??{},i=!0===h.debug;i&&aH.enable("prisma:client");let j=X.resolve(a.dirname,a.relativePath);O.existsSync(j)||(j=a.dirname),fA("dirname",a.dirname),fA("relativePath",a.relativePath),fA("cwd",j);let k=h.engine||{};if(g.errorFormat?this._errorFormat=g.errorFormat:"production"===c.env.NODE_ENV?this._errorFormat="minimal":(c.env.NO_COLOR,this._errorFormat="colorless"),this._runtimeDataModel=a.runtimeDataModel,this._engineConfig={cwd:j,dirname:a.dirname,enableDebugLogs:i,allowTriggerPanic:k.allowTriggerPanic,prismaPath:k.binaryPath??void 0,engineEndpoint:k.endpoint,generator:a.generator,showColors:"pretty"===this._errorFormat,logLevel:g.log&&function(a){return"string"==typeof a?a:a.reduce((a,b)=>{let c="string"==typeof b?b:b.level;return"query"===c?a:a&&("info"===b||"info"===a)?"info":c},void 0)}(g.log),logQueries:g.log&&!!("string"==typeof g.log?"query"===g.log:g.log.find(a=>"string"==typeof a?"query"===a:"query"===a.level)),env:f?.parsed??{},flags:[],engineWasm:a.engineWasm,compilerWasm:a.compilerWasm,clientVersion:a.clientVersion,engineVersion:a.engineVersion,previewFeatures:this._previewFeatures,activeProvider:a.activeProvider,inlineSchema:a.inlineSchema,overrideDatasources:function(a,b){return a?a.datasources?a.datasources:a.datasourceUrl?{[b[0]]:{url:a.datasourceUrl}}:{}:{}}(g,a.datasourceNames),inlineDatasources:a.inlineDatasources,inlineSchemaHash:a.inlineSchemaHash,tracingHelper:this._tracingHelper,transactionOptions:{maxWait:g.transactionOptions?.maxWait??2e3,timeout:g.transactionOptions?.timeout??5e3,isolationLevel:g.transactionOptions?.isolationLevel},logEmitter:e,isBundled:a.isBundled,adapter:d},this._accelerateEngineConfig={...this._engineConfig,accelerateUtils:{resolveDatasourceUrl:er,getBatchRequestPayload:dV,prismaGraphQLToJSError:dW,PrismaClientUnknownRequestError:a1,PrismaClientInitializationError:a$,PrismaClientKnownRequestError:a_,debug:aH("prisma:client:accelerateEngine"),engineVersion:dG.version,clientVersion:a.clientVersion}},fA("clientVersion",a.clientVersion),this._engine=function({copyEngine:a=!0},b){let d;try{d=er({inlineDatasources:b.inlineDatasources,overrideDatasources:b.overrideDatasources,env:{...b.env,...c.env},clientVersion:b.clientVersion})}catch{}let{ok:e,isUsing:f,diagnostics:g}=function({url:a,adapter:b,copyEngine:c,targetBuildType:d}){let e=[],f=[],g=a=>{let b=a.join(`
`);f.push({_tag:"error",value:b})},h=!!a?.startsWith("prisma://"),i=aL(a),j=!!b,k=h||i;!j&&c&&k&&"client"!==d&&"wasm-compiler-edge"!==d&&e.push({_tag:"warning",value:["recommend--no-engine","In production, we recommend using `prisma generate --no-engine` (See: `prisma generate --help`)"]});let l=k||!c;j&&(l||"edge"===d)&&("edge"===d?g(["Prisma Client was configured to use the `adapter` option but it was imported via its `/edge` endpoint.","Please either remove the `/edge` endpoint or remove the `adapter` from the Prisma Client constructor."]):k?g(["You've provided both a driver adapter and an Accelerate database URL. Driver adapters currently cannot connect to Accelerate.","Please provide either a driver adapter with a direct database URL or an Accelerate URL and no driver adapter."]):c||g(["Prisma Client was configured to use the `adapter` option but `prisma generate` was run with `--no-engine`.","Please run `prisma generate` without `--no-engine` to be able to use Prisma Client with the adapter."]));let m={accelerate:l,ppg:i,driverAdapters:j};return f.length>0?{ok:!1,diagnostics:{warnings:e,errors:f},isUsing:m}:{ok:!0,diagnostics:{warnings:e},isUsing:m}}({url:d,adapter:b.adapter,copyEngine:a,targetBuildType:"edge"});for(let a of g.warnings)aZ(...a.value);if(!e)throw new a2(g.errors[0].value,{clientVersion:b.clientVersion});return aJ(b.generator),(f.accelerate||f.ppg)&&f.driverAdapters,f.accelerate||(f.driverAdapters,f.accelerate),new e3(b)}(a,this._engineConfig),this._requestHandler=new fq(this,e),g.log)for(let a of g.log){let b="string"==typeof a?a:"stdout"===a.emit?a.level:null;b&&this.$on(b,a=>{aM.log(`${aM.tags[b]??""}`,a.message||a.query)})}}catch(a){throw a.clientVersion=this._clientVersion,a}return this._appliedParent=d8(this)}get[Symbol.toStringTag](){return"PrismaClient"}$on(a,b){return"beforeExit"===a?this._engine.onBeforeExit(b):a&&this._engineConfig.logEmitter.on(a,b),this}$connect(){try{return this._engine.start()}catch(a){throw a.clientVersion=this._clientVersion,a}}async $disconnect(){try{await this._engine.stop()}catch(a){throw a.clientVersion=this._clientVersion,a}finally{aC.length=0}}$executeRawInternal(a,b,c,d){let e=this._activeProvider;return this._request({action:"executeRaw",args:c,transaction:a,clientMethod:b,argsMapper:fc({clientMethod:b,activeProvider:e}),callsite:dY(this._errorFormat),dataPath:[],middlewareArgsMapper:d})}$executeRaw(a,...b){return this._createPrismaPromise(c=>{if(void 0!==a.raw||void 0!==a.sql){let[d,e]=fF(a,b);return fb(this._activeProvider,d.text,d.values,Array.isArray(a)?"prisma.$executeRaw`<SQL>`":"prisma.$executeRaw(sql`<SQL>`)"),this.$executeRawInternal(c,"$executeRaw",d,e)}throw new a2("`$executeRaw` is a tag function, please use it like the following:\n```\nconst result = await prisma.$executeRaw`UPDATE User SET cool = ${true} WHERE email = ${'user@email.com'};`\n```\n\nOr read our docs at https://www.prisma.io/docs/concepts/components/prisma-client/raw-database-access#executeraw\n",{clientVersion:this._clientVersion})})}$executeRawUnsafe(a,...b){return this._createPrismaPromise(c=>(fb(this._activeProvider,a,b,"prisma.$executeRawUnsafe(<SQL>, [...values])"),this.$executeRawInternal(c,"$executeRawUnsafe",[a,...b])))}$runCommandRaw(b){if("mongodb"!==a.activeProvider)throw new a2(`The ${a.activeProvider} provider does not support $runCommandRaw. Use the mongodb provider.`,{clientVersion:this._clientVersion});return this._createPrismaPromise(a=>this._request({args:b,clientMethod:"$runCommandRaw",dataPath:[],action:"runCommandRaw",argsMapper:e4,callsite:dY(this._errorFormat),transaction:a}))}async $queryRawInternal(a,b,c,d){let e=this._activeProvider;return this._request({action:"queryRaw",args:c,transaction:a,clientMethod:b,argsMapper:fc({clientMethod:b,activeProvider:e}),callsite:dY(this._errorFormat),dataPath:[],middlewareArgsMapper:d})}$queryRaw(a,...b){return this._createPrismaPromise(c=>{if(void 0!==a.raw||void 0!==a.sql)return this.$queryRawInternal(c,"$queryRaw",...fF(a,b));throw new a2("`$queryRaw` is a tag function, please use it like the following:\n```\nconst result = await prisma.$queryRaw`SELECT * FROM User WHERE id = ${1} OR email = ${'user@email.com'};`\n```\n\nOr read our docs at https://www.prisma.io/docs/concepts/components/prisma-client/raw-database-access#queryraw\n",{clientVersion:this._clientVersion})})}$queryRawTyped(a){return this._createPrismaPromise(b=>{if(!this._hasPreviewFlag("typedSql"))throw new a2("`typedSql` preview feature must be enabled in order to access $queryRawTyped API",{clientVersion:this._clientVersion});return this.$queryRawInternal(b,"$queryRawTyped",a)})}$queryRawUnsafe(a,...b){return this._createPrismaPromise(c=>this.$queryRawInternal(c,"$queryRawUnsafe",[a,...b]))}_transactionWithArray({promises:a,options:b}){var c;let d=fD.nextId(),e=function(a,b=()=>{}){let c,d=new Promise(a=>c=a);return{then:e=>(0==--a&&c(b()),e?.(d))}}(a.length);return 0===(c=a.map((a,c)=>{if(a?.[Symbol.toStringTag]!=="PrismaPromise")throw Error("All elements of the array need to be Prisma Client promises. Hint: Please make sure you are not awaiting the Prisma client calls you intended to pass in the $transaction function.");let f=b?.isolationLevel??this._engineConfig.transactionOptions.isolationLevel;return a.requestTransaction?.({kind:"batch",id:d,index:c,isolationLevel:f,lock:e})??a})).length?Promise.resolve([]):new Promise((a,b)=>{let d=Array(c.length),e=null,f=!1,g=0,h=()=>{f||++g===c.length&&(f=!0,e?b(e):a(d))},i=a=>{f||(f=!0,b(a))};for(let a=0;a<c.length;a++)c[a].then(b=>{d[a]=b,h()},b=>{fk(b)?b.batchRequestIdx===a?i(b):(e||(e=b),h()):i(b)})})}async _transactionWithCallback({callback:a,options:b}){let c={traceparent:this._tracingHelper.getTraceParent()},d={maxWait:b?.maxWait??this._engineConfig.transactionOptions.maxWait,timeout:b?.timeout??this._engineConfig.transactionOptions.timeout,isolationLevel:b?.isolationLevel??this._engineConfig.transactionOptions.isolationLevel},e=await this._engine.transaction("start",c,d),f;try{let b={kind:"itx",...e};f=await a(this._createItxClient(b)),await this._engine.transaction("commit",c,e)}catch(a){throw await this._engine.transaction("rollback",c,e).catch(()=>{}),a}return f}_createItxClient(a){return dS(d8(dS(this[d7]?this[d7]:this,[dN("_appliedParent",()=>this._appliedParent._createItxClient(a)),dN("_createPrismaPromise",()=>ff(a)),dN(fC,()=>a.id)])),[dU(ec)])}$transaction(a,b){let c;return c="function"==typeof a?this._engineConfig.adapter?.adapterName==="@prisma/adapter-d1"?()=>{throw Error("Cloudflare D1 does not support interactive transactions. We recommend you to refactor your queries with that limitation in mind, and use batch transactions with `prisma.$transactions([])` where applicable.")}:()=>this._transactionWithCallback({callback:a,options:b}):()=>this._transactionWithArray({promises:a,options:b}),this._tracingHelper.runInChildSpan({name:"transaction",attributes:{method:"$transaction"}},c)}_request(a){a.otelParentCtx=this._tracingHelper.getActiveContext();let b=a.middlewareArgsMapper??fB,c={args:b.requestArgsToMiddlewareArgs(a.args),dataPath:a.dataPath,runInTransaction:!!a.transaction,action:a.action,model:a.model},d={operation:{name:"operation",attributes:{method:c.action,model:c.model,name:c.model?`${c.model}.${c.action}`:c.action}}},e=async c=>{let{runInTransaction:d,args:e,...f}=c,g={...a,...f};e&&(g.args=b.middlewareArgsToRequestArgs(e)),void 0!==a.transaction&&!1===d&&delete g.transaction;let h=await function(a,b){let{jsModelName:c,action:d,clientMethod:e}=b;if(a._extensions.isEmpty())return a._executeRequest(b);let f=a._extensions.getAllQueryCallbacks(c??"$none",c?d:e);return function a(b,c,d,e=0){return b._createPrismaPromise(f=>{let g=c.customDataProxyFetch;return"transaction"in c&&void 0!==f&&(c.transaction?.kind==="batch"&&c.transaction.lock.then(),c.transaction=f),e===d.length?b._executeRequest(c):d[e]({model:c.model,operation:c.model?c.action:c.clientMethod,args:function(a){var b,c;if(a instanceof dH){return new dH((b=a).strings,b.values)}if(dF(a)){return new dD((c=a).sql,c.values)}if(Array.isArray(a)){let b=[a[0]];for(let c=1;c<a.length;c++)b[c]=ed(a[c]);return b}let d={};for(let b in a)d[b]=ed(a[b]);return d}(c.args??{}),__internalParams:c,query:(f,h=c)=>{let i=h.customDataProxyFetch;return h.customDataProxyFetch=ef(g,i),h.args=f,a(b,h,d,e+1)}})})}(a,b,f)}(this,g);return g.model?function({result:a,modelName:b,args:c,extensions:d,runtimeDataModel:e,globalOmit:f}){return d.isEmpty()||null==a||"object"!=typeof a||!e.models[b]?a:ea({result:a,args:c??{},modelName:b,runtimeDataModel:e,visitor:(a,b,c)=>{let e=dg(b);return function({result:a,modelName:b,select:c,omit:d,extensions:e}){let f=e.getAllComputedFields(b);if(!f)return a;let g=[],h=[];for(let b of Object.values(f)){if(d){if(d[b.name])continue;let a=b.needs.filter(a=>d[a]);a.length>0&&h.push(dU(a))}else if(c){if(!c[b.name])continue;let a=b.needs.filter(a=>!c[a]);a.length>0&&h.push(dU(a))}(function(a,b){return b.every(b=>Object.prototype.hasOwnProperty.call(a,b))})(a,b.needs)&&g.push(function(a,b){return dO(dN(a.name,()=>a.compute(b)))}(b,dS(a,g)))}return g.length>0||h.length>0?dS(a,[...g,...h]):a}({result:a,modelName:e,select:c.select,omit:c.select?void 0:{...f?.[e],...c.omit},extensions:d})}})}({result:h,modelName:g.model,args:g.args,extensions:this._extensions,runtimeDataModel:this._runtimeDataModel,globalOmit:this._globalOmit}):h};return this._tracingHelper.runInChildSpan(d.operation,()=>e(c))}async _executeRequest({args:a,clientMethod:b,dataPath:c,callsite:d,action:e,model:f,argsMapper:g,transaction:h,unpacker:i,otelParentCtx:j,customDataProxyFetch:k}){try{a=g?g(a):a;let l=this._tracingHelper.runInChildSpan({name:"serialize"},()=>dt({modelName:f,runtimeDataModel:this._runtimeDataModel,action:e,args:a,clientMethod:b,callsite:d,extensions:this._extensions,errorFormat:this._errorFormat,clientVersion:this._clientVersion,previewFeatures:this._previewFeatures,globalOmit:this._globalOmit}));return aH.enabled("prisma:client")&&(fA("Prisma Client call:"),fA(`prisma.${b}(${function(a){if(void 0===a)return"";let b=dc(a);return new cI(0,{colors:cL}).write(b).toString()}(a)})`),fA("Generated request:"),fA(JSON.stringify(l,null,2)+`
`)),h?.kind==="batch"&&await h.lock,this._requestHandler.request({protocolQuery:l,modelName:f,action:e,clientMethod:b,dataPath:c,callsite:d,args:a,extensions:this._extensions,transaction:h,unpacker:i,otelParentCtx:j,otelChildCtx:this._tracingHelper.getActiveContext(),globalOmit:this._globalOmit,customDataProxyFetch:k})}catch(a){throw a.clientVersion=this._clientVersion,a}}$metrics=new dy(this);_hasPreviewFlag(a){return!!this._engineConfig.previewFeatures?.includes(a)}$applyPendingMigrations(){return this._engine.applyPendingMigrations()}$extends=d9}return b}function fF(a,b){var c;return Array.isArray(c=a)&&Array.isArray(c.raw)?[new dH(a,b),fd]:[a,fe]}w(),r(),s(),t(),u();var fG=new Set(["toJSON","$$typeof","asymmetricMatch",Symbol.iterator,Symbol.toStringTag,Symbol.isConcatSpreadable,Symbol.toPrimitive]);function fH(a){return new Proxy(a,{get(a,b){if(b in a)return a[b];if(!fG.has(b))throw TypeError(`Invalid enum value: ${String(b)}`)}})}w(),r(),s(),t(),u()},228:(a,b,c)=>{"use strict";c.d(b,{M1:()=>e,FP:()=>d});let d=(0,c(58).xl)();function e(a){throw Object.defineProperty(Error(`\`${a}\` was called outside a request scope. Read more: https://nextjs.org/docs/messages/next-dynamic-api-wrong-context`),"__NEXT_ERROR_CODE",{value:"E251",enumerable:!1,configurable:!0})}},232:a=>{(()=>{"use strict";var b={993:a=>{var b=Object.prototype.hasOwnProperty,c="~";function d(){}function e(a,b,c){this.fn=a,this.context=b,this.once=c||!1}function f(a,b,d,f,g){if("function"!=typeof d)throw TypeError("The listener must be a function");var h=new e(d,f||a,g),i=c?c+b:b;return a._events[i]?a._events[i].fn?a._events[i]=[a._events[i],h]:a._events[i].push(h):(a._events[i]=h,a._eventsCount++),a}function g(a,b){0==--a._eventsCount?a._events=new d:delete a._events[b]}function h(){this._events=new d,this._eventsCount=0}Object.create&&(d.prototype=Object.create(null),(new d).__proto__||(c=!1)),h.prototype.eventNames=function(){var a,d,e=[];if(0===this._eventsCount)return e;for(d in a=this._events)b.call(a,d)&&e.push(c?d.slice(1):d);return Object.getOwnPropertySymbols?e.concat(Object.getOwnPropertySymbols(a)):e},h.prototype.listeners=function(a){var b=c?c+a:a,d=this._events[b];if(!d)return[];if(d.fn)return[d.fn];for(var e=0,f=d.length,g=Array(f);e<f;e++)g[e]=d[e].fn;return g},h.prototype.listenerCount=function(a){var b=c?c+a:a,d=this._events[b];return d?d.fn?1:d.length:0},h.prototype.emit=function(a,b,d,e,f,g){var h=c?c+a:a;if(!this._events[h])return!1;var i,j,k=this._events[h],l=arguments.length;if(k.fn){switch(k.once&&this.removeListener(a,k.fn,void 0,!0),l){case 1:return k.fn.call(k.context),!0;case 2:return k.fn.call(k.context,b),!0;case 3:return k.fn.call(k.context,b,d),!0;case 4:return k.fn.call(k.context,b,d,e),!0;case 5:return k.fn.call(k.context,b,d,e,f),!0;case 6:return k.fn.call(k.context,b,d,e,f,g),!0}for(j=1,i=Array(l-1);j<l;j++)i[j-1]=arguments[j];k.fn.apply(k.context,i)}else{var m,n=k.length;for(j=0;j<n;j++)switch(k[j].once&&this.removeListener(a,k[j].fn,void 0,!0),l){case 1:k[j].fn.call(k[j].context);break;case 2:k[j].fn.call(k[j].context,b);break;case 3:k[j].fn.call(k[j].context,b,d);break;case 4:k[j].fn.call(k[j].context,b,d,e);break;default:if(!i)for(m=1,i=Array(l-1);m<l;m++)i[m-1]=arguments[m];k[j].fn.apply(k[j].context,i)}}return!0},h.prototype.on=function(a,b,c){return f(this,a,b,c,!1)},h.prototype.once=function(a,b,c){return f(this,a,b,c,!0)},h.prototype.removeListener=function(a,b,d,e){var f=c?c+a:a;if(!this._events[f])return this;if(!b)return g(this,f),this;var h=this._events[f];if(h.fn)h.fn!==b||e&&!h.once||d&&h.context!==d||g(this,f);else{for(var i=0,j=[],k=h.length;i<k;i++)(h[i].fn!==b||e&&!h[i].once||d&&h[i].context!==d)&&j.push(h[i]);j.length?this._events[f]=1===j.length?j[0]:j:g(this,f)}return this},h.prototype.removeAllListeners=function(a){var b;return a?(b=c?c+a:a,this._events[b]&&g(this,b)):(this._events=new d,this._eventsCount=0),this},h.prototype.off=h.prototype.removeListener,h.prototype.addListener=h.prototype.on,h.prefixed=c,h.EventEmitter=h,a.exports=h},213:a=>{a.exports=(a,b)=>(b=b||(()=>{}),a.then(a=>new Promise(a=>{a(b())}).then(()=>a),a=>new Promise(a=>{a(b())}).then(()=>{throw a})))},574:(a,b)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.default=function(a,b,c){let d=0,e=a.length;for(;e>0;){let f=e/2|0,g=d+f;0>=c(a[g],b)?(d=++g,e-=f+1):e=f}return d}},821:(a,b,c)=>{Object.defineProperty(b,"__esModule",{value:!0});let d=c(574);class e{constructor(){this._queue=[]}enqueue(a,b){let c={priority:(b=Object.assign({priority:0},b)).priority,run:a};if(this.size&&this._queue[this.size-1].priority>=b.priority)return void this._queue.push(c);let e=d.default(this._queue,c,(a,b)=>b.priority-a.priority);this._queue.splice(e,0,c)}dequeue(){let a=this._queue.shift();return null==a?void 0:a.run}filter(a){return this._queue.filter(b=>b.priority===a.priority).map(a=>a.run)}get size(){return this._queue.length}}b.default=e},816:(a,b,c)=>{let d=c(213);class e extends Error{constructor(a){super(a),this.name="TimeoutError"}}let f=(a,b,c)=>new Promise((f,g)=>{if("number"!=typeof b||b<0)throw TypeError("Expected `milliseconds` to be a positive number");if(b===1/0)return void f(a);let h=setTimeout(()=>{if("function"==typeof c){try{f(c())}catch(a){g(a)}return}let d="string"==typeof c?c:`Promise timed out after ${b} milliseconds`,h=c instanceof Error?c:new e(d);"function"==typeof a.cancel&&a.cancel(),g(h)},b);d(a.then(f,g),()=>{clearTimeout(h)})});a.exports=f,a.exports.default=f,a.exports.TimeoutError=e}},c={};function d(a){var e=c[a];if(void 0!==e)return e.exports;var f=c[a]={exports:{}},g=!0;try{b[a](f,f.exports,d),g=!1}finally{g&&delete c[a]}return f.exports}d.ab="//";var e={};(()=>{Object.defineProperty(e,"__esModule",{value:!0});let a=d(993),b=d(816),c=d(821),f=()=>{},g=new b.TimeoutError;class h extends a{constructor(a){var b,d,e,g;if(super(),this._intervalCount=0,this._intervalEnd=0,this._pendingCount=0,this._resolveEmpty=f,this._resolveIdle=f,!("number"==typeof(a=Object.assign({carryoverConcurrencyCount:!1,intervalCap:1/0,interval:0,concurrency:1/0,autoStart:!0,queueClass:c.default},a)).intervalCap&&a.intervalCap>=1))throw TypeError(`Expected \`intervalCap\` to be a number from 1 and up, got \`${null!=(d=null==(b=a.intervalCap)?void 0:b.toString())?d:""}\` (${typeof a.intervalCap})`);if(void 0===a.interval||!(Number.isFinite(a.interval)&&a.interval>=0))throw TypeError(`Expected \`interval\` to be a finite number >= 0, got \`${null!=(g=null==(e=a.interval)?void 0:e.toString())?g:""}\` (${typeof a.interval})`);this._carryoverConcurrencyCount=a.carryoverConcurrencyCount,this._isIntervalIgnored=a.intervalCap===1/0||0===a.interval,this._intervalCap=a.intervalCap,this._interval=a.interval,this._queue=new a.queueClass,this._queueClass=a.queueClass,this.concurrency=a.concurrency,this._timeout=a.timeout,this._throwOnTimeout=!0===a.throwOnTimeout,this._isPaused=!1===a.autoStart}get _doesIntervalAllowAnother(){return this._isIntervalIgnored||this._intervalCount<this._intervalCap}get _doesConcurrentAllowAnother(){return this._pendingCount<this._concurrency}_next(){this._pendingCount--,this._tryToStartAnother(),this.emit("next")}_resolvePromises(){this._resolveEmpty(),this._resolveEmpty=f,0===this._pendingCount&&(this._resolveIdle(),this._resolveIdle=f,this.emit("idle"))}_onResumeInterval(){this._onInterval(),this._initializeIntervalIfNeeded(),this._timeoutId=void 0}_isIntervalPaused(){let a=Date.now();if(void 0===this._intervalId){let b=this._intervalEnd-a;if(!(b<0))return void 0===this._timeoutId&&(this._timeoutId=setTimeout(()=>{this._onResumeInterval()},b)),!0;this._intervalCount=this._carryoverConcurrencyCount?this._pendingCount:0}return!1}_tryToStartAnother(){if(0===this._queue.size)return this._intervalId&&clearInterval(this._intervalId),this._intervalId=void 0,this._resolvePromises(),!1;if(!this._isPaused){let a=!this._isIntervalPaused();if(this._doesIntervalAllowAnother&&this._doesConcurrentAllowAnother){let b=this._queue.dequeue();return!!b&&(this.emit("active"),b(),a&&this._initializeIntervalIfNeeded(),!0)}}return!1}_initializeIntervalIfNeeded(){this._isIntervalIgnored||void 0!==this._intervalId||(this._intervalId=setInterval(()=>{this._onInterval()},this._interval),this._intervalEnd=Date.now()+this._interval)}_onInterval(){0===this._intervalCount&&0===this._pendingCount&&this._intervalId&&(clearInterval(this._intervalId),this._intervalId=void 0),this._intervalCount=this._carryoverConcurrencyCount?this._pendingCount:0,this._processQueue()}_processQueue(){for(;this._tryToStartAnother(););}get concurrency(){return this._concurrency}set concurrency(a){if(!("number"==typeof a&&a>=1))throw TypeError(`Expected \`concurrency\` to be a number from 1 and up, got \`${a}\` (${typeof a})`);this._concurrency=a,this._processQueue()}async add(a,c={}){return new Promise((d,e)=>{let f=async()=>{this._pendingCount++,this._intervalCount++;try{let f=void 0===this._timeout&&void 0===c.timeout?a():b.default(Promise.resolve(a()),void 0===c.timeout?this._timeout:c.timeout,()=>{(void 0===c.throwOnTimeout?this._throwOnTimeout:c.throwOnTimeout)&&e(g)});d(await f)}catch(a){e(a)}this._next()};this._queue.enqueue(f,c),this._tryToStartAnother(),this.emit("add")})}async addAll(a,b){return Promise.all(a.map(async a=>this.add(a,b)))}start(){return this._isPaused&&(this._isPaused=!1,this._processQueue()),this}pause(){this._isPaused=!0}clear(){this._queue=new this._queueClass}async onEmpty(){if(0!==this._queue.size)return new Promise(a=>{let b=this._resolveEmpty;this._resolveEmpty=()=>{b(),a()}})}async onIdle(){if(0!==this._pendingCount||0!==this._queue.size)return new Promise(a=>{let b=this._resolveIdle;this._resolveIdle=()=>{b(),a()}})}get size(){return this._queue.size}sizeBy(a){return this._queue.filter(a).length}get pending(){return this._pendingCount}get isPaused(){return this._isPaused}get timeout(){return this._timeout}set timeout(a){this._timeout=a}}e.default=h})(),a.exports=e})()},297:(a,b,c)=>{"use strict";function d(a){return"object"==typeof a&&null!==a&&"digest"in a&&"BAILOUT_TO_CLIENT_SIDE_RENDERING"===a.digest}c.d(b,{C:()=>d})},318:(a,b,c)=>{"use strict";var d=c(356).Buffer;Object.defineProperty(b,"__esModule",{value:!0});var e={handleFetch:function(){return j},interceptFetch:function(){return k},reader:function(){return h}};for(var f in e)Object.defineProperty(b,f,{enumerable:!0,get:e[f]});let g=c(643),h={url:a=>a.url,header:(a,b)=>a.headers.get(b)};async function i(a,b){let{url:c,method:e,headers:f,body:g,cache:h,credentials:i,integrity:j,mode:k,redirect:l,referrer:m,referrerPolicy:n}=b;return{testData:a,api:"fetch",request:{url:c,method:e,headers:[...Array.from(f),["next-test-stack",function(){let a=(Error().stack??"").split("\n");for(let b=1;b<a.length;b++)if(a[b].length>0){a=a.slice(b);break}return(a=(a=(a=a.filter(a=>!a.includes("/next/dist/"))).slice(0,5)).map(a=>a.replace("webpack-internal:///(rsc)/","").trim())).join("    ")}()]],body:g?d.from(await b.arrayBuffer()).toString("base64"):null,cache:h,credentials:i,integrity:j,mode:k,redirect:l,referrer:m,referrerPolicy:n}}}async function j(a,b){let c=(0,g.getTestReqInfo)(b,h);if(!c)return a(b);let{testData:e,proxyPort:f}=c,j=await i(e,b),k=await a(`http://localhost:${f}`,{method:"POST",body:JSON.stringify(j),next:{internal:!0}});if(!k.ok)throw Object.defineProperty(Error(`Proxy request failed: ${k.status}`),"__NEXT_ERROR_CODE",{value:"E146",enumerable:!1,configurable:!0});let l=await k.json(),{api:m}=l;switch(m){case"continue":return a(b);case"abort":case"unhandled":throw Object.defineProperty(Error(`Proxy request aborted [${b.method} ${b.url}]`),"__NEXT_ERROR_CODE",{value:"E145",enumerable:!1,configurable:!0});case"fetch":return function(a){let{status:b,headers:c,body:e}=a.response;return new Response(e?d.from(e,"base64"):null,{status:b,headers:new Headers(c)})}(l);default:return m}}function k(a){return c.g.fetch=function(b,c){var d;return(null==c||null==(d=c.next)?void 0:d.internal)?a(b,c):j(a,new Request(b,c))},()=>{c.g.fetch=a}}},319:(a,b,c)=>{"use strict";c.d(b,{s:()=>d});let d=(0,c(58).xl)()},345:(a,b,c)=>{"use strict";a.exports=c(417)},356:a=>{"use strict";a.exports=require("node:buffer")},417:(a,b)=>{"use strict";var c={H:null,A:null};function d(a){var b="https://react.dev/errors/"+a;if(1<arguments.length){b+="?args[]="+encodeURIComponent(arguments[1]);for(var c=2;c<arguments.length;c++)b+="&args[]="+encodeURIComponent(arguments[c])}return"Minified React error #"+a+"; visit "+b+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var e=Array.isArray;function f(){}var g=Symbol.for("react.transitional.element"),h=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),j=Symbol.for("react.strict_mode"),k=Symbol.for("react.profiler"),l=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),n=Symbol.for("react.memo"),o=Symbol.for("react.lazy"),p=Symbol.for("react.activity"),q=Symbol.for("react.view_transition"),r=Symbol.iterator,s=Object.prototype.hasOwnProperty,t=Object.assign;function u(a,b,c){var d=c.ref;return{$$typeof:g,type:a,key:b,ref:void 0!==d?d:null,props:c}}function v(a){return"object"==typeof a&&null!==a&&a.$$typeof===g}var w=/\/+/g;function x(a,b){var c,d;return"object"==typeof a&&null!==a&&null!=a.key?(c=""+a.key,d={"=":"=0",":":"=2"},"$"+c.replace(/[=:]/g,function(a){return d[a]})):b.toString(36)}function y(a,b,c){if(null==a)return a;var i=[],j=0;return!function a(b,c,i,j,k){var l,m,n,p=typeof b;("undefined"===p||"boolean"===p)&&(b=null);var q=!1;if(null===b)q=!0;else switch(p){case"bigint":case"string":case"number":q=!0;break;case"object":switch(b.$$typeof){case g:case h:q=!0;break;case o:return a((q=b._init)(b._payload),c,i,j,k)}}if(q)return k=k(b),q=""===j?"."+x(b,0):j,e(k)?(i="",null!=q&&(i=q.replace(w,"$&/")+"/"),a(k,c,i,"",function(a){return a})):null!=k&&(v(k)&&(l=k,m=i+(null==k.key||b&&b.key===k.key?"":(""+k.key).replace(w,"$&/")+"/")+q,k=u(l.type,m,l.props)),c.push(k)),1;q=0;var s=""===j?".":j+":";if(e(b))for(var t=0;t<b.length;t++)p=s+x(j=b[t],t),q+=a(j,c,i,p,k);else if("function"==typeof(t=null===(n=b)||"object"!=typeof n?null:"function"==typeof(n=r&&n[r]||n["@@iterator"])?n:null))for(b=t.call(b),t=0;!(j=b.next()).done;)p=s+x(j=j.value,t++),q+=a(j,c,i,p,k);else if("object"===p){if("function"==typeof b.then)return a(function(a){switch(a.status){case"fulfilled":return a.value;case"rejected":throw a.reason;default:switch("string"==typeof a.status?a.then(f,f):(a.status="pending",a.then(function(b){"pending"===a.status&&(a.status="fulfilled",a.value=b)},function(b){"pending"===a.status&&(a.status="rejected",a.reason=b)})),a.status){case"fulfilled":return a.value;case"rejected":throw a.reason}}throw a}(b),c,i,j,k);throw Error(d(31,"[object Object]"===(c=String(b))?"object with keys {"+Object.keys(b).join(", ")+"}":c))}return q}(a,i,"","",function(a){return b.call(c,a,j++)}),i}function z(a){if(-1===a._status){var b=a._result;(b=b()).then(function(b){(0===a._status||-1===a._status)&&(a._status=1,a._result=b)},function(b){(0===a._status||-1===a._status)&&(a._status=2,a._result=b)}),-1===a._status&&(a._status=0,a._result=b)}if(1===a._status)return a._result.default;throw a._result}function A(){return new WeakMap}function B(){return{s:0,v:void 0,o:null,p:null}}b.Activity=p,b.Children={map:y,forEach:function(a,b,c){y(a,function(){b.apply(this,arguments)},c)},count:function(a){var b=0;return y(a,function(){b++}),b},toArray:function(a){return y(a,function(a){return a})||[]},only:function(a){if(!v(a))throw Error(d(143));return a}},b.Fragment=i,b.Profiler=k,b.StrictMode=j,b.Suspense=m,b.ViewTransition=q,b.__SERVER_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=c,b.cache=function(a){return function(){var b=c.A;if(!b)return a.apply(null,arguments);var d=b.getCacheForType(A);void 0===(b=d.get(a))&&(b=B(),d.set(a,b)),d=0;for(var e=arguments.length;d<e;d++){var f=arguments[d];if("function"==typeof f||"object"==typeof f&&null!==f){var g=b.o;null===g&&(b.o=g=new WeakMap),void 0===(b=g.get(f))&&(b=B(),g.set(f,b))}else null===(g=b.p)&&(b.p=g=new Map),void 0===(b=g.get(f))&&(b=B(),g.set(f,b))}if(1===b.s)return b.v;if(2===b.s)throw b.v;try{var h=a.apply(null,arguments);return(d=b).s=1,d.v=h}catch(a){throw(h=b).s=2,h.v=a,a}}},b.cacheSignal=function(){var a=c.A;return a?a.cacheSignal():null},b.captureOwnerStack=function(){return null},b.cloneElement=function(a,b,c){if(null==a)throw Error(d(267,a));var e=t({},a.props),f=a.key;if(null!=b)for(g in void 0!==b.key&&(f=""+b.key),b)s.call(b,g)&&"key"!==g&&"__self"!==g&&"__source"!==g&&("ref"!==g||void 0!==b.ref)&&(e[g]=b[g]);var g=arguments.length-2;if(1===g)e.children=c;else if(1<g){for(var h=Array(g),i=0;i<g;i++)h[i]=arguments[i+2];e.children=h}return u(a.type,f,e)},b.createElement=function(a,b,c){var d,e={},f=null;if(null!=b)for(d in void 0!==b.key&&(f=""+b.key),b)s.call(b,d)&&"key"!==d&&"__self"!==d&&"__source"!==d&&(e[d]=b[d]);var g=arguments.length-2;if(1===g)e.children=c;else if(1<g){for(var h=Array(g),i=0;i<g;i++)h[i]=arguments[i+2];e.children=h}if(a&&a.defaultProps)for(d in g=a.defaultProps)void 0===e[d]&&(e[d]=g[d]);return u(a,f,e)},b.createRef=function(){return{current:null}},b.forwardRef=function(a){return{$$typeof:l,render:a}},b.isValidElement=v,b.lazy=function(a){return{$$typeof:o,_payload:{_status:-1,_result:a},_init:z}},b.memo=function(a,b){return{$$typeof:n,type:a,compare:void 0===b?null:b}},b.use=function(a){return c.H.use(a)},b.useCallback=function(a,b){return c.H.useCallback(a,b)},b.useDebugValue=function(){},b.useId=function(){return c.H.useId()},b.useMemo=function(a,b){return c.H.useMemo(a,b)},b.version="19.3.0-canary-b4455a6e-20251027"},446:(a,b,c)=>{(()=>{"use strict";let b,d,e,f,g;var h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x={491:(a,b,c)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.ContextAPI=void 0;let d=c(223),e=c(172),f=c(930),g="context",h=new d.NoopContextManager;class i{constructor(){}static getInstance(){return this._instance||(this._instance=new i),this._instance}setGlobalContextManager(a){return(0,e.registerGlobal)(g,a,f.DiagAPI.instance())}active(){return this._getContextManager().active()}with(a,b,c,...d){return this._getContextManager().with(a,b,c,...d)}bind(a,b){return this._getContextManager().bind(a,b)}_getContextManager(){return(0,e.getGlobal)(g)||h}disable(){this._getContextManager().disable(),(0,e.unregisterGlobal)(g,f.DiagAPI.instance())}}b.ContextAPI=i},930:(a,b,c)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.DiagAPI=void 0;let d=c(56),e=c(912),f=c(957),g=c(172);class h{constructor(){function a(a){return function(...b){let c=(0,g.getGlobal)("diag");if(c)return c[a](...b)}}const b=this;b.setLogger=(a,c={logLevel:f.DiagLogLevel.INFO})=>{var d,h,i;if(a===b){let a=Error("Cannot use diag as the logger for itself. Please use a DiagLogger implementation like ConsoleDiagLogger or a custom implementation");return b.error(null!=(d=a.stack)?d:a.message),!1}"number"==typeof c&&(c={logLevel:c});let j=(0,g.getGlobal)("diag"),k=(0,e.createLogLevelDiagLogger)(null!=(h=c.logLevel)?h:f.DiagLogLevel.INFO,a);if(j&&!c.suppressOverrideMessage){let a=null!=(i=Error().stack)?i:"<failed to generate stacktrace>";j.warn(`Current logger will be overwritten from ${a}`),k.warn(`Current logger will overwrite one already registered from ${a}`)}return(0,g.registerGlobal)("diag",k,b,!0)},b.disable=()=>{(0,g.unregisterGlobal)("diag",b)},b.createComponentLogger=a=>new d.DiagComponentLogger(a),b.verbose=a("verbose"),b.debug=a("debug"),b.info=a("info"),b.warn=a("warn"),b.error=a("error")}static instance(){return this._instance||(this._instance=new h),this._instance}}b.DiagAPI=h},653:(a,b,c)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.MetricsAPI=void 0;let d=c(660),e=c(172),f=c(930),g="metrics";class h{constructor(){}static getInstance(){return this._instance||(this._instance=new h),this._instance}setGlobalMeterProvider(a){return(0,e.registerGlobal)(g,a,f.DiagAPI.instance())}getMeterProvider(){return(0,e.getGlobal)(g)||d.NOOP_METER_PROVIDER}getMeter(a,b,c){return this.getMeterProvider().getMeter(a,b,c)}disable(){(0,e.unregisterGlobal)(g,f.DiagAPI.instance())}}b.MetricsAPI=h},181:(a,b,c)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.PropagationAPI=void 0;let d=c(172),e=c(874),f=c(194),g=c(277),h=c(369),i=c(930),j="propagation",k=new e.NoopTextMapPropagator;class l{constructor(){this.createBaggage=h.createBaggage,this.getBaggage=g.getBaggage,this.getActiveBaggage=g.getActiveBaggage,this.setBaggage=g.setBaggage,this.deleteBaggage=g.deleteBaggage}static getInstance(){return this._instance||(this._instance=new l),this._instance}setGlobalPropagator(a){return(0,d.registerGlobal)(j,a,i.DiagAPI.instance())}inject(a,b,c=f.defaultTextMapSetter){return this._getGlobalPropagator().inject(a,b,c)}extract(a,b,c=f.defaultTextMapGetter){return this._getGlobalPropagator().extract(a,b,c)}fields(){return this._getGlobalPropagator().fields()}disable(){(0,d.unregisterGlobal)(j,i.DiagAPI.instance())}_getGlobalPropagator(){return(0,d.getGlobal)(j)||k}}b.PropagationAPI=l},997:(a,b,c)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.TraceAPI=void 0;let d=c(172),e=c(846),f=c(139),g=c(607),h=c(930),i="trace";class j{constructor(){this._proxyTracerProvider=new e.ProxyTracerProvider,this.wrapSpanContext=f.wrapSpanContext,this.isSpanContextValid=f.isSpanContextValid,this.deleteSpan=g.deleteSpan,this.getSpan=g.getSpan,this.getActiveSpan=g.getActiveSpan,this.getSpanContext=g.getSpanContext,this.setSpan=g.setSpan,this.setSpanContext=g.setSpanContext}static getInstance(){return this._instance||(this._instance=new j),this._instance}setGlobalTracerProvider(a){let b=(0,d.registerGlobal)(i,this._proxyTracerProvider,h.DiagAPI.instance());return b&&this._proxyTracerProvider.setDelegate(a),b}getTracerProvider(){return(0,d.getGlobal)(i)||this._proxyTracerProvider}getTracer(a,b){return this.getTracerProvider().getTracer(a,b)}disable(){(0,d.unregisterGlobal)(i,h.DiagAPI.instance()),this._proxyTracerProvider=new e.ProxyTracerProvider}}b.TraceAPI=j},277:(a,b,c)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.deleteBaggage=b.setBaggage=b.getActiveBaggage=b.getBaggage=void 0;let d=c(491),e=(0,c(780).createContextKey)("OpenTelemetry Baggage Key");function f(a){return a.getValue(e)||void 0}b.getBaggage=f,b.getActiveBaggage=function(){return f(d.ContextAPI.getInstance().active())},b.setBaggage=function(a,b){return a.setValue(e,b)},b.deleteBaggage=function(a){return a.deleteValue(e)}},993:(a,b)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.BaggageImpl=void 0;class c{constructor(a){this._entries=a?new Map(a):new Map}getEntry(a){let b=this._entries.get(a);if(b)return Object.assign({},b)}getAllEntries(){return Array.from(this._entries.entries()).map(([a,b])=>[a,b])}setEntry(a,b){let d=new c(this._entries);return d._entries.set(a,b),d}removeEntry(a){let b=new c(this._entries);return b._entries.delete(a),b}removeEntries(...a){let b=new c(this._entries);for(let c of a)b._entries.delete(c);return b}clear(){return new c}}b.BaggageImpl=c},830:(a,b)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.baggageEntryMetadataSymbol=void 0,b.baggageEntryMetadataSymbol=Symbol("BaggageEntryMetadata")},369:(a,b,c)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.baggageEntryMetadataFromString=b.createBaggage=void 0;let d=c(930),e=c(993),f=c(830),g=d.DiagAPI.instance();b.createBaggage=function(a={}){return new e.BaggageImpl(new Map(Object.entries(a)))},b.baggageEntryMetadataFromString=function(a){return"string"!=typeof a&&(g.error(`Cannot create baggage metadata from unknown type: ${typeof a}`),a=""),{__TYPE__:f.baggageEntryMetadataSymbol,toString:()=>a}}},67:(a,b,c)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.context=void 0,b.context=c(491).ContextAPI.getInstance()},223:(a,b,c)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.NoopContextManager=void 0;let d=c(780);class e{active(){return d.ROOT_CONTEXT}with(a,b,c,...d){return b.call(c,...d)}bind(a,b){return b}enable(){return this}disable(){return this}}b.NoopContextManager=e},780:(a,b)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.ROOT_CONTEXT=b.createContextKey=void 0,b.createContextKey=function(a){return Symbol.for(a)};class c{constructor(a){const b=this;b._currentContext=a?new Map(a):new Map,b.getValue=a=>b._currentContext.get(a),b.setValue=(a,d)=>{let e=new c(b._currentContext);return e._currentContext.set(a,d),e},b.deleteValue=a=>{let d=new c(b._currentContext);return d._currentContext.delete(a),d}}}b.ROOT_CONTEXT=new c},506:(a,b,c)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.diag=void 0,b.diag=c(930).DiagAPI.instance()},56:(a,b,c)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.DiagComponentLogger=void 0;let d=c(172);class e{constructor(a){this._namespace=a.namespace||"DiagComponentLogger"}debug(...a){return f("debug",this._namespace,a)}error(...a){return f("error",this._namespace,a)}info(...a){return f("info",this._namespace,a)}warn(...a){return f("warn",this._namespace,a)}verbose(...a){return f("verbose",this._namespace,a)}}function f(a,b,c){let e=(0,d.getGlobal)("diag");if(e)return c.unshift(b),e[a](...c)}b.DiagComponentLogger=e},972:(a,b)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.DiagConsoleLogger=void 0;let c=[{n:"error",c:"error"},{n:"warn",c:"warn"},{n:"info",c:"info"},{n:"debug",c:"debug"},{n:"verbose",c:"trace"}];class d{constructor(){for(let a=0;a<c.length;a++)this[c[a].n]=function(a){return function(...b){if(console){let c=console[a];if("function"!=typeof c&&(c=console.log),"function"==typeof c)return c.apply(console,b)}}}(c[a].c)}}b.DiagConsoleLogger=d},912:(a,b,c)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.createLogLevelDiagLogger=void 0;let d=c(957);b.createLogLevelDiagLogger=function(a,b){function c(c,d){let e=b[c];return"function"==typeof e&&a>=d?e.bind(b):function(){}}return a<d.DiagLogLevel.NONE?a=d.DiagLogLevel.NONE:a>d.DiagLogLevel.ALL&&(a=d.DiagLogLevel.ALL),b=b||{},{error:c("error",d.DiagLogLevel.ERROR),warn:c("warn",d.DiagLogLevel.WARN),info:c("info",d.DiagLogLevel.INFO),debug:c("debug",d.DiagLogLevel.DEBUG),verbose:c("verbose",d.DiagLogLevel.VERBOSE)}}},957:(a,b)=>{var c;Object.defineProperty(b,"__esModule",{value:!0}),b.DiagLogLevel=void 0,(c=b.DiagLogLevel||(b.DiagLogLevel={}))[c.NONE=0]="NONE",c[c.ERROR=30]="ERROR",c[c.WARN=50]="WARN",c[c.INFO=60]="INFO",c[c.DEBUG=70]="DEBUG",c[c.VERBOSE=80]="VERBOSE",c[c.ALL=9999]="ALL"},172:(a,b,c)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.unregisterGlobal=b.getGlobal=b.registerGlobal=void 0;let d=c(200),e=c(521),f=c(130),g=e.VERSION.split(".")[0],h=Symbol.for(`opentelemetry.js.api.${g}`),i=d._globalThis;b.registerGlobal=function(a,b,c,d=!1){var f;let g=i[h]=null!=(f=i[h])?f:{version:e.VERSION};if(!d&&g[a]){let b=Error(`@opentelemetry/api: Attempted duplicate registration of API: ${a}`);return c.error(b.stack||b.message),!1}if(g.version!==e.VERSION){let b=Error(`@opentelemetry/api: Registration of version v${g.version} for ${a} does not match previously registered API v${e.VERSION}`);return c.error(b.stack||b.message),!1}return g[a]=b,c.debug(`@opentelemetry/api: Registered a global for ${a} v${e.VERSION}.`),!0},b.getGlobal=function(a){var b,c;let d=null==(b=i[h])?void 0:b.version;if(d&&(0,f.isCompatible)(d))return null==(c=i[h])?void 0:c[a]},b.unregisterGlobal=function(a,b){b.debug(`@opentelemetry/api: Unregistering a global for ${a} v${e.VERSION}.`);let c=i[h];c&&delete c[a]}},130:(a,b,c)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.isCompatible=b._makeCompatibilityCheck=void 0;let d=c(521),e=/^(\d+)\.(\d+)\.(\d+)(-(.+))?$/;function f(a){let b=new Set([a]),c=new Set,d=a.match(e);if(!d)return()=>!1;let f={major:+d[1],minor:+d[2],patch:+d[3],prerelease:d[4]};if(null!=f.prerelease)return function(b){return b===a};function g(a){return c.add(a),!1}return function(a){if(b.has(a))return!0;if(c.has(a))return!1;let d=a.match(e);if(!d)return g(a);let h={major:+d[1],minor:+d[2],patch:+d[3],prerelease:d[4]};if(null!=h.prerelease||f.major!==h.major)return g(a);if(0===f.major)return f.minor===h.minor&&f.patch<=h.patch?(b.add(a),!0):g(a);return f.minor<=h.minor?(b.add(a),!0):g(a)}}b._makeCompatibilityCheck=f,b.isCompatible=f(d.VERSION)},886:(a,b,c)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.metrics=void 0,b.metrics=c(653).MetricsAPI.getInstance()},901:(a,b)=>{var c;Object.defineProperty(b,"__esModule",{value:!0}),b.ValueType=void 0,(c=b.ValueType||(b.ValueType={}))[c.INT=0]="INT",c[c.DOUBLE=1]="DOUBLE"},102:(a,b)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.createNoopMeter=b.NOOP_OBSERVABLE_UP_DOWN_COUNTER_METRIC=b.NOOP_OBSERVABLE_GAUGE_METRIC=b.NOOP_OBSERVABLE_COUNTER_METRIC=b.NOOP_UP_DOWN_COUNTER_METRIC=b.NOOP_HISTOGRAM_METRIC=b.NOOP_COUNTER_METRIC=b.NOOP_METER=b.NoopObservableUpDownCounterMetric=b.NoopObservableGaugeMetric=b.NoopObservableCounterMetric=b.NoopObservableMetric=b.NoopHistogramMetric=b.NoopUpDownCounterMetric=b.NoopCounterMetric=b.NoopMetric=b.NoopMeter=void 0;class c{constructor(){}createHistogram(a,c){return b.NOOP_HISTOGRAM_METRIC}createCounter(a,c){return b.NOOP_COUNTER_METRIC}createUpDownCounter(a,c){return b.NOOP_UP_DOWN_COUNTER_METRIC}createObservableGauge(a,c){return b.NOOP_OBSERVABLE_GAUGE_METRIC}createObservableCounter(a,c){return b.NOOP_OBSERVABLE_COUNTER_METRIC}createObservableUpDownCounter(a,c){return b.NOOP_OBSERVABLE_UP_DOWN_COUNTER_METRIC}addBatchObservableCallback(a,b){}removeBatchObservableCallback(a){}}b.NoopMeter=c;class d{}b.NoopMetric=d;class e extends d{add(a,b){}}b.NoopCounterMetric=e;class f extends d{add(a,b){}}b.NoopUpDownCounterMetric=f;class g extends d{record(a,b){}}b.NoopHistogramMetric=g;class h{addCallback(a){}removeCallback(a){}}b.NoopObservableMetric=h;class i extends h{}b.NoopObservableCounterMetric=i;class j extends h{}b.NoopObservableGaugeMetric=j;class k extends h{}b.NoopObservableUpDownCounterMetric=k,b.NOOP_METER=new c,b.NOOP_COUNTER_METRIC=new e,b.NOOP_HISTOGRAM_METRIC=new g,b.NOOP_UP_DOWN_COUNTER_METRIC=new f,b.NOOP_OBSERVABLE_COUNTER_METRIC=new i,b.NOOP_OBSERVABLE_GAUGE_METRIC=new j,b.NOOP_OBSERVABLE_UP_DOWN_COUNTER_METRIC=new k,b.createNoopMeter=function(){return b.NOOP_METER}},660:(a,b,c)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.NOOP_METER_PROVIDER=b.NoopMeterProvider=void 0;let d=c(102);class e{getMeter(a,b,c){return d.NOOP_METER}}b.NoopMeterProvider=e,b.NOOP_METER_PROVIDER=new e},200:function(a,b,c){var d=this&&this.__createBinding||(Object.create?function(a,b,c,d){void 0===d&&(d=c),Object.defineProperty(a,d,{enumerable:!0,get:function(){return b[c]}})}:function(a,b,c,d){void 0===d&&(d=c),a[d]=b[c]}),e=this&&this.__exportStar||function(a,b){for(var c in a)"default"===c||Object.prototype.hasOwnProperty.call(b,c)||d(b,a,c)};Object.defineProperty(b,"__esModule",{value:!0}),e(c(46),b)},651:(a,b)=>{Object.defineProperty(b,"__esModule",{value:!0}),b._globalThis=void 0,b._globalThis="object"==typeof globalThis?globalThis:c.g},46:function(a,b,c){var d=this&&this.__createBinding||(Object.create?function(a,b,c,d){void 0===d&&(d=c),Object.defineProperty(a,d,{enumerable:!0,get:function(){return b[c]}})}:function(a,b,c,d){void 0===d&&(d=c),a[d]=b[c]}),e=this&&this.__exportStar||function(a,b){for(var c in a)"default"===c||Object.prototype.hasOwnProperty.call(b,c)||d(b,a,c)};Object.defineProperty(b,"__esModule",{value:!0}),e(c(651),b)},939:(a,b,c)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.propagation=void 0,b.propagation=c(181).PropagationAPI.getInstance()},874:(a,b)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.NoopTextMapPropagator=void 0;class c{inject(a,b){}extract(a,b){return a}fields(){return[]}}b.NoopTextMapPropagator=c},194:(a,b)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.defaultTextMapSetter=b.defaultTextMapGetter=void 0,b.defaultTextMapGetter={get(a,b){if(null!=a)return a[b]},keys:a=>null==a?[]:Object.keys(a)},b.defaultTextMapSetter={set(a,b,c){null!=a&&(a[b]=c)}}},845:(a,b,c)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.trace=void 0,b.trace=c(997).TraceAPI.getInstance()},403:(a,b,c)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.NonRecordingSpan=void 0;let d=c(476);class e{constructor(a=d.INVALID_SPAN_CONTEXT){this._spanContext=a}spanContext(){return this._spanContext}setAttribute(a,b){return this}setAttributes(a){return this}addEvent(a,b){return this}setStatus(a){return this}updateName(a){return this}end(a){}isRecording(){return!1}recordException(a,b){}}b.NonRecordingSpan=e},614:(a,b,c)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.NoopTracer=void 0;let d=c(491),e=c(607),f=c(403),g=c(139),h=d.ContextAPI.getInstance();class i{startSpan(a,b,c=h.active()){var d;if(null==b?void 0:b.root)return new f.NonRecordingSpan;let i=c&&(0,e.getSpanContext)(c);return"object"==typeof(d=i)&&"string"==typeof d.spanId&&"string"==typeof d.traceId&&"number"==typeof d.traceFlags&&(0,g.isSpanContextValid)(i)?new f.NonRecordingSpan(i):new f.NonRecordingSpan}startActiveSpan(a,b,c,d){let f,g,i;if(arguments.length<2)return;2==arguments.length?i=b:3==arguments.length?(f=b,i=c):(f=b,g=c,i=d);let j=null!=g?g:h.active(),k=this.startSpan(a,f,j),l=(0,e.setSpan)(j,k);return h.with(l,i,void 0,k)}}b.NoopTracer=i},124:(a,b,c)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.NoopTracerProvider=void 0;let d=c(614);class e{getTracer(a,b,c){return new d.NoopTracer}}b.NoopTracerProvider=e},125:(a,b,c)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.ProxyTracer=void 0;let d=new(c(614)).NoopTracer;class e{constructor(a,b,c,d){this._provider=a,this.name=b,this.version=c,this.options=d}startSpan(a,b,c){return this._getTracer().startSpan(a,b,c)}startActiveSpan(a,b,c,d){let e=this._getTracer();return Reflect.apply(e.startActiveSpan,e,arguments)}_getTracer(){if(this._delegate)return this._delegate;let a=this._provider.getDelegateTracer(this.name,this.version,this.options);return a?(this._delegate=a,this._delegate):d}}b.ProxyTracer=e},846:(a,b,c)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.ProxyTracerProvider=void 0;let d=c(125),e=new(c(124)).NoopTracerProvider;class f{getTracer(a,b,c){var e;return null!=(e=this.getDelegateTracer(a,b,c))?e:new d.ProxyTracer(this,a,b,c)}getDelegate(){var a;return null!=(a=this._delegate)?a:e}setDelegate(a){this._delegate=a}getDelegateTracer(a,b,c){var d;return null==(d=this._delegate)?void 0:d.getTracer(a,b,c)}}b.ProxyTracerProvider=f},996:(a,b)=>{var c;Object.defineProperty(b,"__esModule",{value:!0}),b.SamplingDecision=void 0,(c=b.SamplingDecision||(b.SamplingDecision={}))[c.NOT_RECORD=0]="NOT_RECORD",c[c.RECORD=1]="RECORD",c[c.RECORD_AND_SAMPLED=2]="RECORD_AND_SAMPLED"},607:(a,b,c)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.getSpanContext=b.setSpanContext=b.deleteSpan=b.setSpan=b.getActiveSpan=b.getSpan=void 0;let d=c(780),e=c(403),f=c(491),g=(0,d.createContextKey)("OpenTelemetry Context Key SPAN");function h(a){return a.getValue(g)||void 0}function i(a,b){return a.setValue(g,b)}b.getSpan=h,b.getActiveSpan=function(){return h(f.ContextAPI.getInstance().active())},b.setSpan=i,b.deleteSpan=function(a){return a.deleteValue(g)},b.setSpanContext=function(a,b){return i(a,new e.NonRecordingSpan(b))},b.getSpanContext=function(a){var b;return null==(b=h(a))?void 0:b.spanContext()}},325:(a,b,c)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.TraceStateImpl=void 0;let d=c(564);class e{constructor(a){this._internalState=new Map,a&&this._parse(a)}set(a,b){let c=this._clone();return c._internalState.has(a)&&c._internalState.delete(a),c._internalState.set(a,b),c}unset(a){let b=this._clone();return b._internalState.delete(a),b}get(a){return this._internalState.get(a)}serialize(){return this._keys().reduce((a,b)=>(a.push(b+"="+this.get(b)),a),[]).join(",")}_parse(a){!(a.length>512)&&(this._internalState=a.split(",").reverse().reduce((a,b)=>{let c=b.trim(),e=c.indexOf("=");if(-1!==e){let f=c.slice(0,e),g=c.slice(e+1,b.length);(0,d.validateKey)(f)&&(0,d.validateValue)(g)&&a.set(f,g)}return a},new Map),this._internalState.size>32&&(this._internalState=new Map(Array.from(this._internalState.entries()).reverse().slice(0,32))))}_keys(){return Array.from(this._internalState.keys()).reverse()}_clone(){let a=new e;return a._internalState=new Map(this._internalState),a}}b.TraceStateImpl=e},564:(a,b)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.validateValue=b.validateKey=void 0;let c="[_0-9a-z-*/]",d=`[a-z]${c}{0,255}`,e=`[a-z0-9]${c}{0,240}@[a-z]${c}{0,13}`,f=RegExp(`^(?:${d}|${e})$`),g=/^[ -~]{0,255}[!-~]$/,h=/,|=/;b.validateKey=function(a){return f.test(a)},b.validateValue=function(a){return g.test(a)&&!h.test(a)}},98:(a,b,c)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.createTraceState=void 0;let d=c(325);b.createTraceState=function(a){return new d.TraceStateImpl(a)}},476:(a,b,c)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.INVALID_SPAN_CONTEXT=b.INVALID_TRACEID=b.INVALID_SPANID=void 0;let d=c(475);b.INVALID_SPANID="0000000000000000",b.INVALID_TRACEID="00000000000000000000000000000000",b.INVALID_SPAN_CONTEXT={traceId:b.INVALID_TRACEID,spanId:b.INVALID_SPANID,traceFlags:d.TraceFlags.NONE}},357:(a,b)=>{var c;Object.defineProperty(b,"__esModule",{value:!0}),b.SpanKind=void 0,(c=b.SpanKind||(b.SpanKind={}))[c.INTERNAL=0]="INTERNAL",c[c.SERVER=1]="SERVER",c[c.CLIENT=2]="CLIENT",c[c.PRODUCER=3]="PRODUCER",c[c.CONSUMER=4]="CONSUMER"},139:(a,b,c)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.wrapSpanContext=b.isSpanContextValid=b.isValidSpanId=b.isValidTraceId=void 0;let d=c(476),e=c(403),f=/^([0-9a-f]{32})$/i,g=/^[0-9a-f]{16}$/i;function h(a){return f.test(a)&&a!==d.INVALID_TRACEID}function i(a){return g.test(a)&&a!==d.INVALID_SPANID}b.isValidTraceId=h,b.isValidSpanId=i,b.isSpanContextValid=function(a){return h(a.traceId)&&i(a.spanId)},b.wrapSpanContext=function(a){return new e.NonRecordingSpan(a)}},847:(a,b)=>{var c;Object.defineProperty(b,"__esModule",{value:!0}),b.SpanStatusCode=void 0,(c=b.SpanStatusCode||(b.SpanStatusCode={}))[c.UNSET=0]="UNSET",c[c.OK=1]="OK",c[c.ERROR=2]="ERROR"},475:(a,b)=>{var c;Object.defineProperty(b,"__esModule",{value:!0}),b.TraceFlags=void 0,(c=b.TraceFlags||(b.TraceFlags={}))[c.NONE=0]="NONE",c[c.SAMPLED=1]="SAMPLED"},521:(a,b)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.VERSION=void 0,b.VERSION="1.6.0"}},y={};function z(a){var b=y[a];if(void 0!==b)return b.exports;var c=y[a]={exports:{}},d=!0;try{x[a].call(c.exports,c,c.exports,z),d=!1}finally{d&&delete y[a]}return c.exports}z.ab="//";var A={};Object.defineProperty(A,"__esModule",{value:!0}),A.trace=A.propagation=A.metrics=A.diag=A.context=A.INVALID_SPAN_CONTEXT=A.INVALID_TRACEID=A.INVALID_SPANID=A.isValidSpanId=A.isValidTraceId=A.isSpanContextValid=A.createTraceState=A.TraceFlags=A.SpanStatusCode=A.SpanKind=A.SamplingDecision=A.ProxyTracerProvider=A.ProxyTracer=A.defaultTextMapSetter=A.defaultTextMapGetter=A.ValueType=A.createNoopMeter=A.DiagLogLevel=A.DiagConsoleLogger=A.ROOT_CONTEXT=A.createContextKey=A.baggageEntryMetadataFromString=void 0,h=z(369),Object.defineProperty(A,"baggageEntryMetadataFromString",{enumerable:!0,get:function(){return h.baggageEntryMetadataFromString}}),i=z(780),Object.defineProperty(A,"createContextKey",{enumerable:!0,get:function(){return i.createContextKey}}),Object.defineProperty(A,"ROOT_CONTEXT",{enumerable:!0,get:function(){return i.ROOT_CONTEXT}}),j=z(972),Object.defineProperty(A,"DiagConsoleLogger",{enumerable:!0,get:function(){return j.DiagConsoleLogger}}),k=z(957),Object.defineProperty(A,"DiagLogLevel",{enumerable:!0,get:function(){return k.DiagLogLevel}}),l=z(102),Object.defineProperty(A,"createNoopMeter",{enumerable:!0,get:function(){return l.createNoopMeter}}),m=z(901),Object.defineProperty(A,"ValueType",{enumerable:!0,get:function(){return m.ValueType}}),n=z(194),Object.defineProperty(A,"defaultTextMapGetter",{enumerable:!0,get:function(){return n.defaultTextMapGetter}}),Object.defineProperty(A,"defaultTextMapSetter",{enumerable:!0,get:function(){return n.defaultTextMapSetter}}),o=z(125),Object.defineProperty(A,"ProxyTracer",{enumerable:!0,get:function(){return o.ProxyTracer}}),p=z(846),Object.defineProperty(A,"ProxyTracerProvider",{enumerable:!0,get:function(){return p.ProxyTracerProvider}}),q=z(996),Object.defineProperty(A,"SamplingDecision",{enumerable:!0,get:function(){return q.SamplingDecision}}),r=z(357),Object.defineProperty(A,"SpanKind",{enumerable:!0,get:function(){return r.SpanKind}}),s=z(847),Object.defineProperty(A,"SpanStatusCode",{enumerable:!0,get:function(){return s.SpanStatusCode}}),t=z(475),Object.defineProperty(A,"TraceFlags",{enumerable:!0,get:function(){return t.TraceFlags}}),u=z(98),Object.defineProperty(A,"createTraceState",{enumerable:!0,get:function(){return u.createTraceState}}),v=z(139),Object.defineProperty(A,"isSpanContextValid",{enumerable:!0,get:function(){return v.isSpanContextValid}}),Object.defineProperty(A,"isValidTraceId",{enumerable:!0,get:function(){return v.isValidTraceId}}),Object.defineProperty(A,"isValidSpanId",{enumerable:!0,get:function(){return v.isValidSpanId}}),w=z(476),Object.defineProperty(A,"INVALID_SPANID",{enumerable:!0,get:function(){return w.INVALID_SPANID}}),Object.defineProperty(A,"INVALID_TRACEID",{enumerable:!0,get:function(){return w.INVALID_TRACEID}}),Object.defineProperty(A,"INVALID_SPAN_CONTEXT",{enumerable:!0,get:function(){return w.INVALID_SPAN_CONTEXT}}),b=z(67),Object.defineProperty(A,"context",{enumerable:!0,get:function(){return b.context}}),d=z(506),Object.defineProperty(A,"diag",{enumerable:!0,get:function(){return d.diag}}),e=z(886),Object.defineProperty(A,"metrics",{enumerable:!0,get:function(){return e.metrics}}),f=z(939),Object.defineProperty(A,"propagation",{enumerable:!0,get:function(){return f.propagation}}),g=z(845),Object.defineProperty(A,"trace",{enumerable:!0,get:function(){return g.trace}}),A.default={context:b.context,diag:d.diag,metrics:e.metrics,propagation:f.propagation,trace:g.trace},a.exports=A})()},502:(a,b,c)=>{"use strict";c.d(b,{F:()=>e,h:()=>f});let d="DYNAMIC_SERVER_USAGE";class e extends Error{constructor(a){super(`Dynamic server usage: ${a}`),this.description=a,this.digest=d}}function f(a){return"object"==typeof a&&null!==a&&"digest"in a&&"string"==typeof a.digest&&a.digest===d}},507:(a,b,c)=>{"use strict";c(520)},520:(a,b,c)=>{"use strict";c.d(b,{z:()=>d});class d extends Error{constructor(a,b){super(`Invariant: ${a.endsWith(".")?a:a+"."} This is a bug in Next.js.`,b),this.name="InvariantError"}}},521:a=>{"use strict";a.exports=require("node:async_hooks")},543:(a,b,c)=>{"use strict";c.d(b,{X:()=>function a(b){if((0,g.p)(b)||(0,f.C)(b)||(0,i.h)(b)||(0,h.I3)(b)||"object"==typeof b&&null!==b&&b.$$typeof===e||(0,d.Ts)(b)||(0,h.AA)(b))throw b;b instanceof Error&&"cause"in b&&a(b.cause)}});var d=c(743);let e=Symbol.for("react.postpone");var f=c(297),g=c(789),h=c(605),i=c(502)},605:(a,b,c)=>{"use strict";c.d(b,{wi:()=>n,I3:()=>k,AA:()=>m,Ui:()=>i,xI:()=>g,Pk:()=>h});var d=c(345),e=c(502);c(20),c(228),c(778),c(743),c(297),c(520),c(507);let f="function"==typeof d.unstable_postpone;function g(a,b,c){let d=Object.defineProperty(new e.F(`Route ${b.route} couldn't be rendered statically because it used \`${a}\`. See more info here: https://nextjs.org/docs/messages/dynamic-server-error`),"__NEXT_ERROR_CODE",{value:"E558",enumerable:!1,configurable:!0});throw c.revalidate=0,b.dynamicUsageDescription=a,b.dynamicUsageStack=d.stack,d}function h(a){switch(a.type){case"cache":case"unstable-cache":case"private-cache":return}}function i(a,b,c){(function(){if(!f)throw Object.defineProperty(Error("Invariant: React.unstable_postpone is not defined. This suggests the wrong version of React was loaded. This is a bug in Next.js"),"__NEXT_ERROR_CODE",{value:"E224",enumerable:!1,configurable:!0})})(),c&&c.dynamicAccesses.push({stack:c.isDebugDynamicAccesses?Error().stack:void 0,expression:b}),d.unstable_postpone(j(a,b))}function j(a,b){return`Route ${a} needs to bail out of prerendering at this point because it used ${b}. React throws this special object to indicate where. It should not be caught by your own try/catch. Learn more: https://nextjs.org/docs/messages/ppr-caught-error`}function k(a){return"object"==typeof a&&null!==a&&"string"==typeof a.message&&l(a.message)}function l(a){return a.includes("needs to bail out of prerendering at this point because it used")&&a.includes("Learn more: https://nextjs.org/docs/messages/ppr-caught-error")}if(!1===l(j("%%%","^^^")))throw Object.defineProperty(Error("Invariant: isDynamicPostpone misidentified a postpone reason. This is a bug in Next.js"),"__NEXT_ERROR_CODE",{value:"E296",enumerable:!1,configurable:!0});function m(a){return"object"==typeof a&&null!==a&&"NEXT_PRERENDER_INTERRUPTED"===a.digest&&"name"in a&&"message"in a&&a instanceof Error}function n(a,b){return a.runtimeStagePromise?a.runtimeStagePromise.then(()=>b):b}RegExp(`\\n\\s+at Suspense \\(<anonymous>\\)(?:(?!\\n\\s+at (?:body|div|main|section|article|aside|header|footer|nav|form|p|span|h1|h2|h3|h4|h5|h6) \\(<anonymous>\\))[\\s\\S])*?\\n\\s+at __next_root_layout_boundary__ \\([^\\n]*\\)`),RegExp(`\\n\\s+at __next_metadata_boundary__[\\n\\s]`),RegExp(`\\n\\s+at __next_viewport_boundary__[\\n\\s]`),RegExp(`\\n\\s+at __next_outlet_boundary__[\\n\\s]`)},643:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0});var d={getTestReqInfo:function(){return i},withRequest:function(){return h}};for(var e in d)Object.defineProperty(b,e,{enumerable:!0,get:d[e]});let f=new(c(521)).AsyncLocalStorage;function g(a,b){let c=b.header(a,"next-test-proxy-port");if(!c)return;let d=b.url(a);return{url:d,proxyPort:Number(c),testData:b.header(a,"next-test-data")||""}}function h(a,b,c){let d=g(a,b);return d?f.run(d,c):c()}function i(a,b){let c=f.getStore();return c||(a&&b?g(a,b):void 0)}},743:(a,b,c)=>{"use strict";function d(a){return"object"==typeof a&&null!==a&&"digest"in a&&a.digest===e}c.d(b,{Ts:()=>d,W5:()=>h});let e="HANGING_PROMISE_REJECTION";class f extends Error{constructor(a,b){super(`During prerendering, ${b} rejects when the prerender is complete. Typically these errors are handled by React but if you move ${b} to a different context by using \`setTimeout\`, \`after\`, or similar functions you may observe this error and you should handle it in that context. This occurred at route "${a}".`),this.route=a,this.expression=b,this.digest=e}}let g=new WeakMap;function h(a,b,c){if(a.aborted)return Promise.reject(new f(b,c));{let d=new Promise((d,e)=>{let h=e.bind(null,new f(b,c)),i=g.get(a);if(i)i.push(h);else{let b=[h];g.set(a,b),a.addEventListener("abort",()=>{for(let a=0;a<b.length;a++)b[a]()},{once:!0})}});return d.catch(i),d}}function i(){}},748:(a,b,c)=>{"use strict";let d,e,f,g,h,i,j,k,l,m;c.r(b),c.d(b,{default:()=>lP});var n,o,p={};async function q(){return"_ENTRIES"in globalThis&&_ENTRIES.middleware_instrumentation&&await _ENTRIES.middleware_instrumentation}c.r(p),c.d(p,{config:()=>lK,default:()=>lJ});let r=null;async function s(){if("phase-production-build"===process.env.NEXT_PHASE)return;r||(r=q());let a=await r;if(null==a?void 0:a.register)try{await a.register()}catch(a){throw a.message=`An error occurred while loading instrumentation hook: ${a.message}`,a}}async function t(...a){let b=await q();try{var c;await (null==b||null==(c=b.onRequestError)?void 0:c.call(b,...a))}catch(a){console.error("Error in instrumentation.onRequestError:",a)}}let u=null;function v(){return u||(u=s()),u}function w(a){return`The edge runtime does not support Node.js '${a}' module.
Learn More: https://nextjs.org/docs/messages/node-module-in-edge-runtime`}process!==c.g.process&&(process.env=c.g.process.env,c.g.process=process);try{Object.defineProperty(globalThis,"__import_unsupported",{value:function(a){let b=new Proxy(function(){},{get(b,c){if("then"===c)return{};throw Object.defineProperty(Error(w(a)),"__NEXT_ERROR_CODE",{value:"E394",enumerable:!1,configurable:!0})},construct(){throw Object.defineProperty(Error(w(a)),"__NEXT_ERROR_CODE",{value:"E394",enumerable:!1,configurable:!0})},apply(c,d,e){if("function"==typeof e[0])return e[0](b);throw Object.defineProperty(Error(w(a)),"__NEXT_ERROR_CODE",{value:"E394",enumerable:!1,configurable:!0})}});return new Proxy({},{get:()=>b})},enumerable:!1,configurable:!1})}catch{}v();class x extends Error{constructor({page:a}){super(`The middleware "${a}" accepts an async API directly with the form:
  
  export function middleware(request, event) {
    return NextResponse.redirect('/new-location')
  }
  
  Read more: https://nextjs.org/docs/messages/middleware-new-signature
  `)}}class y extends Error{constructor(){super(`The request.page has been deprecated in favour of \`URLPattern\`.
  Read more: https://nextjs.org/docs/messages/middleware-request-page
  `)}}class z extends Error{constructor(){super(`The request.ua has been removed in favour of \`userAgent\` function.
  Read more: https://nextjs.org/docs/messages/middleware-parse-user-agent
  `)}}let A="_N_T_",B={shared:"shared",reactServerComponents:"rsc",serverSideRendering:"ssr",actionBrowser:"action-browser",apiNode:"api-node",apiEdge:"api-edge",middleware:"middleware",instrument:"instrument",edgeAsset:"edge-asset",appPagesBrowser:"app-pages-browser",pagesDirBrowser:"pages-dir-browser",pagesDirEdge:"pages-dir-edge",pagesDirNode:"pages-dir-node"};function C(a){var b,c,d,e,f,g=[],h=0;function i(){for(;h<a.length&&/\s/.test(a.charAt(h));)h+=1;return h<a.length}for(;h<a.length;){for(b=h,f=!1;i();)if(","===(c=a.charAt(h))){for(d=h,h+=1,i(),e=h;h<a.length&&"="!==(c=a.charAt(h))&&";"!==c&&","!==c;)h+=1;h<a.length&&"="===a.charAt(h)?(f=!0,h=e,g.push(a.substring(b,d)),b=h):h=d+1}else h+=1;(!f||h>=a.length)&&g.push(a.substring(b,a.length))}return g}function D(a){let b={},c=[];if(a)for(let[d,e]of a.entries())"set-cookie"===d.toLowerCase()?(c.push(...C(e)),b[d]=1===c.length?c[0]:c):b[d]=e;return b}function E(a){try{return String(new URL(String(a)))}catch(b){throw Object.defineProperty(Error(`URL is malformed "${String(a)}". Please use only absolute URLs - https://nextjs.org/docs/messages/middleware-relative-urls`,{cause:b}),"__NEXT_ERROR_CODE",{value:"E61",enumerable:!1,configurable:!0})}}({...B,GROUP:{builtinReact:[B.reactServerComponents,B.actionBrowser],serverOnly:[B.reactServerComponents,B.actionBrowser,B.instrument,B.middleware],neutralTarget:[B.apiNode,B.apiEdge],clientOnly:[B.serverSideRendering,B.appPagesBrowser],bundled:[B.reactServerComponents,B.actionBrowser,B.serverSideRendering,B.appPagesBrowser,B.shared,B.instrument,B.middleware],appPages:[B.reactServerComponents,B.serverSideRendering,B.appPagesBrowser,B.actionBrowser]}});let F=Symbol("response"),G=Symbol("passThrough"),H=Symbol("waitUntil");class I{constructor(a,b){this[G]=!1,this[H]=b?{kind:"external",function:b}:{kind:"internal",promises:[]}}respondWith(a){this[F]||(this[F]=Promise.resolve(a))}passThroughOnException(){this[G]=!0}waitUntil(a){if("external"===this[H].kind)return(0,this[H].function)(a);this[H].promises.push(a)}}class J extends I{constructor(a){var b;super(a.request,null==(b=a.context)?void 0:b.waitUntil),this.sourcePage=a.page}get request(){throw Object.defineProperty(new x({page:this.sourcePage}),"__NEXT_ERROR_CODE",{value:"E394",enumerable:!1,configurable:!0})}respondWith(){throw Object.defineProperty(new x({page:this.sourcePage}),"__NEXT_ERROR_CODE",{value:"E394",enumerable:!1,configurable:!0})}}function K(a){return a.replace(/\/$/,"")||"/"}function L(a){let b=a.indexOf("#"),c=a.indexOf("?"),d=c>-1&&(b<0||c<b);return d||b>-1?{pathname:a.substring(0,d?c:b),query:d?a.substring(c,b>-1?b:void 0):"",hash:b>-1?a.slice(b):""}:{pathname:a,query:"",hash:""}}function M(a,b){if(!a.startsWith("/")||!b)return a;let{pathname:c,query:d,hash:e}=L(a);return`${b}${c}${d}${e}`}function N(a,b){if(!a.startsWith("/")||!b)return a;let{pathname:c,query:d,hash:e}=L(a);return`${c}${b}${d}${e}`}function O(a,b){if("string"!=typeof a)return!1;let{pathname:c}=L(a);return c===b||c.startsWith(b+"/")}let P=new WeakMap;function Q(a,b){let c;if(!b)return{pathname:a};let d=P.get(b);d||(d=b.map(a=>a.toLowerCase()),P.set(b,d));let e=a.split("/",2);if(!e[1])return{pathname:a};let f=e[1].toLowerCase(),g=d.indexOf(f);return g<0?{pathname:a}:(c=b[g],{pathname:a=a.slice(c.length+1)||"/",detectedLocale:c})}let R=/(?!^https?:\/\/)(127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}|\[::1\]|localhost)/;function S(a,b){return new URL(String(a).replace(R,"localhost"),b&&String(b).replace(R,"localhost"))}let T=Symbol("NextURLInternal");class U{constructor(a,b,c){let d,e;"object"==typeof b&&"pathname"in b||"string"==typeof b?(d=b,e=c||{}):e=c||b||{},this[T]={url:S(a,d??e.base),options:e,basePath:""},this.analyze()}analyze(){var a,b,c,d,e;let f=function(a,b){let{basePath:c,i18n:d,trailingSlash:e}=b.nextConfig??{},f={pathname:a,trailingSlash:"/"!==a?a.endsWith("/"):e};c&&O(f.pathname,c)&&(f.pathname=function(a,b){if(!O(a,b))return a;let c=a.slice(b.length);return c.startsWith("/")?c:`/${c}`}(f.pathname,c),f.basePath=c);let g=f.pathname;if(f.pathname.startsWith("/_next/data/")&&f.pathname.endsWith(".json")){let a=f.pathname.replace(/^\/_next\/data\//,"").replace(/\.json$/,"").split("/");f.buildId=a[0],g="index"!==a[1]?`/${a.slice(1).join("/")}`:"/",!0===b.parseData&&(f.pathname=g)}if(d){let a=b.i18nProvider?b.i18nProvider.analyze(f.pathname):Q(f.pathname,d.locales);f.locale=a.detectedLocale,f.pathname=a.pathname??f.pathname,!a.detectedLocale&&f.buildId&&(a=b.i18nProvider?b.i18nProvider.analyze(g):Q(g,d.locales)).detectedLocale&&(f.locale=a.detectedLocale)}return f}(this[T].url.pathname,{nextConfig:this[T].options.nextConfig,parseData:!0,i18nProvider:this[T].options.i18nProvider}),g=function(a,b){let c;if(b?.host&&!Array.isArray(b.host))c=b.host.toString().split(":",1)[0];else{if(!a.hostname)return;c=a.hostname}return c.toLowerCase()}(this[T].url,this[T].options.headers);this[T].domainLocale=this[T].options.i18nProvider?this[T].options.i18nProvider.detectDomainLocale(g):function(a,b,c){if(a){for(let d of(c&&(c=c.toLowerCase()),a))if(b===d.domain?.split(":",1)[0].toLowerCase()||c===d.defaultLocale.toLowerCase()||d.locales?.some(a=>a.toLowerCase()===c))return d}}(null==(b=this[T].options.nextConfig)||null==(a=b.i18n)?void 0:a.domains,g);let h=(null==(c=this[T].domainLocale)?void 0:c.defaultLocale)||(null==(e=this[T].options.nextConfig)||null==(d=e.i18n)?void 0:d.defaultLocale);this[T].url.pathname=f.pathname,this[T].defaultLocale=h,this[T].basePath=f.basePath??"",this[T].buildId=f.buildId,this[T].locale=f.locale??h,this[T].trailingSlash=f.trailingSlash}formatPathname(){var a;let b;return b=function(a,b,c,d){if(!b||b===c)return a;let e=a.toLowerCase();return!d&&(O(e,"/api")||O(e,`/${b.toLowerCase()}`))?a:M(a,`/${b}`)}((a={basePath:this[T].basePath,buildId:this[T].buildId,defaultLocale:this[T].options.forceLocale?void 0:this[T].defaultLocale,locale:this[T].locale,pathname:this[T].url.pathname,trailingSlash:this[T].trailingSlash}).pathname,a.locale,a.buildId?void 0:a.defaultLocale,a.ignorePrefix),(a.buildId||!a.trailingSlash)&&(b=K(b)),a.buildId&&(b=N(M(b,`/_next/data/${a.buildId}`),"/"===a.pathname?"index.json":".json")),b=M(b,a.basePath),!a.buildId&&a.trailingSlash?b.endsWith("/")?b:N(b,"/"):K(b)}formatSearch(){return this[T].url.search}get buildId(){return this[T].buildId}set buildId(a){this[T].buildId=a}get locale(){return this[T].locale??""}set locale(a){var b,c;if(!this[T].locale||!(null==(c=this[T].options.nextConfig)||null==(b=c.i18n)?void 0:b.locales.includes(a)))throw Object.defineProperty(TypeError(`The NextURL configuration includes no locale "${a}"`),"__NEXT_ERROR_CODE",{value:"E597",enumerable:!1,configurable:!0});this[T].locale=a}get defaultLocale(){return this[T].defaultLocale}get domainLocale(){return this[T].domainLocale}get searchParams(){return this[T].url.searchParams}get host(){return this[T].url.host}set host(a){this[T].url.host=a}get hostname(){return this[T].url.hostname}set hostname(a){this[T].url.hostname=a}get port(){return this[T].url.port}set port(a){this[T].url.port=a}get protocol(){return this[T].url.protocol}set protocol(a){this[T].url.protocol=a}get href(){let a=this.formatPathname(),b=this.formatSearch();return`${this.protocol}//${this.host}${a}${b}${this.hash}`}set href(a){this[T].url=S(a),this.analyze()}get origin(){return this[T].url.origin}get pathname(){return this[T].url.pathname}set pathname(a){this[T].url.pathname=a}get hash(){return this[T].url.hash}set hash(a){this[T].url.hash=a}get search(){return this[T].url.search}set search(a){this[T].url.search=a}get password(){return this[T].url.password}set password(a){this[T].url.password=a}get username(){return this[T].url.username}set username(a){this[T].url.username=a}get basePath(){return this[T].basePath}set basePath(a){this[T].basePath=a.startsWith("/")?a:`/${a}`}toString(){return this.href}toJSON(){return this.href}[Symbol.for("edge-runtime.inspect.custom")](){return{href:this.href,origin:this.origin,protocol:this.protocol,username:this.username,password:this.password,host:this.host,hostname:this.hostname,port:this.port,pathname:this.pathname,search:this.search,searchParams:this.searchParams,hash:this.hash}}clone(){return new U(String(this),this[T].options)}}var V=c(918);let W=Symbol("internal request");class X extends Request{constructor(a,b={}){const c="string"!=typeof a&&"url"in a?a.url:String(a);E(c),a instanceof Request?super(a,b):super(c,b);const d=new U(c,{headers:D(this.headers),nextConfig:b.nextConfig});this[W]={cookies:new V.RequestCookies(this.headers),nextUrl:d,url:d.toString()}}[Symbol.for("edge-runtime.inspect.custom")](){return{cookies:this.cookies,nextUrl:this.nextUrl,url:this.url,bodyUsed:this.bodyUsed,cache:this.cache,credentials:this.credentials,destination:this.destination,headers:Object.fromEntries(this.headers),integrity:this.integrity,keepalive:this.keepalive,method:this.method,mode:this.mode,redirect:this.redirect,referrer:this.referrer,referrerPolicy:this.referrerPolicy,signal:this.signal}}get cookies(){return this[W].cookies}get nextUrl(){return this[W].nextUrl}get page(){throw new y}get ua(){throw new z}get url(){return this[W].url}}class Y{static get(a,b,c){let d=Reflect.get(a,b,c);return"function"==typeof d?d.bind(a):d}static set(a,b,c,d){return Reflect.set(a,b,c,d)}static has(a,b){return Reflect.has(a,b)}static deleteProperty(a,b){return Reflect.deleteProperty(a,b)}}let Z=Symbol("internal response"),$=new Set([301,302,303,307,308]);function _(a,b){var c;if(null==a||null==(c=a.request)?void 0:c.headers){if(!(a.request.headers instanceof Headers))throw Object.defineProperty(Error("request.headers must be an instance of Headers"),"__NEXT_ERROR_CODE",{value:"E119",enumerable:!1,configurable:!0});let c=[];for(let[d,e]of a.request.headers)b.set("x-middleware-request-"+d,e),c.push(d);b.set("x-middleware-override-headers",c.join(","))}}class aa extends Response{constructor(a,b={}){super(a,b);const c=this.headers,d=new Proxy(new V.ResponseCookies(c),{get(a,d,e){switch(d){case"delete":case"set":return(...e)=>{let f=Reflect.apply(a[d],a,e),g=new Headers(c);return f instanceof V.ResponseCookies&&c.set("x-middleware-set-cookie",f.getAll().map(a=>(0,V.stringifyCookie)(a)).join(",")),_(b,g),f};default:return Y.get(a,d,e)}}});this[Z]={cookies:d,url:b.url?new U(b.url,{headers:D(c),nextConfig:b.nextConfig}):void 0}}[Symbol.for("edge-runtime.inspect.custom")](){return{cookies:this.cookies,url:this.url,body:this.body,bodyUsed:this.bodyUsed,headers:Object.fromEntries(this.headers),ok:this.ok,redirected:this.redirected,status:this.status,statusText:this.statusText,type:this.type}}get cookies(){return this[Z].cookies}static json(a,b){let c=Response.json(a,b);return new aa(c.body,c)}static redirect(a,b){let c="number"==typeof b?b:(null==b?void 0:b.status)??307;if(!$.has(c))throw Object.defineProperty(RangeError('Failed to execute "redirect" on "response": Invalid status code'),"__NEXT_ERROR_CODE",{value:"E529",enumerable:!1,configurable:!0});let d="object"==typeof b?b:{},e=new Headers(null==d?void 0:d.headers);return e.set("Location",E(a)),new aa(null,{...d,headers:e,status:c})}static rewrite(a,b){let c=new Headers(null==b?void 0:b.headers);return c.set("x-middleware-rewrite",E(a)),_(b,c),new aa(null,{...b,headers:c})}static next(a){let b=new Headers(null==a?void 0:a.headers);return b.set("x-middleware-next","1"),_(a,b),new aa(null,{...a,headers:b})}}function ab(a,b){let c="string"==typeof b?new URL(b):b,d=new URL(a,b),e=d.origin===c.origin;return{url:e?d.toString().slice(c.origin.length):d.toString(),isRelative:e}}let ac="next-router-prefetch",ad=["rsc","next-router-state-tree",ac,"next-hmr-refresh","next-router-segment-prefetch"],ae="_rsc";class af extends Error{constructor(){super("Headers cannot be modified. Read more: https://nextjs.org/docs/app/api-reference/functions/headers")}static callable(){throw new af}}class ag extends Headers{constructor(a){super(),this.headers=new Proxy(a,{get(b,c,d){if("symbol"==typeof c)return Y.get(b,c,d);let e=c.toLowerCase(),f=Object.keys(a).find(a=>a.toLowerCase()===e);if(void 0!==f)return Y.get(b,f,d)},set(b,c,d,e){if("symbol"==typeof c)return Y.set(b,c,d,e);let f=c.toLowerCase(),g=Object.keys(a).find(a=>a.toLowerCase()===f);return Y.set(b,g??c,d,e)},has(b,c){if("symbol"==typeof c)return Y.has(b,c);let d=c.toLowerCase(),e=Object.keys(a).find(a=>a.toLowerCase()===d);return void 0!==e&&Y.has(b,e)},deleteProperty(b,c){if("symbol"==typeof c)return Y.deleteProperty(b,c);let d=c.toLowerCase(),e=Object.keys(a).find(a=>a.toLowerCase()===d);return void 0===e||Y.deleteProperty(b,e)}})}static seal(a){return new Proxy(a,{get(a,b,c){switch(b){case"append":case"delete":case"set":return af.callable;default:return Y.get(a,b,c)}}})}merge(a){return Array.isArray(a)?a.join(", "):a}static from(a){return a instanceof Headers?a:new ag(a)}append(a,b){let c=this.headers[a];"string"==typeof c?this.headers[a]=[c,b]:Array.isArray(c)?c.push(b):this.headers[a]=b}delete(a){delete this.headers[a]}get(a){let b=this.headers[a];return void 0!==b?this.merge(b):null}has(a){return void 0!==this.headers[a]}set(a,b){this.headers[a]=b}forEach(a,b){for(let[c,d]of this.entries())a.call(b,d,c,this)}*entries(){for(let a of Object.keys(this.headers)){let b=a.toLowerCase(),c=this.get(b);yield[b,c]}}*keys(){for(let a of Object.keys(this.headers)){let b=a.toLowerCase();yield b}}*values(){for(let a of Object.keys(this.headers)){let b=this.get(a);yield b}}[Symbol.iterator](){return this.entries()}}var ah=c(778);class ai extends Error{constructor(){super("Cookies can only be modified in a Server Action or Route Handler. Read more: https://nextjs.org/docs/app/api-reference/functions/cookies#options")}static callable(){throw new ai}}class aj{static seal(a){return new Proxy(a,{get(a,b,c){switch(b){case"clear":case"delete":case"set":return ai.callable;default:return Y.get(a,b,c)}}})}}let ak=Symbol.for("next.mutated.cookies");class al{static wrap(a,b){let c=new V.ResponseCookies(new Headers);for(let b of a.getAll())c.set(b);let d=[],e=new Set,f=()=>{let a=ah.J.getStore();if(a&&(a.pathWasRevalidated=!0),d=c.getAll().filter(a=>e.has(a.name)),b){let a=[];for(let b of d){let c=new V.ResponseCookies(new Headers);c.set(b),a.push(c.toString())}b(a)}},g=new Proxy(c,{get(a,b,c){switch(b){case ak:return d;case"delete":return function(...b){e.add("string"==typeof b[0]?b[0]:b[0].name);try{return a.delete(...b),g}finally{f()}};case"set":return function(...b){e.add("string"==typeof b[0]?b[0]:b[0].name);try{return a.set(...b),g}finally{f()}};default:return Y.get(a,b,c)}}});return g}}function am(a){return"action"===a.phase}function an(a,b){if(!am(a))throw new ai}var ao=((d7=ao||{}).handleRequest="BaseServer.handleRequest",d7.run="BaseServer.run",d7.pipe="BaseServer.pipe",d7.getStaticHTML="BaseServer.getStaticHTML",d7.render="BaseServer.render",d7.renderToResponseWithComponents="BaseServer.renderToResponseWithComponents",d7.renderToResponse="BaseServer.renderToResponse",d7.renderToHTML="BaseServer.renderToHTML",d7.renderError="BaseServer.renderError",d7.renderErrorToResponse="BaseServer.renderErrorToResponse",d7.renderErrorToHTML="BaseServer.renderErrorToHTML",d7.render404="BaseServer.render404",d7),ap=((d8=ap||{}).loadDefaultErrorComponents="LoadComponents.loadDefaultErrorComponents",d8.loadComponents="LoadComponents.loadComponents",d8),aq=((d9=aq||{}).getRequestHandler="NextServer.getRequestHandler",d9.getRequestHandlerWithMetadata="NextServer.getRequestHandlerWithMetadata",d9.getServer="NextServer.getServer",d9.getServerRequestHandler="NextServer.getServerRequestHandler",d9.createServer="createServer.createServer",d9),ar=((ea=ar||{}).compression="NextNodeServer.compression",ea.getBuildId="NextNodeServer.getBuildId",ea.createComponentTree="NextNodeServer.createComponentTree",ea.clientComponentLoading="NextNodeServer.clientComponentLoading",ea.getLayoutOrPageModule="NextNodeServer.getLayoutOrPageModule",ea.generateStaticRoutes="NextNodeServer.generateStaticRoutes",ea.generateFsStaticRoutes="NextNodeServer.generateFsStaticRoutes",ea.generatePublicRoutes="NextNodeServer.generatePublicRoutes",ea.generateImageRoutes="NextNodeServer.generateImageRoutes.route",ea.sendRenderResult="NextNodeServer.sendRenderResult",ea.proxyRequest="NextNodeServer.proxyRequest",ea.runApi="NextNodeServer.runApi",ea.render="NextNodeServer.render",ea.renderHTML="NextNodeServer.renderHTML",ea.imageOptimizer="NextNodeServer.imageOptimizer",ea.getPagePath="NextNodeServer.getPagePath",ea.getRoutesManifest="NextNodeServer.getRoutesManifest",ea.findPageComponents="NextNodeServer.findPageComponents",ea.getFontManifest="NextNodeServer.getFontManifest",ea.getServerComponentManifest="NextNodeServer.getServerComponentManifest",ea.getRequestHandler="NextNodeServer.getRequestHandler",ea.renderToHTML="NextNodeServer.renderToHTML",ea.renderError="NextNodeServer.renderError",ea.renderErrorToHTML="NextNodeServer.renderErrorToHTML",ea.render404="NextNodeServer.render404",ea.startResponse="NextNodeServer.startResponse",ea.route="route",ea.onProxyReq="onProxyReq",ea.apiResolver="apiResolver",ea.internalFetch="internalFetch",ea),as=((eb=as||{}).startServer="startServer.startServer",eb),at=((ec=at||{}).getServerSideProps="Render.getServerSideProps",ec.getStaticProps="Render.getStaticProps",ec.renderToString="Render.renderToString",ec.renderDocument="Render.renderDocument",ec.createBodyResult="Render.createBodyResult",ec),au=((ed=au||{}).renderToString="AppRender.renderToString",ed.renderToReadableStream="AppRender.renderToReadableStream",ed.getBodyResult="AppRender.getBodyResult",ed.fetch="AppRender.fetch",ed),av=((ee=av||{}).executeRoute="Router.executeRoute",ee),aw=((ef=aw||{}).runHandler="Node.runHandler",ef),ax=((eg=ax||{}).runHandler="AppRouteRouteHandlers.runHandler",eg),ay=((eh=ay||{}).generateMetadata="ResolveMetadata.generateMetadata",eh.generateViewport="ResolveMetadata.generateViewport",eh),az=((ei=az||{}).execute="Middleware.execute",ei);let aA=["Middleware.execute","BaseServer.handleRequest","Render.getServerSideProps","Render.getStaticProps","AppRender.fetch","AppRender.getBodyResult","Render.renderDocument","Node.runHandler","AppRouteRouteHandlers.runHandler","ResolveMetadata.generateMetadata","ResolveMetadata.generateViewport","NextNodeServer.createComponentTree","NextNodeServer.findPageComponents","NextNodeServer.getLayoutOrPageModule","NextNodeServer.startResponse","NextNodeServer.clientComponentLoading"],aB=["NextNodeServer.findPageComponents","NextNodeServer.createComponentTree","NextNodeServer.clientComponentLoading"];function aC(a){return null!==a&&"object"==typeof a&&"then"in a&&"function"==typeof a.then}let{context:aD,propagation:aE,trace:aF,SpanStatusCode:aG,SpanKind:aH,ROOT_CONTEXT:aI}=d=c(446);class aJ extends Error{constructor(a,b){super(),this.bubble=a,this.result=b}}let aK=(a,b)=>{"object"==typeof b&&null!==b&&b instanceof aJ&&b.bubble?a.setAttribute("next.bubble",!0):(b&&(a.recordException(b),a.setAttribute("error.type",b.name)),a.setStatus({code:aG.ERROR,message:null==b?void 0:b.message})),a.end()},aL=new Map,aM=d.createContextKey("next.rootSpanId"),aN=0,aO={set(a,b,c){a.push({key:b,value:c})}};class aP{getTracerInstance(){return aF.getTracer("next.js","0.0.1")}getContext(){return aD}getTracePropagationData(){let a=aD.active(),b=[];return aE.inject(a,b,aO),b}getActiveScopeSpan(){return aF.getSpan(null==aD?void 0:aD.active())}withPropagatedContext(a,b,c){let d=aD.active();if(aF.getSpanContext(d))return b();let e=aE.extract(d,a,c);return aD.with(e,b)}trace(...a){var b;let[c,d,e]=a,{fn:f,options:g}="function"==typeof d?{fn:d,options:{}}:{fn:e,options:{...d}},h=g.spanName??c;if(!aA.includes(c)&&"1"!==process.env.NEXT_OTEL_VERBOSE||g.hideSpan)return f();let i=this.getSpanContext((null==g?void 0:g.parentSpan)??this.getActiveScopeSpan()),j=!1;i?(null==(b=aF.getSpanContext(i))?void 0:b.isRemote)&&(j=!0):(i=(null==aD?void 0:aD.active())??aI,j=!0);let k=aN++;return g.attributes={"next.span_name":h,"next.span_type":c,...g.attributes},aD.with(i.setValue(aM,k),()=>this.getTracerInstance().startActiveSpan(h,g,a=>{let b="performance"in globalThis&&"measure"in performance?globalThis.performance.now():void 0,d=()=>{aL.delete(k),b&&process.env.NEXT_OTEL_PERFORMANCE_PREFIX&&aB.includes(c||"")&&performance.measure(`${process.env.NEXT_OTEL_PERFORMANCE_PREFIX}:next-${(c.split(".").pop()||"").replace(/[A-Z]/g,a=>"-"+a.toLowerCase())}`,{start:b,end:performance.now()})};j&&aL.set(k,new Map(Object.entries(g.attributes??{})));try{if(f.length>1)return f(a,b=>aK(a,b));let b=f(a);if(aC(b))return b.then(b=>(a.end(),b)).catch(b=>{throw aK(a,b),b}).finally(d);return a.end(),d(),b}catch(b){throw aK(a,b),d(),b}}))}wrap(...a){let b=this,[c,d,e]=3===a.length?a:[a[0],{},a[1]];return aA.includes(c)||"1"===process.env.NEXT_OTEL_VERBOSE?function(){let a=d;"function"==typeof a&&"function"==typeof e&&(a=a.apply(this,arguments));let f=arguments.length-1,g=arguments[f];if("function"!=typeof g)return b.trace(c,a,()=>e.apply(this,arguments));{let d=b.getContext().bind(aD.active(),g);return b.trace(c,a,(a,b)=>(arguments[f]=function(a){return null==b||b(a),d.apply(this,arguments)},e.apply(this,arguments)))}}:e}startSpan(...a){let[b,c]=a,d=this.getSpanContext((null==c?void 0:c.parentSpan)??this.getActiveScopeSpan());return this.getTracerInstance().startSpan(b,c,d)}getSpanContext(a){return a?aF.setSpan(aD.active(),a):void 0}getRootSpanAttributes(){let a=aD.active().getValue(aM);return aL.get(a)}setRootSpanAttribute(a,b){let c=aD.active().getValue(aM),d=aL.get(c);d&&!d.has(a)&&d.set(a,b)}}let aQ=(j=new aP,()=>j),aR="__prerender_bypass";Symbol("__next_preview_data"),Symbol(aR);class aS{constructor(a,b,c,d){var e;const f=a&&function(a,b){let c=ag.from(a.headers);return{isOnDemandRevalidate:c.get("x-prerender-revalidate")===b.previewModeId,revalidateOnlyGenerated:c.has("x-prerender-revalidate-if-generated")}}(b,a).isOnDemandRevalidate,g=null==(e=c.get(aR))?void 0:e.value;this._isEnabled=!!(!f&&g&&a&&g===a.previewModeId),this._previewModeId=null==a?void 0:a.previewModeId,this._mutableCookies=d}get isEnabled(){return this._isEnabled}enable(){if(!this._previewModeId)throw Object.defineProperty(Error("Invariant: previewProps missing previewModeId this should never happen"),"__NEXT_ERROR_CODE",{value:"E93",enumerable:!1,configurable:!0});this._mutableCookies.set({name:aR,value:this._previewModeId,httpOnly:!0,sameSite:"none",secure:!0,path:"/"}),this._isEnabled=!0}disable(){this._mutableCookies.set({name:aR,value:"",httpOnly:!0,sameSite:"none",secure:!0,path:"/",expires:new Date(0)}),this._isEnabled=!1}}function aT(a,b){if("x-middleware-set-cookie"in a.headers&&"string"==typeof a.headers["x-middleware-set-cookie"]){let c=a.headers["x-middleware-set-cookie"],d=new Headers;for(let a of C(c))d.append("set-cookie",a);for(let a of new V.ResponseCookies(d).getAll())b.set(a)}}var aU=c(228),aV=c(232),aW=c.n(aV),aX=c(520);c(356).Buffer,process.env.NEXT_PRIVATE_DEBUG_CACHE&&((a,...b)=>{console.log(`use-cache: ${a}`,...b)}),Symbol.for("@next/cache-handlers");let aY=Symbol.for("@next/cache-handlers-map"),aZ=Symbol.for("@next/cache-handlers-set"),a$=globalThis;function a_(){if(a$[aY])return a$[aY].entries()}async function a0(a,b){if(!a)return b();let c=a1(a);try{return await b()}finally{var d,e;let b,f,g=(d=c,e=a1(a),b=new Set(d.pendingRevalidatedTags.map(a=>{let b="object"==typeof a.profile?JSON.stringify(a.profile):a.profile||"";return`${a.tag}:${b}`})),f=new Set(d.pendingRevalidateWrites),{pendingRevalidatedTags:e.pendingRevalidatedTags.filter(a=>{let c="object"==typeof a.profile?JSON.stringify(a.profile):a.profile||"";return!b.has(`${a.tag}:${c}`)}),pendingRevalidates:Object.fromEntries(Object.entries(e.pendingRevalidates).filter(([a])=>!(a in d.pendingRevalidates))),pendingRevalidateWrites:e.pendingRevalidateWrites.filter(a=>!f.has(a))});await a3(a,g)}}function a1(a){return{pendingRevalidatedTags:a.pendingRevalidatedTags?[...a.pendingRevalidatedTags]:[],pendingRevalidates:{...a.pendingRevalidates},pendingRevalidateWrites:a.pendingRevalidateWrites?[...a.pendingRevalidateWrites]:[]}}async function a2(a,b,c){if(0===a.length)return;let d=function(){if(a$[aZ])return a$[aZ].values()}(),e=[],f=new Map;for(let b of a){let a,c=b.profile;for(let[b]of f)if("string"==typeof b&&"string"==typeof c&&b===c||"object"==typeof b&&"object"==typeof c&&JSON.stringify(b)===JSON.stringify(c)||b===c){a=b;break}let d=a||c;f.has(d)||f.set(d,[]),f.get(d).push(b.tag)}for(let[a,h]of f){let f;if(a){let b;if("object"==typeof a)b=a;else if("string"==typeof a){var g;if(!(b=null==c||null==(g=c.cacheLifeProfiles)?void 0:g[a]))throw Object.defineProperty(Error(`Invalid profile provided "${a}" must be configured under cacheLife in next.config or be "max"`),"__NEXT_ERROR_CODE",{value:"E873",enumerable:!1,configurable:!0})}b&&(f={expire:b.expire})}for(let b of d||[])a?e.push(null==b.updateTags?void 0:b.updateTags.call(b,h,f)):e.push(null==b.updateTags?void 0:b.updateTags.call(b,h));b&&e.push(b.revalidateTag(h,f))}await Promise.all(e)}async function a3(a,b){let c=(null==b?void 0:b.pendingRevalidatedTags)??a.pendingRevalidatedTags??[],d=(null==b?void 0:b.pendingRevalidates)??a.pendingRevalidates??{},e=(null==b?void 0:b.pendingRevalidateWrites)??a.pendingRevalidateWrites??[];return Promise.all([a2(c,a.incrementalCache,a),...Object.values(d),...e])}let a4=Object.defineProperty(Error("Invariant: AsyncLocalStorage accessed in runtime where it is not available"),"__NEXT_ERROR_CODE",{value:"E504",enumerable:!1,configurable:!0});class a5{disable(){throw a4}getStore(){}run(){throw a4}exit(){throw a4}enterWith(){throw a4}static bind(a){return a}}let a6="undefined"!=typeof globalThis&&globalThis.AsyncLocalStorage,a7=a6?new a6:new a5;class a8{constructor({waitUntil:a,onClose:b,onTaskError:c}){this.workUnitStores=new Set,this.waitUntil=a,this.onClose=b,this.onTaskError=c,this.callbackQueue=new(aW()),this.callbackQueue.pause()}after(a){if(aC(a))this.waitUntil||a9(),this.waitUntil(a.catch(a=>this.reportTaskError("promise",a)));else if("function"==typeof a)this.addCallback(a);else throw Object.defineProperty(Error("`after()`: Argument must be a promise or a function"),"__NEXT_ERROR_CODE",{value:"E50",enumerable:!1,configurable:!0})}addCallback(a){var b;this.waitUntil||a9();let c=aU.FP.getStore();c&&this.workUnitStores.add(c);let d=a7.getStore(),e=d?d.rootTaskSpawnPhase:null==c?void 0:c.phase;this.runCallbacksOnClosePromise||(this.runCallbacksOnClosePromise=this.runCallbacksOnClose(),this.waitUntil(this.runCallbacksOnClosePromise));let f=(b=async()=>{try{await a7.run({rootTaskSpawnPhase:e},()=>a())}catch(a){this.reportTaskError("function",a)}},a6?a6.bind(b):a5.bind(b));this.callbackQueue.add(f)}async runCallbacksOnClose(){return await new Promise(a=>this.onClose(a)),this.runCallbacks()}async runCallbacks(){if(0===this.callbackQueue.size)return;for(let a of this.workUnitStores)a.phase="after";let a=ah.J.getStore();if(!a)throw Object.defineProperty(new aX.z("Missing workStore in AfterContext.runCallbacks"),"__NEXT_ERROR_CODE",{value:"E547",enumerable:!1,configurable:!0});return a0(a,()=>(this.callbackQueue.start(),this.callbackQueue.onIdle()))}reportTaskError(a,b){if(console.error("promise"===a?"A promise passed to `after()` rejected:":"An error occurred in a function passed to `after()`:",b),this.onTaskError)try{null==this.onTaskError||this.onTaskError.call(this,b)}catch(a){console.error(Object.defineProperty(new aX.z("`onTaskError` threw while handling an error thrown from an `after` task",{cause:a}),"__NEXT_ERROR_CODE",{value:"E569",enumerable:!1,configurable:!0}))}}}function a9(){throw Object.defineProperty(Error("`after()` will not work correctly, because `waitUntil` is not available in the current environment."),"__NEXT_ERROR_CODE",{value:"E91",enumerable:!1,configurable:!0})}function ba(a){let b,c={then:(d,e)=>(b||(b=a()),b.then(a=>{c.value=a}).catch(()=>{}),b.then(d,e))};return c}class bb{onClose(a){if(this.isClosed)throw Object.defineProperty(Error("Cannot subscribe to a closed CloseController"),"__NEXT_ERROR_CODE",{value:"E365",enumerable:!1,configurable:!0});this.target.addEventListener("close",a),this.listeners++}dispatchClose(){if(this.isClosed)throw Object.defineProperty(Error("Cannot close a CloseController multiple times"),"__NEXT_ERROR_CODE",{value:"E229",enumerable:!1,configurable:!0});this.listeners>0&&this.target.dispatchEvent(new Event("close")),this.isClosed=!0}constructor(){this.target=new EventTarget,this.listeners=0,this.isClosed=!1}}function bc(){return{previewModeId:process.env.__NEXT_PREVIEW_MODE_ID||"",previewModeSigningKey:process.env.__NEXT_PREVIEW_MODE_SIGNING_KEY||"",previewModeEncryptionKey:process.env.__NEXT_PREVIEW_MODE_ENCRYPTION_KEY||""}}let bd=Symbol.for("@next/request-context");async function be(a,b,c){let d=new Set;for(let b of(a=>{let b=["/layout"];if(a.startsWith("/")){let c=a.split("/");for(let a=1;a<c.length+1;a++){let d=c.slice(0,a).join("/");d&&(d.endsWith("/page")||d.endsWith("/route")||(d=`${d}${!d.endsWith("/")?"/":""}layout`),b.push(d))}}return b})(a))b=`${A}${b}`,d.add(b);if(b.pathname&&(!c||0===c.size)){let a=`${A}${b.pathname}`;d.add(a)}d.has(`${A}/`)&&d.add(`${A}/index`),d.has(`${A}/index`)&&d.add(`${A}/`);let e=Array.from(d);return{tags:e,expirationsByCacheKind:function(a){let b=new Map,c=a_();if(c)for(let[d,e]of c)"getExpiration"in e&&b.set(d,ba(async()=>e.getExpiration(a)));return b}(e)}}class bf extends X{constructor(a){super(a.input,a.init),this.sourcePage=a.page}get request(){throw Object.defineProperty(new x({page:this.sourcePage}),"__NEXT_ERROR_CODE",{value:"E394",enumerable:!1,configurable:!0})}respondWith(){throw Object.defineProperty(new x({page:this.sourcePage}),"__NEXT_ERROR_CODE",{value:"E394",enumerable:!1,configurable:!0})}waitUntil(){throw Object.defineProperty(new x({page:this.sourcePage}),"__NEXT_ERROR_CODE",{value:"E394",enumerable:!1,configurable:!0})}}let bg={keys:a=>Array.from(a.keys()),get:(a,b)=>a.get(b)??void 0},bh=(a,b)=>aQ().withPropagatedContext(a.headers,b,bg),bi=!1;async function bj(a){var b,d,e,f;let g,h,i,j,k;!function(){if(!bi&&(bi=!0,"true"===process.env.NEXT_PRIVATE_TEST_PROXY)){let{interceptTestApis:a,wrapRequestHandler:b}=c(987);a(),bh=b(bh)}}(),await v();let l=void 0!==globalThis.__BUILD_MANIFEST;a.request.url=a.request.url.replace(/\.rsc($|\?)/,"$1");let m=a.bypassNextUrl?new URL(a.request.url):new U(a.request.url,{headers:a.request.headers,nextConfig:a.request.nextConfig});for(let a of[...m.searchParams.keys()]){let b=m.searchParams.getAll(a),c=function(a){for(let b of["nxtP","nxtI"])if(a!==b&&a.startsWith(b))return a.substring(b.length);return null}(a);if(c){for(let a of(m.searchParams.delete(c),b))m.searchParams.append(c,a);m.searchParams.delete(a)}}let n=process.env.__NEXT_BUILD_ID||"";"buildId"in m&&(n=m.buildId||"",m.buildId="");let o=function(a){let b=new Headers;for(let[c,d]of Object.entries(a))for(let a of Array.isArray(d)?d:[d])void 0!==a&&("number"==typeof a&&(a=a.toString()),b.append(c,a));return b}(a.request.headers),p=o.has("x-nextjs-data"),q="1"===o.get("rsc");p&&"/index"===m.pathname&&(m.pathname="/");let r=new Map;if(!l)for(let a of ad){let b=o.get(a);null!==b&&(r.set(a,b),o.delete(a))}let s=m.searchParams.get(ae),t=new bf({page:a.page,input:((j=(i="string"==typeof m)?new URL(m):m).searchParams.delete(ae),i?j.toString():j).toString(),init:{body:a.request.body,headers:o,method:a.request.method,nextConfig:a.request.nextConfig,signal:a.request.signal}});p&&Object.defineProperty(t,"__isData",{enumerable:!1,value:!0}),!globalThis.__incrementalCacheShared&&a.IncrementalCache&&(globalThis.__incrementalCache=new a.IncrementalCache({CurCacheHandler:a.incrementalCacheHandler,minimalMode:!0,fetchCacheKeyPrefix:"",dev:!1,requestHeaders:a.request.headers,getPrerenderManifest:()=>({version:-1,routes:{},dynamicRoutes:{},notFoundRoutes:[],preview:bc()})}));let u=a.request.waitUntil??(null==(b=null==(k=globalThis[bd])?void 0:k.get())?void 0:b.waitUntil),w=new J({request:t,page:a.page,context:u?{waitUntil:u}:void 0});if((g=await bh(t,()=>{if("/middleware"===a.page||"/src/middleware"===a.page||"/proxy"===a.page||"/src/proxy"===a.page){let b=w.waitUntil.bind(w),c=new bb;return aQ().trace(az.execute,{spanName:`middleware ${t.method}`,attributes:{"http.target":t.nextUrl.pathname,"http.method":t.method}},async()=>{try{var d,e,f,g,i,j;let k=bc(),l=await be("/",t.nextUrl,null),m=(i=t.nextUrl,j=a=>{h=a},function(a,b,c,d,e,f,g,h,i,j,k,l){function m(a){c&&c.setHeader("Set-Cookie",a)}let n={};return{type:"request",phase:a,implicitTags:f,url:{pathname:d.pathname,search:d.search??""},rootParams:e,get headers(){return n.headers||(n.headers=function(a){let b=ag.from(a);for(let a of ad)b.delete(a);return ag.seal(b)}(b.headers)),n.headers},get cookies(){if(!n.cookies){let a=new V.RequestCookies(ag.from(b.headers));aT(b,a),n.cookies=aj.seal(a)}return n.cookies},set cookies(value){n.cookies=value},get mutableCookies(){if(!n.mutableCookies){var o,p;let a,d=(o=b.headers,p=g||(c?m:void 0),a=new V.RequestCookies(ag.from(o)),al.wrap(a,p));aT(b,d),n.mutableCookies=d}return n.mutableCookies},get userspaceMutableCookies(){if(!n.userspaceMutableCookies){var q;let a;q=this,n.userspaceMutableCookies=a=new Proxy(q.mutableCookies,{get(b,c,d){switch(c){case"delete":return function(...c){return an(q,"cookies().delete"),b.delete(...c),a};case"set":return function(...c){return an(q,"cookies().set"),b.set(...c),a};default:return Y.get(b,c,d)}}})}return n.userspaceMutableCookies},get draftMode(){return n.draftMode||(n.draftMode=new aS(i,b,this.cookies,this.mutableCookies)),n.draftMode},renderResumeDataCache:null,isHmrRefresh:j,serverComponentsHmrCache:k||globalThis.__serverComponentsHmrCache,devFallbackParams:null}}("action",t,void 0,i,{},l,j,null,k,!1,void 0,null)),o=function({page:a,renderOpts:b,isPrefetchRequest:c,buildId:d,previouslyRevalidatedTags:e,nonce:f}){var g;let h=!b.shouldWaitOnAllReady&&!b.supportsDynamicResponse&&!b.isDraftMode&&!b.isPossibleServerAction,i=b.dev??!1,j=i||h&&(!!process.env.NEXT_DEBUG_BUILD||"1"===process.env.NEXT_SSG_FETCH_METRICS),k={isStaticGeneration:h,page:a,route:(g=a.split("/").reduce((a,b,c,d)=>b?"("===b[0]&&b.endsWith(")")||"@"===b[0]||("page"===b||"route"===b)&&c===d.length-1?a:`${a}/${b}`:a,"")).startsWith("/")?g:`/${g}`,incrementalCache:b.incrementalCache||globalThis.__incrementalCache,cacheLifeProfiles:b.cacheLifeProfiles,isBuildTimePrerendering:b.nextExport,hasReadableErrorStacks:b.hasReadableErrorStacks,fetchCache:b.fetchCache,isOnDemandRevalidate:b.isOnDemandRevalidate,isDraftMode:b.isDraftMode,isPrefetchRequest:c,buildId:d,reactLoadableManifest:(null==b?void 0:b.reactLoadableManifest)||{},assetPrefix:(null==b?void 0:b.assetPrefix)||"",nonce:f,afterContext:function(a){let{waitUntil:b,onClose:c,onAfterTaskError:d}=a;return new a8({waitUntil:b,onClose:c,onTaskError:d})}(b),cacheComponentsEnabled:b.cacheComponents,dev:i,previouslyRevalidatedTags:e,refreshTagsByCacheKind:function(){let a=new Map,b=a_();if(b)for(let[c,d]of b)"refreshTags"in d&&a.set(c,ba(async()=>d.refreshTags()));return a}(),runInCleanSnapshot:a6?a6.snapshot():function(a,...b){return a(...b)},shouldTrackFetchMetrics:j};return b.store=k,k}({page:"/",renderOpts:{cacheLifeProfiles:null==(e=a.request.nextConfig)||null==(d=e.experimental)?void 0:d.cacheLife,cacheComponents:!1,experimental:{isRoutePPREnabled:!1,authInterrupts:!!(null==(g=a.request.nextConfig)||null==(f=g.experimental)?void 0:f.authInterrupts)},supportsDynamicResponse:!0,waitUntil:b,onClose:c.onClose.bind(c),onAfterTaskError:void 0},isPrefetchRequest:"1"===t.headers.get(ac),buildId:n??"",previouslyRevalidatedTags:[]});return await ah.J.run(o,()=>aU.FP.run(m,a.handler,t,w))}finally{setTimeout(()=>{c.dispatchClose()},0)}})}return a.handler(t,w)}))&&!(g instanceof Response))throw Object.defineProperty(TypeError("Expected an instance of Response to be returned"),"__NEXT_ERROR_CODE",{value:"E567",enumerable:!1,configurable:!0});g&&h&&g.headers.set("set-cookie",h);let x=null==g?void 0:g.headers.get("x-middleware-rewrite");if(g&&x&&(q||!l)){let b=new U(x,{forceLocale:!0,headers:a.request.headers,nextConfig:a.request.nextConfig});l||b.host!==t.nextUrl.host||(b.buildId=n||b.buildId,g.headers.set("x-middleware-rewrite",String(b)));let{url:c,isRelative:h}=ab(b.toString(),m.toString());!l&&p&&g.headers.set("x-nextjs-rewrite",c);let i=!h&&(null==(f=a.request.nextConfig)||null==(e=f.experimental)||null==(d=e.clientParamParsingOrigins)?void 0:d.some(a=>new RegExp(a).test(b.origin)));q&&(h||i)&&(m.pathname!==b.pathname&&g.headers.set("x-nextjs-rewritten-path",b.pathname),m.search!==b.search&&g.headers.set("x-nextjs-rewritten-query",b.search.slice(1)))}if(g&&x&&q&&s){let a=new URL(x);a.searchParams.has(ae)||(a.searchParams.set(ae,s),g.headers.set("x-middleware-rewrite",a.toString()))}let y=null==g?void 0:g.headers.get("Location");if(g&&y&&!l){let b=new U(y,{forceLocale:!1,headers:a.request.headers,nextConfig:a.request.nextConfig});g=new Response(g.body,g),b.host===m.host&&(b.buildId=n||b.buildId,g.headers.set("Location",b.toString())),p&&(g.headers.delete("Location"),g.headers.set("x-nextjs-redirect",ab(b.toString(),m.toString()).url))}let z=g||aa.next(),A=z.headers.get("x-middleware-override-headers"),B=[];if(A){for(let[a,b]of r)z.headers.set(`x-middleware-request-${a}`,b),B.push(a);B.length>0&&z.headers.set("x-middleware-override-headers",A+","+B.join(","))}return{response:z,waitUntil:("internal"===w[H].kind?Promise.all(w[H].promises).then(()=>{}):void 0)??Promise.resolve(),fetchMetrics:t.fetchMetrics}}var bk=function(a,b,c,d,e){if("m"===d)throw TypeError("Private method is not writable");if("a"===d&&!e)throw TypeError("Private accessor was defined without a setter");if("function"==typeof b?a!==b||!e:!b.has(a))throw TypeError("Cannot write private member to an object whose class did not declare it");return"a"===d?e.call(a,c):e?e.value=c:b.set(a,c),c},bl=function(a,b,c,d){if("a"===c&&!d)throw TypeError("Private accessor was defined without a getter");if("function"==typeof b?a!==b||!d:!b.has(a))throw TypeError("Cannot read private member from an object whose class did not declare it");return"m"===c?d:"a"===c?d.call(a):d?d.value:b.get(a)};function bm(a){let b=a?"__Secure-":"";return{sessionToken:{name:`${b}authjs.session-token`,options:{httpOnly:!0,sameSite:"lax",path:"/",secure:a}},callbackUrl:{name:`${b}authjs.callback-url`,options:{httpOnly:!0,sameSite:"lax",path:"/",secure:a}},csrfToken:{name:`${a?"__Host-":""}authjs.csrf-token`,options:{httpOnly:!0,sameSite:"lax",path:"/",secure:a}},pkceCodeVerifier:{name:`${b}authjs.pkce.code_verifier`,options:{httpOnly:!0,sameSite:"lax",path:"/",secure:a,maxAge:900}},state:{name:`${b}authjs.state`,options:{httpOnly:!0,sameSite:"lax",path:"/",secure:a,maxAge:900}},nonce:{name:`${b}authjs.nonce`,options:{httpOnly:!0,sameSite:"lax",path:"/",secure:a}},webauthnChallenge:{name:`${b}authjs.challenge`,options:{httpOnly:!0,sameSite:"lax",path:"/",secure:a,maxAge:900}}}}class bn{constructor(a,b,c){if(ej.add(this),ek.set(this,{}),el.set(this,void 0),em.set(this,void 0),bk(this,em,c,"f"),bk(this,el,a,"f"),!b)return;const{name:d}=a;for(const[a,c]of Object.entries(b))a.startsWith(d)&&c&&(bl(this,ek,"f")[a]=c)}get value(){return Object.keys(bl(this,ek,"f")).sort((a,b)=>parseInt(a.split(".").pop()||"0")-parseInt(b.split(".").pop()||"0")).map(a=>bl(this,ek,"f")[a]).join("")}chunk(a,b){let c=bl(this,ej,"m",eo).call(this);for(let d of bl(this,ej,"m",en).call(this,{name:bl(this,el,"f").name,value:a,options:{...bl(this,el,"f").options,...b}}))c[d.name]=d;return Object.values(c)}clean(){return Object.values(bl(this,ej,"m",eo).call(this))}}ek=new WeakMap,el=new WeakMap,em=new WeakMap,ej=new WeakSet,en=function(a){let b=Math.ceil(a.value.length/3936);if(1===b)return bl(this,ek,"f")[a.name]=a.value,[a];let c=[];for(let d=0;d<b;d++){let b=`${a.name}.${d}`,e=a.value.substr(3936*d,3936);c.push({...a,name:b,value:e}),bl(this,ek,"f")[b]=e}return bl(this,em,"f").debug("CHUNKING_SESSION_COOKIE",{message:"Session cookie exceeds allowed 4096 bytes.",emptyCookieSize:160,valueSize:a.value.length,chunks:c.map(a=>a.value.length+160)}),c},eo=function(){let a={};for(let b in bl(this,ek,"f"))delete bl(this,ek,"f")?.[b],a[b]={name:b,value:"",options:{...bl(this,el,"f").options,maxAge:0}};return a};class bo extends Error{constructor(a,b){a instanceof Error?super(void 0,{cause:{err:a,...a.cause,...b}}):"string"==typeof a?(b instanceof Error&&(b={err:b,...b.cause}),super(a,b)):super(void 0,a),this.name=this.constructor.name,this.type=this.constructor.type??"AuthError",this.kind=this.constructor.kind??"error",Error.captureStackTrace?.(this,this.constructor);const c=`https://errors.authjs.dev#${this.type.toLowerCase()}`;this.message+=`${this.message?". ":""}Read more at ${c}`}}class bp extends bo{}bp.kind="signIn";class bq extends bo{}bq.type="AdapterError";class br extends bo{}br.type="AccessDenied";class bs extends bo{}bs.type="CallbackRouteError";class bt extends bo{}bt.type="ErrorPageLoop";class bu extends bo{}bu.type="EventError";class bv extends bo{}bv.type="InvalidCallbackUrl";class bw extends bp{constructor(){super(...arguments),this.code="credentials"}}bw.type="CredentialsSignin";class bx extends bo{}bx.type="InvalidEndpoints";class by extends bo{}by.type="InvalidCheck";class bz extends bo{}bz.type="JWTSessionError";class bA extends bo{}bA.type="MissingAdapter";class bB extends bo{}bB.type="MissingAdapterMethods";class bC extends bo{}bC.type="MissingAuthorize";class bD extends bo{}bD.type="MissingSecret";class bE extends bp{}bE.type="OAuthAccountNotLinked";class bF extends bp{}bF.type="OAuthCallbackError";class bG extends bo{}bG.type="OAuthProfileParseError";class bH extends bo{}bH.type="SessionTokenError";class bI extends bp{}bI.type="OAuthSignInError";class bJ extends bp{}bJ.type="EmailSignInError";class bK extends bo{}bK.type="SignOutError";class bL extends bo{}bL.type="UnknownAction";class bM extends bo{}bM.type="UnsupportedStrategy";class bN extends bo{}bN.type="InvalidProvider";class bO extends bo{}bO.type="UntrustedHost";class bP extends bo{}bP.type="Verification";class bQ extends bp{}bQ.type="MissingCSRF";let bR=new Set(["CredentialsSignin","OAuthAccountNotLinked","OAuthCallbackError","AccessDenied","Verification","MissingCSRF","AccountNotLinked","WebAuthnVerificationError"]);class bS extends bo{}bS.type="DuplicateConditionalUI";class bT extends bo{}bT.type="MissingWebAuthnAutocomplete";class bU extends bo{}bU.type="WebAuthnVerificationError";class bV extends bp{}bV.type="AccountNotLinked";class bW extends bo{}bW.type="ExperimentalFeatureNotEnabled";let bX=!1;function bY(a,b){try{return/^https?:/.test(new URL(a,a.startsWith("/")?b:void 0).protocol)}catch{return!1}}let bZ=!1,b$=!1,b_=!1,b0=["createVerificationToken","useVerificationToken","getUserByEmail"],b1=["createUser","getUser","getUserByEmail","getUserByAccount","updateUser","linkAccount","createSession","getSessionAndUser","updateSession","deleteSession"],b2=["createUser","getUser","linkAccount","getAccount","getAuthenticator","createAuthenticator","listAuthenticatorsByUserId","updateAuthenticatorCounter"],b3=async(a,b,c,d,e)=>{let{crypto:{subtle:f}}=(()=>{if("undefined"!=typeof globalThis)return globalThis;if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;throw Error("unable to locate global object")})();return new Uint8Array(await f.deriveBits({name:"HKDF",hash:`SHA-${a.substr(3)}`,salt:c,info:d},await f.importKey("raw",b,"HKDF",!1,["deriveBits"]),e<<3))};function b4(a,b){if("string"==typeof a)return new TextEncoder().encode(a);if(!(a instanceof Uint8Array))throw TypeError(`"${b}"" must be an instance of Uint8Array or a string`);return a}async function b5(a,b,c,d,e){return b3(function(a){switch(a){case"sha256":case"sha384":case"sha512":case"sha1":return a;default:throw TypeError('unsupported "digest" value')}}(a),function(a){let b=b4(a,"ikm");if(!b.byteLength)throw TypeError('"ikm" must be at least one byte in length');return b}(b),b4(c,"salt"),function(a){let b=b4(a,"info");if(b.byteLength>1024)throw TypeError('"info" must not contain more than 1024 bytes');return b}(d),function(a,b){if("number"!=typeof a||!Number.isInteger(a)||a<1)throw TypeError('"keylen" must be a positive integer');if(a>255*(parseInt(b.substr(3),10)>>3||20))throw TypeError('"keylen" too large');return a}(e,a))}let b6=crypto,b7=async(a,b)=>{let c=`SHA-${a.slice(-3)}`;return new Uint8Array(await b6.subtle.digest(c,b))},b8=new TextEncoder,b9=new TextDecoder;function ca(...a){let b=new Uint8Array(a.reduce((a,{length:b})=>a+b,0)),c=0;for(let d of a)b.set(d,c),c+=d.length;return b}function cb(a,b,c){if(b<0||b>=0x100000000)throw RangeError(`value must be >= 0 and <= ${0x100000000-1}. Received ${b}`);a.set([b>>>24,b>>>16,b>>>8,255&b],c)}function cc(a){let b=Math.floor(a/0x100000000),c=new Uint8Array(8);return cb(c,b,0),cb(c,a%0x100000000,4),c}function cd(a){let b=new Uint8Array(4);return cb(b,a),b}function ce(a){return ca(cd(a.length),a)}async function cf(a,b,c){let d=Math.ceil((b>>3)/32),e=new Uint8Array(32*d);for(let b=0;b<d;b++){let d=new Uint8Array(4+a.length+c.length);d.set(cd(b+1)),d.set(a,4),d.set(c,4+a.length),e.set(await b7("sha256",d),32*b)}return e.slice(0,b>>3)}let cg=a=>(a=>{let b=a;"string"==typeof b&&(b=b8.encode(b));let c=[];for(let a=0;a<b.length;a+=32768)c.push(String.fromCharCode.apply(null,b.subarray(a,a+32768)));return btoa(c.join(""))})(a).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_"),ch=a=>{let b=a;b instanceof Uint8Array&&(b=b9.decode(b)),b=b.replace(/-/g,"+").replace(/_/g,"/").replace(/\s/g,"");try{var c=b;let a=atob(c),d=new Uint8Array(a.length);for(let b=0;b<a.length;b++)d[b]=a.charCodeAt(b);return d}catch{throw TypeError("The input to be decoded is not correctly encoded.")}};class ci extends Error{constructor(a,b){super(a,b),this.code="ERR_JOSE_GENERIC",this.name=this.constructor.name,Error.captureStackTrace?.(this,this.constructor)}}ci.code="ERR_JOSE_GENERIC";class cj extends ci{constructor(a,b,c="unspecified",d="unspecified"){super(a,{cause:{claim:c,reason:d,payload:b}}),this.code="ERR_JWT_CLAIM_VALIDATION_FAILED",this.claim=c,this.reason=d,this.payload=b}}cj.code="ERR_JWT_CLAIM_VALIDATION_FAILED";class ck extends ci{constructor(a,b,c="unspecified",d="unspecified"){super(a,{cause:{claim:c,reason:d,payload:b}}),this.code="ERR_JWT_EXPIRED",this.claim=c,this.reason=d,this.payload=b}}ck.code="ERR_JWT_EXPIRED";class cl extends ci{constructor(){super(...arguments),this.code="ERR_JOSE_ALG_NOT_ALLOWED"}}cl.code="ERR_JOSE_ALG_NOT_ALLOWED";class cm extends ci{constructor(){super(...arguments),this.code="ERR_JOSE_NOT_SUPPORTED"}}cm.code="ERR_JOSE_NOT_SUPPORTED";class cn extends ci{constructor(a="decryption operation failed",b){super(a,b),this.code="ERR_JWE_DECRYPTION_FAILED"}}cn.code="ERR_JWE_DECRYPTION_FAILED";class co extends ci{constructor(){super(...arguments),this.code="ERR_JWE_INVALID"}}co.code="ERR_JWE_INVALID";class cp extends ci{constructor(){super(...arguments),this.code="ERR_JWS_INVALID"}}cp.code="ERR_JWS_INVALID";class cq extends ci{constructor(){super(...arguments),this.code="ERR_JWT_INVALID"}}cq.code="ERR_JWT_INVALID";class cr extends ci{constructor(){super(...arguments),this.code="ERR_JWK_INVALID"}}cr.code="ERR_JWK_INVALID";class cs extends ci{constructor(){super(...arguments),this.code="ERR_JWKS_INVALID"}}cs.code="ERR_JWKS_INVALID";class ct extends ci{constructor(a="no applicable key found in the JSON Web Key Set",b){super(a,b),this.code="ERR_JWKS_NO_MATCHING_KEY"}}ct.code="ERR_JWKS_NO_MATCHING_KEY";class cu extends ci{constructor(a="multiple matching keys found in the JSON Web Key Set",b){super(a,b),this.code="ERR_JWKS_MULTIPLE_MATCHING_KEYS"}}cu.code="ERR_JWKS_MULTIPLE_MATCHING_KEYS";class cv extends ci{constructor(a="request timed out",b){super(a,b),this.code="ERR_JWKS_TIMEOUT"}}cv.code="ERR_JWKS_TIMEOUT";class cw extends ci{constructor(a="signature verification failed",b){super(a,b),this.code="ERR_JWS_SIGNATURE_VERIFICATION_FAILED"}}function cx(a){if("object"!=typeof a||null===a||"[object Object]"!==Object.prototype.toString.call(a))return!1;if(null===Object.getPrototypeOf(a))return!0;let b=a;for(;null!==Object.getPrototypeOf(b);)b=Object.getPrototypeOf(b);return Object.getPrototypeOf(a)===b}cw.code="ERR_JWS_SIGNATURE_VERIFICATION_FAILED";let cy=(a,b)=>{if("string"!=typeof a||!a)throw new cr(`${b} missing or invalid`)};async function cz(a,b){let c;if(!cx(a))throw TypeError("JWK must be an object");if(b??(b="sha256"),"sha256"!==b&&"sha384"!==b&&"sha512"!==b)throw TypeError('digestAlgorithm must one of "sha256", "sha384", or "sha512"');switch(a.kty){case"EC":cy(a.crv,'"crv" (Curve) Parameter'),cy(a.x,'"x" (X Coordinate) Parameter'),cy(a.y,'"y" (Y Coordinate) Parameter'),c={crv:a.crv,kty:a.kty,x:a.x,y:a.y};break;case"OKP":cy(a.crv,'"crv" (Subtype of Key Pair) Parameter'),cy(a.x,'"x" (Public Key) Parameter'),c={crv:a.crv,kty:a.kty,x:a.x};break;case"RSA":cy(a.e,'"e" (Exponent) Parameter'),cy(a.n,'"n" (Modulus) Parameter'),c={e:a.e,kty:a.kty,n:a.n};break;case"oct":cy(a.k,'"k" (Key Value) Parameter'),c={k:a.k,kty:a.kty};break;default:throw new cm('"kty" (Key Type) Parameter missing or unsupported')}let d=b8.encode(JSON.stringify(c));return cg(await b7(b,d))}let cA=Symbol(),cB=b6.getRandomValues.bind(b6);function cC(a){switch(a){case"A128GCM":case"A128GCMKW":case"A192GCM":case"A192GCMKW":case"A256GCM":case"A256GCMKW":return 96;case"A128CBC-HS256":case"A192CBC-HS384":case"A256CBC-HS512":return 128;default:throw new cm(`Unsupported JWE Algorithm: ${a}`)}}let cD=(a,b)=>{if(b.length<<3!==cC(a))throw new co("Invalid Initialization Vector length")},cE=(a,b)=>{let c=a.byteLength<<3;if(c!==b)throw new co(`Invalid Content Encryption Key length. Expected ${b} bits, got ${c} bits`)};function cF(a,b="algorithm.name"){return TypeError(`CryptoKey does not support this operation, its ${b} must be ${a}`)}function cG(a,b){return a.name===b}function cH(a,b,...c){switch(b){case"A128GCM":case"A192GCM":case"A256GCM":{if(!cG(a.algorithm,"AES-GCM"))throw cF("AES-GCM");let c=parseInt(b.slice(1,4),10);if(a.algorithm.length!==c)throw cF(c,"algorithm.length");break}case"A128KW":case"A192KW":case"A256KW":{if(!cG(a.algorithm,"AES-KW"))throw cF("AES-KW");let c=parseInt(b.slice(1,4),10);if(a.algorithm.length!==c)throw cF(c,"algorithm.length");break}case"ECDH":switch(a.algorithm.name){case"ECDH":case"X25519":case"X448":break;default:throw cF("ECDH, X25519, or X448")}break;case"PBES2-HS256+A128KW":case"PBES2-HS384+A192KW":case"PBES2-HS512+A256KW":if(!cG(a.algorithm,"PBKDF2"))throw cF("PBKDF2");break;case"RSA-OAEP":case"RSA-OAEP-256":case"RSA-OAEP-384":case"RSA-OAEP-512":{if(!cG(a.algorithm,"RSA-OAEP"))throw cF("RSA-OAEP");let c=parseInt(b.slice(9),10)||1;if(parseInt(a.algorithm.hash.name.slice(4),10)!==c)throw cF(`SHA-${c}`,"algorithm.hash");break}default:throw TypeError("CryptoKey does not support this operation")}if(c.length&&!c.some(b=>a.usages.includes(b))){let a="CryptoKey does not support this operation, its usages must include ";if(c.length>2){let b=c.pop();a+=`one of ${c.join(", ")}, or ${b}.`}else 2===c.length?a+=`one of ${c[0]} or ${c[1]}.`:a+=`${c[0]}.`;throw TypeError(a)}}function cI(a,b,...c){if((c=c.filter(Boolean)).length>2){let b=c.pop();a+=`one of type ${c.join(", ")}, or ${b}.`}else 2===c.length?a+=`one of type ${c[0]} or ${c[1]}.`:a+=`of type ${c[0]}.`;return null==b?a+=` Received ${b}`:"function"==typeof b&&b.name?a+=` Received function ${b.name}`:"object"==typeof b&&null!=b&&b.constructor?.name&&(a+=` Received an instance of ${b.constructor.name}`),a}let cJ=(a,...b)=>cI("Key must be ",a,...b);function cK(a,b,...c){return cI(`Key for the ${a} algorithm must be `,b,...c)}let cL=a=>a instanceof CryptoKey||a?.[Symbol.toStringTag]==="KeyObject",cM=["CryptoKey"];async function cN(a,b,c,d,e){if(!(c instanceof Uint8Array))throw TypeError(cJ(c,"Uint8Array"));let f=parseInt(a.slice(1,4),10),g=await b6.subtle.importKey("raw",c.subarray(f>>3),"AES-CBC",!1,["encrypt"]),h=await b6.subtle.importKey("raw",c.subarray(0,f>>3),{hash:`SHA-${f<<1}`,name:"HMAC"},!1,["sign"]),i=new Uint8Array(await b6.subtle.encrypt({iv:d,name:"AES-CBC"},g,b)),j=ca(e,d,i,cc(e.length<<3));return{ciphertext:i,tag:new Uint8Array((await b6.subtle.sign("HMAC",h,j)).slice(0,f>>3)),iv:d}}async function cO(a,b,c,d,e){let f;c instanceof Uint8Array?f=await b6.subtle.importKey("raw",c,"AES-GCM",!1,["encrypt"]):(cH(c,a,"encrypt"),f=c);let g=new Uint8Array(await b6.subtle.encrypt({additionalData:e,iv:d,name:"AES-GCM",tagLength:128},f,b)),h=g.slice(-16);return{ciphertext:g.slice(0,-16),tag:h,iv:d}}let cP=async(a,b,c,d,e)=>{if(!(c instanceof CryptoKey)&&!(c instanceof Uint8Array))throw TypeError(cJ(c,...cM,"Uint8Array"));switch(d?cD(a,d):d=cB(new Uint8Array(cC(a)>>3)),a){case"A128CBC-HS256":case"A192CBC-HS384":case"A256CBC-HS512":return c instanceof Uint8Array&&cE(c,parseInt(a.slice(-3),10)),cN(a,b,c,d,e);case"A128GCM":case"A192GCM":case"A256GCM":return c instanceof Uint8Array&&cE(c,parseInt(a.slice(1,4),10)),cO(a,b,c,d,e);default:throw new cm("Unsupported JWE Content Encryption Algorithm")}},cQ=[{hash:"SHA-256",name:"HMAC"},!0,["sign"]];function cR(a,b){if(a.algorithm.length!==parseInt(b.slice(1,4),10))throw TypeError(`Invalid key size for alg: ${b}`)}function cS(a,b,c){if(a instanceof CryptoKey)return cH(a,b,c),a;if(a instanceof Uint8Array)return b6.subtle.importKey("raw",a,"AES-KW",!0,[c]);throw TypeError(cJ(a,...cM,"Uint8Array"))}let cT=async(a,b,c)=>{let d=await cS(b,a,"wrapKey");cR(d,a);let e=await b6.subtle.importKey("raw",c,...cQ);return new Uint8Array(await b6.subtle.wrapKey("raw",e,d,"AES-KW"))},cU=async(a,b,c)=>{let d=await cS(b,a,"unwrapKey");cR(d,a);let e=await b6.subtle.unwrapKey("raw",c,d,"AES-KW",...cQ);return new Uint8Array(await b6.subtle.exportKey("raw",e))};async function cV(a,b,c,d,e=new Uint8Array(0),f=new Uint8Array(0)){let g;if(!(a instanceof CryptoKey))throw TypeError(cJ(a,...cM));if(cH(a,"ECDH"),!(b instanceof CryptoKey))throw TypeError(cJ(b,...cM));cH(b,"ECDH","deriveBits");let h=ca(ce(b8.encode(c)),ce(e),ce(f),cd(d));return g="X25519"===a.algorithm.name?256:"X448"===a.algorithm.name?448:Math.ceil(parseInt(a.algorithm.namedCurve.substr(-3),10)/8)<<3,cf(new Uint8Array(await b6.subtle.deriveBits({name:a.algorithm.name,public:a},b,g)),d,h)}async function cW(a){if(!(a instanceof CryptoKey))throw TypeError(cJ(a,...cM));return b6.subtle.generateKey(a.algorithm,!0,["deriveBits"])}function cX(a){if(!(a instanceof CryptoKey))throw TypeError(cJ(a,...cM));return["P-256","P-384","P-521"].includes(a.algorithm.namedCurve)||"X25519"===a.algorithm.name||"X448"===a.algorithm.name}async function cY(a,b,c,d){if(!(a instanceof Uint8Array)||a.length<8)throw new co("PBES2 Salt Input must be 8 or more octets");let e=ca(b8.encode(b),new Uint8Array([0]),a),f=parseInt(b.slice(13,16),10),g={hash:`SHA-${b.slice(8,11)}`,iterations:c,name:"PBKDF2",salt:e},h=await function(a,b){if(a instanceof Uint8Array)return b6.subtle.importKey("raw",a,"PBKDF2",!1,["deriveBits"]);if(a instanceof CryptoKey)return cH(a,b,"deriveBits","deriveKey"),a;throw TypeError(cJ(a,...cM,"Uint8Array"))}(d,b);if(h.usages.includes("deriveBits"))return new Uint8Array(await b6.subtle.deriveBits(g,h,f));if(h.usages.includes("deriveKey"))return b6.subtle.deriveKey(g,h,{length:f,name:"AES-KW"},!1,["wrapKey","unwrapKey"]);throw TypeError('PBKDF2 key "usages" must include "deriveBits" or "deriveKey"')}let cZ=async(a,b,c,d=2048,e=cB(new Uint8Array(16)))=>{let f=await cY(e,a,d,b);return{encryptedKey:await cT(a.slice(-6),f,c),p2c:d,p2s:cg(e)}},c$=async(a,b,c,d,e)=>{let f=await cY(e,a,d,b);return cU(a.slice(-6),f,c)};function c_(a){switch(a){case"RSA-OAEP":case"RSA-OAEP-256":case"RSA-OAEP-384":case"RSA-OAEP-512":return"RSA-OAEP";default:throw new cm(`alg ${a} is not supported either by JOSE or your javascript runtime`)}}let c0=(a,b)=>{if(a.startsWith("RS")||a.startsWith("PS")){let{modulusLength:c}=b.algorithm;if("number"!=typeof c||c<2048)throw TypeError(`${a} requires key modulusLength to be 2048 bits or larger`)}},c1=async(a,b,c)=>{if(!(b instanceof CryptoKey))throw TypeError(cJ(b,...cM));if(cH(b,a,"encrypt","wrapKey"),c0(a,b),b.usages.includes("encrypt"))return new Uint8Array(await b6.subtle.encrypt(c_(a),b,c));if(b.usages.includes("wrapKey")){let d=await b6.subtle.importKey("raw",c,...cQ);return new Uint8Array(await b6.subtle.wrapKey("raw",d,b,c_(a)))}throw TypeError('RSA-OAEP key "usages" must include "encrypt" or "wrapKey" for this operation')},c2=async(a,b,c)=>{if(!(b instanceof CryptoKey))throw TypeError(cJ(b,...cM));if(cH(b,a,"decrypt","unwrapKey"),c0(a,b),b.usages.includes("decrypt"))return new Uint8Array(await b6.subtle.decrypt(c_(a),b,c));if(b.usages.includes("unwrapKey")){let d=await b6.subtle.unwrapKey("raw",c,b,c_(a),...cQ);return new Uint8Array(await b6.subtle.exportKey("raw",d))}throw TypeError('RSA-OAEP key "usages" must include "decrypt" or "unwrapKey" for this operation')};function c3(a){return cx(a)&&"string"==typeof a.kty}let c4=async a=>{if(!a.alg)throw TypeError('"alg" argument is required when "jwk.alg" is not present');let{algorithm:b,keyUsages:c}=function(a){let b,c;switch(a.kty){case"RSA":switch(a.alg){case"PS256":case"PS384":case"PS512":b={name:"RSA-PSS",hash:`SHA-${a.alg.slice(-3)}`},c=a.d?["sign"]:["verify"];break;case"RS256":case"RS384":case"RS512":b={name:"RSASSA-PKCS1-v1_5",hash:`SHA-${a.alg.slice(-3)}`},c=a.d?["sign"]:["verify"];break;case"RSA-OAEP":case"RSA-OAEP-256":case"RSA-OAEP-384":case"RSA-OAEP-512":b={name:"RSA-OAEP",hash:`SHA-${parseInt(a.alg.slice(-3),10)||1}`},c=a.d?["decrypt","unwrapKey"]:["encrypt","wrapKey"];break;default:throw new cm('Invalid or unsupported JWK "alg" (Algorithm) Parameter value')}break;case"EC":switch(a.alg){case"ES256":b={name:"ECDSA",namedCurve:"P-256"},c=a.d?["sign"]:["verify"];break;case"ES384":b={name:"ECDSA",namedCurve:"P-384"},c=a.d?["sign"]:["verify"];break;case"ES512":b={name:"ECDSA",namedCurve:"P-521"},c=a.d?["sign"]:["verify"];break;case"ECDH-ES":case"ECDH-ES+A128KW":case"ECDH-ES+A192KW":case"ECDH-ES+A256KW":b={name:"ECDH",namedCurve:a.crv},c=a.d?["deriveBits"]:[];break;default:throw new cm('Invalid or unsupported JWK "alg" (Algorithm) Parameter value')}break;case"OKP":switch(a.alg){case"Ed25519":b={name:"Ed25519"},c=a.d?["sign"]:["verify"];break;case"EdDSA":b={name:a.crv},c=a.d?["sign"]:["verify"];break;case"ECDH-ES":case"ECDH-ES+A128KW":case"ECDH-ES+A192KW":case"ECDH-ES+A256KW":b={name:a.crv},c=a.d?["deriveBits"]:[];break;default:throw new cm('Invalid or unsupported JWK "alg" (Algorithm) Parameter value')}break;default:throw new cm('Invalid or unsupported JWK "kty" (Key Type) Parameter value')}return{algorithm:b,keyUsages:c}}(a),d=[b,a.ext??!1,a.key_ops??c],e={...a};return delete e.alg,delete e.use,b6.subtle.importKey("jwk",e,...d)},c5=a=>a?.[Symbol.toStringTag]==="KeyObject",c6=async(a,b,c,d,e=!1)=>{let f=a.get(b);if(f?.[d])return f[d];let g=await c4({...c,alg:d});return e&&Object.freeze(b),f?f[d]=g:a.set(b,{[d]:g}),g},c7=(a,b)=>{if(c5(a)){let c=a.export({format:"jwk"});return(delete c.d,delete c.dp,delete c.dq,delete c.p,delete c.q,delete c.qi,c.k)?ch(c.k):(f||(f=new WeakMap),c6(f,a,c,b))}return c3(a)?a.k?ch(a.k):(f||(f=new WeakMap),c6(f,a,a,b,!0)):a},c8=(a,b)=>{if(c5(a)){let c=a.export({format:"jwk"});return c.k?ch(c.k):(e||(e=new WeakMap),c6(e,a,c,b))}return c3(a)?a.k?ch(a.k):(e||(e=new WeakMap),c6(e,a,a,b,!0)):a};function c9(a){switch(a){case"A128GCM":return 128;case"A192GCM":return 192;case"A256GCM":case"A128CBC-HS256":return 256;case"A192CBC-HS384":return 384;case"A256CBC-HS512":return 512;default:throw new cm(`Unsupported JWE Algorithm: ${a}`)}}let da=a=>cB(new Uint8Array(c9(a)>>3)),db=async a=>{if(a instanceof Uint8Array)return{kty:"oct",k:cg(a)};if(!(a instanceof CryptoKey))throw TypeError(cJ(a,...cM,"Uint8Array"));if(!a.extractable)throw TypeError("non-extractable CryptoKey cannot be exported as a JWK");let{ext:b,key_ops:c,alg:d,use:e,...f}=await b6.subtle.exportKey("jwk",a);return f};async function dc(a){return db(a)}let dd=a=>a?.[Symbol.toStringTag],de=(a,b,c)=>{if(void 0!==b.use&&"sig"!==b.use)throw TypeError("Invalid key for this operation, when present its use must be sig");if(void 0!==b.key_ops&&b.key_ops.includes?.(c)!==!0)throw TypeError(`Invalid key for this operation, when present its key_ops must include ${c}`);if(void 0!==b.alg&&b.alg!==a)throw TypeError(`Invalid key for this operation, when present its alg must be ${a}`);return!0};function df(a,b,c,d){b.startsWith("HS")||"dir"===b||b.startsWith("PBES2")||/^A\d{3}(?:GCM)?KW$/.test(b)?((a,b,c,d)=>{if(!(b instanceof Uint8Array)){if(d&&c3(b)){if(c3(b)&&"oct"===b.kty&&"string"==typeof b.k&&de(a,b,c))return;throw TypeError('JSON Web Key for symmetric algorithms must have JWK "kty" (Key Type) equal to "oct" and the JWK "k" (Key Value) present')}if(!cL(b))throw TypeError(cK(a,b,...cM,"Uint8Array",d?"JSON Web Key":null));if("secret"!==b.type)throw TypeError(`${dd(b)} instances for symmetric algorithms must be of type "secret"`)}})(b,c,d,a):((a,b,c,d)=>{if(d&&c3(b))switch(c){case"sign":if("oct"!==b.kty&&"string"==typeof b.d&&de(a,b,c))return;throw TypeError("JSON Web Key for this operation be a private JWK");case"verify":if("oct"!==b.kty&&void 0===b.d&&de(a,b,c))return;throw TypeError("JSON Web Key for this operation be a public JWK")}if(!cL(b))throw TypeError(cK(a,b,...cM,d?"JSON Web Key":null));if("secret"===b.type)throw TypeError(`${dd(b)} instances for asymmetric algorithms must not be of type "secret"`);if("sign"===c&&"public"===b.type)throw TypeError(`${dd(b)} instances for asymmetric algorithm signing must be of type "private"`);if("decrypt"===c&&"public"===b.type)throw TypeError(`${dd(b)} instances for asymmetric algorithm decryption must be of type "private"`);if(b.algorithm&&"verify"===c&&"private"===b.type)throw TypeError(`${dd(b)} instances for asymmetric algorithm verifying must be of type "public"`);if(b.algorithm&&"encrypt"===c&&"private"===b.type)throw TypeError(`${dd(b)} instances for asymmetric algorithm encryption must be of type "public"`)})(b,c,d,a)}let dg=df.bind(void 0,!1);async function dh(a,b,c,d,e,f){let g,h;if(!(b instanceof Uint8Array))throw TypeError(cJ(b,"Uint8Array"));let i=parseInt(a.slice(1,4),10),j=await b6.subtle.importKey("raw",b.subarray(i>>3),"AES-CBC",!1,["decrypt"]),k=await b6.subtle.importKey("raw",b.subarray(0,i>>3),{hash:`SHA-${i<<1}`,name:"HMAC"},!1,["sign"]),l=ca(f,d,c,cc(f.length<<3)),m=new Uint8Array((await b6.subtle.sign("HMAC",k,l)).slice(0,i>>3));try{g=((a,b)=>{if(!(a instanceof Uint8Array))throw TypeError("First argument must be a buffer");if(!(b instanceof Uint8Array))throw TypeError("Second argument must be a buffer");if(a.length!==b.length)throw TypeError("Input buffers must have the same length");let c=a.length,d=0,e=-1;for(;++e<c;)d|=a[e]^b[e];return 0===d})(e,m)}catch{}if(!g)throw new cn;try{h=new Uint8Array(await b6.subtle.decrypt({iv:d,name:"AES-CBC"},j,c))}catch{}if(!h)throw new cn;return h}async function di(a,b,c,d,e,f){let g;b instanceof Uint8Array?g=await b6.subtle.importKey("raw",b,"AES-GCM",!1,["decrypt"]):(cH(b,a,"decrypt"),g=b);try{return new Uint8Array(await b6.subtle.decrypt({additionalData:f,iv:d,name:"AES-GCM",tagLength:128},g,ca(c,e)))}catch{throw new cn}}df.bind(void 0,!0);let dj=async(a,b,c,d,e,f)=>{if(!(b instanceof CryptoKey)&&!(b instanceof Uint8Array))throw TypeError(cJ(b,...cM,"Uint8Array"));if(!d)throw new co("JWE Initialization Vector missing");if(!e)throw new co("JWE Authentication Tag missing");switch(cD(a,d),a){case"A128CBC-HS256":case"A192CBC-HS384":case"A256CBC-HS512":return b instanceof Uint8Array&&cE(b,parseInt(a.slice(-3),10)),dh(a,b,c,d,e,f);case"A128GCM":case"A192GCM":case"A256GCM":return b instanceof Uint8Array&&cE(b,parseInt(a.slice(1,4),10)),di(a,b,c,d,e,f);default:throw new cm("Unsupported JWE Content Encryption Algorithm")}};async function dk(a,b,c,d){let e=a.slice(0,7),f=await cP(e,c,b,d,new Uint8Array(0));return{encryptedKey:f.ciphertext,iv:cg(f.iv),tag:cg(f.tag)}}async function dl(a,b,c,d,e){return dj(a.slice(0,7),b,c,d,e,new Uint8Array(0))}async function dm(a,b,c,d,e={}){let f,g,h;switch(dg(a,c,"encrypt"),c=await c7?.(c,a)||c,a){case"dir":h=c;break;case"ECDH-ES":case"ECDH-ES+A128KW":case"ECDH-ES+A192KW":case"ECDH-ES+A256KW":{if(!cX(c))throw new cm("ECDH with the provided key is not allowed or not supported by your javascript runtime");let{apu:i,apv:j}=e,{epk:k}=e;k||(k=(await cW(c)).privateKey);let{x:l,y:m,crv:n,kty:o}=await dc(k),p=await cV(c,k,"ECDH-ES"===a?b:a,"ECDH-ES"===a?c9(b):parseInt(a.slice(-5,-2),10),i,j);if(g={epk:{x:l,crv:n,kty:o}},"EC"===o&&(g.epk.y=m),i&&(g.apu=cg(i)),j&&(g.apv=cg(j)),"ECDH-ES"===a){h=p;break}h=d||da(b);let q=a.slice(-6);f=await cT(q,p,h);break}case"RSA1_5":case"RSA-OAEP":case"RSA-OAEP-256":case"RSA-OAEP-384":case"RSA-OAEP-512":h=d||da(b),f=await c1(a,c,h);break;case"PBES2-HS256+A128KW":case"PBES2-HS384+A192KW":case"PBES2-HS512+A256KW":{h=d||da(b);let{p2c:i,p2s:j}=e;({encryptedKey:f,...g}=await cZ(a,c,h,i,j));break}case"A128KW":case"A192KW":case"A256KW":h=d||da(b),f=await cT(a,c,h);break;case"A128GCMKW":case"A192GCMKW":case"A256GCMKW":{h=d||da(b);let{iv:i}=e;({encryptedKey:f,...g}=await dk(a,c,h,i));break}default:throw new cm('Invalid or unsupported "alg" (JWE Algorithm) header value')}return{cek:h,encryptedKey:f,parameters:g}}let dn=(...a)=>{let b,c=a.filter(Boolean);if(0===c.length||1===c.length)return!0;for(let a of c){let c=Object.keys(a);if(!b||0===b.size){b=new Set(c);continue}for(let a of c){if(b.has(a))return!1;b.add(a)}}return!0},dp=function(a,b,c,d,e){let f;if(void 0!==e.crit&&d?.crit===void 0)throw new a('"crit" (Critical) Header Parameter MUST be integrity protected');if(!d||void 0===d.crit)return new Set;if(!Array.isArray(d.crit)||0===d.crit.length||d.crit.some(a=>"string"!=typeof a||0===a.length))throw new a('"crit" (Critical) Header Parameter MUST be an array of non-empty strings when present');for(let g of(f=void 0!==c?new Map([...Object.entries(c),...b.entries()]):b,d.crit)){if(!f.has(g))throw new cm(`Extension Header Parameter "${g}" is not recognized`);if(void 0===e[g])throw new a(`Extension Header Parameter "${g}" is missing`);if(f.get(g)&&void 0===d[g])throw new a(`Extension Header Parameter "${g}" MUST be integrity protected`)}return new Set(d.crit)};class dq{constructor(a){if(!(a instanceof Uint8Array))throw TypeError("plaintext must be an instance of Uint8Array");this._plaintext=a}setKeyManagementParameters(a){if(this._keyManagementParameters)throw TypeError("setKeyManagementParameters can only be called once");return this._keyManagementParameters=a,this}setProtectedHeader(a){if(this._protectedHeader)throw TypeError("setProtectedHeader can only be called once");return this._protectedHeader=a,this}setSharedUnprotectedHeader(a){if(this._sharedUnprotectedHeader)throw TypeError("setSharedUnprotectedHeader can only be called once");return this._sharedUnprotectedHeader=a,this}setUnprotectedHeader(a){if(this._unprotectedHeader)throw TypeError("setUnprotectedHeader can only be called once");return this._unprotectedHeader=a,this}setAdditionalAuthenticatedData(a){return this._aad=a,this}setContentEncryptionKey(a){if(this._cek)throw TypeError("setContentEncryptionKey can only be called once");return this._cek=a,this}setInitializationVector(a){if(this._iv)throw TypeError("setInitializationVector can only be called once");return this._iv=a,this}async encrypt(a,b){let c,d,e,f,g;if(!this._protectedHeader&&!this._unprotectedHeader&&!this._sharedUnprotectedHeader)throw new co("either setProtectedHeader, setUnprotectedHeader, or sharedUnprotectedHeader must be called before #encrypt()");if(!dn(this._protectedHeader,this._unprotectedHeader,this._sharedUnprotectedHeader))throw new co("JWE Protected, JWE Shared Unprotected and JWE Per-Recipient Header Parameter names must be disjoint");let h={...this._protectedHeader,...this._unprotectedHeader,...this._sharedUnprotectedHeader};if(dp(co,new Map,b?.crit,this._protectedHeader,h),void 0!==h.zip)throw new cm('JWE "zip" (Compression Algorithm) Header Parameter is not supported.');let{alg:i,enc:j}=h;if("string"!=typeof i||!i)throw new co('JWE "alg" (Algorithm) Header Parameter missing or invalid');if("string"!=typeof j||!j)throw new co('JWE "enc" (Encryption Algorithm) Header Parameter missing or invalid');if(this._cek&&("dir"===i||"ECDH-ES"===i))throw TypeError(`setContentEncryptionKey cannot be called with JWE "alg" (Algorithm) Header ${i}`);{let e;({cek:d,encryptedKey:c,parameters:e}=await dm(i,j,a,this._cek,this._keyManagementParameters)),e&&(b&&cA in b?this._unprotectedHeader?this._unprotectedHeader={...this._unprotectedHeader,...e}:this.setUnprotectedHeader(e):this._protectedHeader?this._protectedHeader={...this._protectedHeader,...e}:this.setProtectedHeader(e))}f=this._protectedHeader?b8.encode(cg(JSON.stringify(this._protectedHeader))):b8.encode(""),this._aad?(g=cg(this._aad),e=ca(f,b8.encode("."),b8.encode(g))):e=f;let{ciphertext:k,tag:l,iv:m}=await cP(j,this._plaintext,d,this._iv,e),n={ciphertext:cg(k)};return m&&(n.iv=cg(m)),l&&(n.tag=cg(l)),c&&(n.encrypted_key=cg(c)),g&&(n.aad=g),this._protectedHeader&&(n.protected=b9.decode(f)),this._sharedUnprotectedHeader&&(n.unprotected=this._sharedUnprotectedHeader),this._unprotectedHeader&&(n.header=this._unprotectedHeader),n}}class dr{constructor(a){this._flattened=new dq(a)}setContentEncryptionKey(a){return this._flattened.setContentEncryptionKey(a),this}setInitializationVector(a){return this._flattened.setInitializationVector(a),this}setProtectedHeader(a){return this._flattened.setProtectedHeader(a),this}setKeyManagementParameters(a){return this._flattened.setKeyManagementParameters(a),this}async encrypt(a,b){let c=await this._flattened.encrypt(a,b);return[c.protected,c.encrypted_key,c.iv,c.ciphertext,c.tag].join(".")}}let ds=a=>Math.floor(a.getTime()/1e3),dt=/^(\+|\-)? ?(\d+|\d+\.\d+) ?(seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)(?: (ago|from now))?$/i,du=a=>{let b,c=dt.exec(a);if(!c||c[4]&&c[1])throw TypeError("Invalid time period format");let d=parseFloat(c[2]);switch(c[3].toLowerCase()){case"sec":case"secs":case"second":case"seconds":case"s":b=Math.round(d);break;case"minute":case"minutes":case"min":case"mins":case"m":b=Math.round(60*d);break;case"hour":case"hours":case"hr":case"hrs":case"h":b=Math.round(3600*d);break;case"day":case"days":case"d":b=Math.round(86400*d);break;case"week":case"weeks":case"w":b=Math.round(604800*d);break;default:b=Math.round(0x1e187e0*d)}return"-"===c[1]||"ago"===c[4]?-b:b};function dv(a,b){if(!Number.isFinite(b))throw TypeError(`Invalid ${a} input`);return b}class dw{constructor(a={}){if(!cx(a))throw TypeError("JWT Claims Set MUST be an object");this._payload=a}setIssuer(a){return this._payload={...this._payload,iss:a},this}setSubject(a){return this._payload={...this._payload,sub:a},this}setAudience(a){return this._payload={...this._payload,aud:a},this}setJti(a){return this._payload={...this._payload,jti:a},this}setNotBefore(a){return"number"==typeof a?this._payload={...this._payload,nbf:dv("setNotBefore",a)}:a instanceof Date?this._payload={...this._payload,nbf:dv("setNotBefore",ds(a))}:this._payload={...this._payload,nbf:ds(new Date)+du(a)},this}setExpirationTime(a){return"number"==typeof a?this._payload={...this._payload,exp:dv("setExpirationTime",a)}:a instanceof Date?this._payload={...this._payload,exp:dv("setExpirationTime",ds(a))}:this._payload={...this._payload,exp:ds(new Date)+du(a)},this}setIssuedAt(a){return void 0===a?this._payload={...this._payload,iat:ds(new Date)}:a instanceof Date?this._payload={...this._payload,iat:dv("setIssuedAt",ds(a))}:"string"==typeof a?this._payload={...this._payload,iat:dv("setIssuedAt",ds(new Date)+du(a))}:this._payload={...this._payload,iat:dv("setIssuedAt",a)},this}}class dx extends dw{setProtectedHeader(a){if(this._protectedHeader)throw TypeError("setProtectedHeader can only be called once");return this._protectedHeader=a,this}setKeyManagementParameters(a){if(this._keyManagementParameters)throw TypeError("setKeyManagementParameters can only be called once");return this._keyManagementParameters=a,this}setContentEncryptionKey(a){if(this._cek)throw TypeError("setContentEncryptionKey can only be called once");return this._cek=a,this}setInitializationVector(a){if(this._iv)throw TypeError("setInitializationVector can only be called once");return this._iv=a,this}replicateIssuerAsHeader(){return this._replicateIssuerAsHeader=!0,this}replicateSubjectAsHeader(){return this._replicateSubjectAsHeader=!0,this}replicateAudienceAsHeader(){return this._replicateAudienceAsHeader=!0,this}async encrypt(a,b){let c=new dr(b8.encode(JSON.stringify(this._payload)));return this._replicateIssuerAsHeader&&(this._protectedHeader={...this._protectedHeader,iss:this._payload.iss}),this._replicateSubjectAsHeader&&(this._protectedHeader={...this._protectedHeader,sub:this._payload.sub}),this._replicateAudienceAsHeader&&(this._protectedHeader={...this._protectedHeader,aud:this._payload.aud}),c.setProtectedHeader(this._protectedHeader),this._iv&&c.setInitializationVector(this._iv),this._cek&&c.setContentEncryptionKey(this._cek),this._keyManagementParameters&&c.setKeyManagementParameters(this._keyManagementParameters),c.encrypt(a,b)}}async function dy(a,b){if(!cx(a))throw TypeError("JWK must be an object");switch(b||(b=a.alg),a.kty){case"oct":if("string"!=typeof a.k||!a.k)throw TypeError('missing "k" (Key Value) Parameter value');return ch(a.k);case"RSA":if("oth"in a&&void 0!==a.oth)throw new cm('RSA JWK "oth" (Other Primes Info) Parameter value is not supported');case"EC":case"OKP":return c4({...a,alg:b});default:throw new cm('Unsupported "kty" (Key Type) Parameter value')}}async function dz(a,b,c,d,e){switch(dg(a,b,"decrypt"),b=await c8?.(b,a)||b,a){case"dir":if(void 0!==c)throw new co("Encountered unexpected JWE Encrypted Key");return b;case"ECDH-ES":if(void 0!==c)throw new co("Encountered unexpected JWE Encrypted Key");case"ECDH-ES+A128KW":case"ECDH-ES+A192KW":case"ECDH-ES+A256KW":{let e,f;if(!cx(d.epk))throw new co('JOSE Header "epk" (Ephemeral Public Key) missing or invalid');if(!cX(b))throw new cm("ECDH with the provided key is not allowed or not supported by your javascript runtime");let g=await dy(d.epk,a);if(void 0!==d.apu){if("string"!=typeof d.apu)throw new co('JOSE Header "apu" (Agreement PartyUInfo) invalid');try{e=ch(d.apu)}catch{throw new co("Failed to base64url decode the apu")}}if(void 0!==d.apv){if("string"!=typeof d.apv)throw new co('JOSE Header "apv" (Agreement PartyVInfo) invalid');try{f=ch(d.apv)}catch{throw new co("Failed to base64url decode the apv")}}let h=await cV(g,b,"ECDH-ES"===a?d.enc:a,"ECDH-ES"===a?c9(d.enc):parseInt(a.slice(-5,-2),10),e,f);if("ECDH-ES"===a)return h;if(void 0===c)throw new co("JWE Encrypted Key missing");return cU(a.slice(-6),h,c)}case"RSA1_5":case"RSA-OAEP":case"RSA-OAEP-256":case"RSA-OAEP-384":case"RSA-OAEP-512":if(void 0===c)throw new co("JWE Encrypted Key missing");return c2(a,b,c);case"PBES2-HS256+A128KW":case"PBES2-HS384+A192KW":case"PBES2-HS512+A256KW":{let f;if(void 0===c)throw new co("JWE Encrypted Key missing");if("number"!=typeof d.p2c)throw new co('JOSE Header "p2c" (PBES2 Count) missing or invalid');let g=e?.maxPBES2Count||1e4;if(d.p2c>g)throw new co('JOSE Header "p2c" (PBES2 Count) out is of acceptable bounds');if("string"!=typeof d.p2s)throw new co('JOSE Header "p2s" (PBES2 Salt) missing or invalid');try{f=ch(d.p2s)}catch{throw new co("Failed to base64url decode the p2s")}return c$(a,b,c,d.p2c,f)}case"A128KW":case"A192KW":case"A256KW":if(void 0===c)throw new co("JWE Encrypted Key missing");return cU(a,b,c);case"A128GCMKW":case"A192GCMKW":case"A256GCMKW":{let e,f;if(void 0===c)throw new co("JWE Encrypted Key missing");if("string"!=typeof d.iv)throw new co('JOSE Header "iv" (Initialization Vector) missing or invalid');if("string"!=typeof d.tag)throw new co('JOSE Header "tag" (Authentication Tag) missing or invalid');try{e=ch(d.iv)}catch{throw new co("Failed to base64url decode the iv")}try{f=ch(d.tag)}catch{throw new co("Failed to base64url decode the tag")}return dl(a,b,c,e,f)}default:throw new cm('Invalid or unsupported "alg" (JWE Algorithm) header value')}}let dA=(a,b)=>{if(void 0!==b&&(!Array.isArray(b)||b.some(a=>"string"!=typeof a)))throw TypeError(`"${a}" option must be an array of strings`);if(b)return new Set(b)};async function dB(a,b,c){let d,e,f,g,h,i,j;if(!cx(a))throw new co("Flattened JWE must be an object");if(void 0===a.protected&&void 0===a.header&&void 0===a.unprotected)throw new co("JOSE Header missing");if(void 0!==a.iv&&"string"!=typeof a.iv)throw new co("JWE Initialization Vector incorrect type");if("string"!=typeof a.ciphertext)throw new co("JWE Ciphertext missing or incorrect type");if(void 0!==a.tag&&"string"!=typeof a.tag)throw new co("JWE Authentication Tag incorrect type");if(void 0!==a.protected&&"string"!=typeof a.protected)throw new co("JWE Protected Header incorrect type");if(void 0!==a.encrypted_key&&"string"!=typeof a.encrypted_key)throw new co("JWE Encrypted Key incorrect type");if(void 0!==a.aad&&"string"!=typeof a.aad)throw new co("JWE AAD incorrect type");if(void 0!==a.header&&!cx(a.header))throw new co("JWE Shared Unprotected Header incorrect type");if(void 0!==a.unprotected&&!cx(a.unprotected))throw new co("JWE Per-Recipient Unprotected Header incorrect type");if(a.protected)try{let b=ch(a.protected);d=JSON.parse(b9.decode(b))}catch{throw new co("JWE Protected Header is invalid")}if(!dn(d,a.header,a.unprotected))throw new co("JWE Protected, JWE Unprotected Header, and JWE Per-Recipient Unprotected Header Parameter names must be disjoint");let k={...d,...a.header,...a.unprotected};if(dp(co,new Map,c?.crit,d,k),void 0!==k.zip)throw new cm('JWE "zip" (Compression Algorithm) Header Parameter is not supported.');let{alg:l,enc:m}=k;if("string"!=typeof l||!l)throw new co("missing JWE Algorithm (alg) in JWE Header");if("string"!=typeof m||!m)throw new co("missing JWE Encryption Algorithm (enc) in JWE Header");let n=c&&dA("keyManagementAlgorithms",c.keyManagementAlgorithms),o=c&&dA("contentEncryptionAlgorithms",c.contentEncryptionAlgorithms);if(n&&!n.has(l)||!n&&l.startsWith("PBES2"))throw new cl('"alg" (Algorithm) Header Parameter value not allowed');if(o&&!o.has(m))throw new cl('"enc" (Encryption Algorithm) Header Parameter value not allowed');if(void 0!==a.encrypted_key)try{e=ch(a.encrypted_key)}catch{throw new co("Failed to base64url decode the encrypted_key")}let p=!1;"function"==typeof b&&(b=await b(d,a),p=!0);try{f=await dz(l,b,e,k,c)}catch(a){if(a instanceof TypeError||a instanceof co||a instanceof cm)throw a;f=da(m)}if(void 0!==a.iv)try{g=ch(a.iv)}catch{throw new co("Failed to base64url decode the iv")}if(void 0!==a.tag)try{h=ch(a.tag)}catch{throw new co("Failed to base64url decode the tag")}let q=b8.encode(a.protected??"");i=void 0!==a.aad?ca(q,b8.encode("."),b8.encode(a.aad)):q;try{j=ch(a.ciphertext)}catch{throw new co("Failed to base64url decode the ciphertext")}let r={plaintext:await dj(m,f,j,g,h,i)};if(void 0!==a.protected&&(r.protectedHeader=d),void 0!==a.aad)try{r.additionalAuthenticatedData=ch(a.aad)}catch{throw new co("Failed to base64url decode the aad")}return(void 0!==a.unprotected&&(r.sharedUnprotectedHeader=a.unprotected),void 0!==a.header&&(r.unprotectedHeader=a.header),p)?{...r,key:b}:r}async function dC(a,b,c){if(a instanceof Uint8Array&&(a=b9.decode(a)),"string"!=typeof a)throw new co("Compact JWE must be a string or Uint8Array");let{0:d,1:e,2:f,3:g,4:h,length:i}=a.split(".");if(5!==i)throw new co("Invalid Compact JWE");let j=await dB({ciphertext:g,iv:f||void 0,protected:d,tag:h||void 0,encrypted_key:e||void 0},b,c),k={plaintext:j.plaintext,protectedHeader:j.protectedHeader};return"function"==typeof b?{...k,key:j.key}:k}let dD=a=>a.toLowerCase().replace(/^application\//,"");async function dE(a,b,c){let d=await dC(a,b,c),e=((a,b,c={})=>{var d,e;let f,g;try{f=JSON.parse(b9.decode(b))}catch{}if(!cx(f))throw new cq("JWT Claims Set must be a top-level JSON object");let{typ:h}=c;if(h&&("string"!=typeof a.typ||dD(a.typ)!==dD(h)))throw new cj('unexpected "typ" JWT header value',f,"typ","check_failed");let{requiredClaims:i=[],issuer:j,subject:k,audience:l,maxTokenAge:m}=c,n=[...i];for(let a of(void 0!==m&&n.push("iat"),void 0!==l&&n.push("aud"),void 0!==k&&n.push("sub"),void 0!==j&&n.push("iss"),new Set(n.reverse())))if(!(a in f))throw new cj(`missing required "${a}" claim`,f,a,"missing");if(j&&!(Array.isArray(j)?j:[j]).includes(f.iss))throw new cj('unexpected "iss" claim value',f,"iss","check_failed");if(k&&f.sub!==k)throw new cj('unexpected "sub" claim value',f,"sub","check_failed");if(l&&(d=f.aud,e="string"==typeof l?[l]:l,"string"==typeof d?!e.includes(d):!(Array.isArray(d)&&e.some(Set.prototype.has.bind(new Set(d))))))throw new cj('unexpected "aud" claim value',f,"aud","check_failed");switch(typeof c.clockTolerance){case"string":g=du(c.clockTolerance);break;case"number":g=c.clockTolerance;break;case"undefined":g=0;break;default:throw TypeError("Invalid clockTolerance option type")}let{currentDate:o}=c,p=ds(o||new Date);if((void 0!==f.iat||m)&&"number"!=typeof f.iat)throw new cj('"iat" claim must be a number',f,"iat","invalid");if(void 0!==f.nbf){if("number"!=typeof f.nbf)throw new cj('"nbf" claim must be a number',f,"nbf","invalid");if(f.nbf>p+g)throw new cj('"nbf" claim timestamp check failed',f,"nbf","check_failed")}if(void 0!==f.exp){if("number"!=typeof f.exp)throw new cj('"exp" claim must be a number',f,"exp","invalid");if(f.exp<=p-g)throw new ck('"exp" claim timestamp check failed',f,"exp","check_failed")}if(m){let a=p-f.iat;if(a-g>("number"==typeof m?m:du(m)))throw new ck('"iat" claim timestamp check failed (too far in the past)',f,"iat","check_failed");if(a<0-g)throw new cj('"iat" claim timestamp check failed (it should be in the past)',f,"iat","check_failed")}return f})(d.protectedHeader,d.plaintext,c),{protectedHeader:f}=d;if(void 0!==f.iss&&f.iss!==e.iss)throw new cj('replicated "iss" claim header parameter mismatch',e,"iss","mismatch");if(void 0!==f.sub&&f.sub!==e.sub)throw new cj('replicated "sub" claim header parameter mismatch',e,"sub","mismatch");if(void 0!==f.aud&&JSON.stringify(f.aud)!==JSON.stringify(e.aud))throw new cj('replicated "aud" claim header parameter mismatch',e,"aud","mismatch");let g={payload:e,protectedHeader:f};return"function"==typeof b?{...g,key:d.key}:g}var dF=c(861);let dG="A256CBC-HS512";async function dH(a){let{token:b={},secret:c,maxAge:d=2592e3,salt:e}=a,f=Array.isArray(c)?c:[c],g=await dJ(dG,f[0],e),h=await cz({kty:"oct",k:cg(g)},`sha${g.byteLength<<3}`);return await new dx(b).setProtectedHeader({alg:"dir",enc:dG,kid:h}).setIssuedAt().setExpirationTime((Date.now()/1e3|0)+d).setJti(crypto.randomUUID()).encrypt(g)}async function dI(a){let{token:b,secret:c,salt:d}=a,e=Array.isArray(c)?c:[c];if(!b)return null;let{payload:f}=await dE(b,async({kid:a,enc:b})=>{for(let c of e){let e=await dJ(b,c,d);if(void 0===a||a===await cz({kty:"oct",k:cg(e)},`sha${e.byteLength<<3}`))return e}throw Error("no matching decryption secret")},{clockTolerance:15,keyManagementAlgorithms:["dir"],contentEncryptionAlgorithms:[dG,"A256GCM"]});return f}async function dJ(a,b,c){let d;switch(a){case"A256CBC-HS512":d=64;break;case"A256GCM":d=32;break;default:throw Error("Unsupported JWT Content Encryption Algorithm")}return await b5("sha256",b,c,`Auth.js Generated Encryption Key (${c})`,d)}async function dK({options:a,paramValue:b,cookieValue:c}){let{url:d,callbacks:e}=a,f=d.origin;return b?f=await e.redirect({url:b,baseUrl:d.origin}):c&&(f=await e.redirect({url:c,baseUrl:d.origin})),{callbackUrl:f,callbackUrlCookie:f!==c?f:void 0}}let dL="\x1b[31m",dM="\x1b[0m",dN={error(a){let b=a instanceof bo?a.type:a.name;if(console.error(`${dL}[auth][error]${dM} ${b}: ${a.message}`),a.cause&&"object"==typeof a.cause&&"err"in a.cause&&a.cause.err instanceof Error){let{err:b,...c}=a.cause;console.error(`${dL}[auth][cause]${dM}:`,b.stack),c&&console.error(`${dL}[auth][details]${dM}:`,JSON.stringify(c,null,2))}else a.stack&&console.error(a.stack.replace(/.*/,"").substring(1))},warn(a){let b=`https://warnings.authjs.dev#${a}`;console.warn(`\x1b[33m[auth][warn][${a}]${dM}`,`Read more: ${b}`)},debug(a,b){console.log(`\x1b[90m[auth][debug]:${dM} ${a}`,JSON.stringify(b,null,2))}};function dO(a){let b={...dN};return a.debug||(b.debug=()=>{}),a.logger?.error&&(b.error=a.logger.error),a.logger?.warn&&(b.warn=a.logger.warn),a.logger?.debug&&(b.debug=a.logger.debug),a.logger??(a.logger=b),b}let dP=["providers","session","csrf","signin","signout","callback","verify-request","error","webauthn-options"];async function dQ(a){if(!("body"in a)||!a.body||"POST"!==a.method)return;let b=a.headers.get("content-type");return b?.includes("application/json")?await a.json():b?.includes("application/x-www-form-urlencoded")?Object.fromEntries(new URLSearchParams(await a.text())):void 0}async function dR(a,b){try{if("GET"!==a.method&&"POST"!==a.method)throw new bL("Only GET and POST requests are supported");b.basePath??(b.basePath="/auth");let c=new URL(a.url),{action:d,providerId:e}=function(a,b){let c=a.match(RegExp(`^${b}(.+)`));if(null===c)throw new bL(`Cannot parse action at ${a}`);let d=c.at(-1).replace(/^\//,"").split("/").filter(Boolean);if(1!==d.length&&2!==d.length)throw new bL(`Cannot parse action at ${a}`);let[e,f]=d;if(!dP.includes(e)||f&&!["signin","callback","webauthn-options"].includes(e))throw new bL(`Cannot parse action at ${a}`);return{action:e,providerId:f}}(c.pathname,b.basePath);return{url:c,action:d,providerId:e,method:a.method,headers:Object.fromEntries(a.headers),body:a.body?await dQ(a):void 0,cookies:(0,dF.q)(a.headers.get("cookie")??"")??{},error:c.searchParams.get("error")??void 0,query:Object.fromEntries(c.searchParams)}}catch(d){let c=dO(b);c.error(d),c.debug("request",a)}}function dS(a){let b=new Headers(a.headers);a.cookies?.forEach(a=>{let{name:c,value:d,options:e}=a,f=(0,dF.l)(c,d,e);b.has("Set-Cookie")?b.append("Set-Cookie",f):b.set("Set-Cookie",f)});let c=a.body;"application/json"===b.get("content-type")?c=JSON.stringify(a.body):"application/x-www-form-urlencoded"===b.get("content-type")&&(c=new URLSearchParams(a.body).toString());let d=new Response(c,{headers:b,status:a.redirect?302:a.status??200});return a.redirect&&d.headers.set("Location",a.redirect),d}async function dT(a){let b=new TextEncoder().encode(a);return Array.from(new Uint8Array(await crypto.subtle.digest("SHA-256",b))).map(a=>a.toString(16).padStart(2,"0")).join("").toString()}function dU(a){return Array.from(crypto.getRandomValues(new Uint8Array(a))).reduce((a,b)=>a+("0"+b.toString(16)).slice(-2),"")}async function dV({options:a,cookieValue:b,isPost:c,bodyValue:d}){if(b){let[e,f]=b.split("|");if(f===await dT(`${e}${a.secret}`))return{csrfTokenVerified:c&&e===d,csrfToken:e}}let e=dU(32),f=await dT(`${e}${a.secret}`);return{cookie:`${e}|${f}`,csrfToken:e}}function dW(a,b){if(!b)throw new bQ(`CSRF token was missing during an action ${a}`)}function dX(a){return null!==a&&"object"==typeof a}function dY(a,...b){if(!b.length)return a;let c=b.shift();if(dX(a)&&dX(c))for(let b in c)dX(c[b])?(dX(a[b])||(a[b]=Array.isArray(c[b])?[]:{}),dY(a[b],c[b])):void 0!==c[b]&&(a[b]=c[b]);return dY(a,...b)}let dZ=Symbol("skip-csrf-check"),d$=Symbol("return-type-raw"),d_=Symbol("custom-fetch"),d0=Symbol("conform-internal"),d1=a=>d3({id:a.sub??a.id??crypto.randomUUID(),name:a.name??a.nickname??a.preferred_username,email:a.email,image:a.picture}),d2=a=>d3({access_token:a.access_token,id_token:a.id_token,refresh_token:a.refresh_token,expires_at:a.expires_at,scope:a.scope,token_type:a.token_type,session_state:a.session_state});function d3(a){let b={};for(let[c,d]of Object.entries(a))void 0!==d&&(b[c]=d);return b}function d4(a,b){if(!a&&b)return;if("string"==typeof a)return{url:new URL(a)};let c=new URL(a?.url??"https://authjs.dev");if(a?.params!=null)for(let[b,d]of Object.entries(a.params))"claims"===b&&(d=JSON.stringify(d)),c.searchParams.set(b,String(d));return{url:c,request:a?.request,conform:a?.conform,...a?.clientPrivateKey?{clientPrivateKey:a?.clientPrivateKey}:null}}let d5={signIn:()=>!0,redirect:({url:a,baseUrl:b})=>a.startsWith("/")?`${b}${a}`:new URL(a).origin===b?a:b,session:({session:a})=>({user:{name:a.user?.name,email:a.user?.email,image:a.user?.image},expires:a.expires?.toISOString?.()??a.expires}),jwt:({token:a})=>a};async function d6({authOptions:a,providerId:b,action:c,url:d,cookies:e,callbackUrl:f,csrfToken:g,csrfDisabled:h,isPost:i}){var j,k;let l=dO(a),{providers:m,provider:n}=function(a){let{providerId:b,config:c}=a,d=new URL(c.basePath??"/auth",a.url.origin),e=c.providers.map(a=>{let b="function"==typeof a?a():a,{options:e,...f}=b,g=e?.id??f.id,h=dY(f,e,{signinUrl:`${d}/signin/${g}`,callbackUrl:`${d}/callback/${g}`});if("oauth"===b.type||"oidc"===b.type){var i;let a,b,d,f;h.redirectProxyUrl??(h.redirectProxyUrl=e?.redirectProxyUrl??c.redirectProxyUrl);let g=((i=h).issuer&&(i.wellKnown??(i.wellKnown=`${i.issuer}/.well-known/openid-configuration`)),(a=d4(i.authorization,i.issuer))&&!a.url?.searchParams.has("scope")&&a.url.searchParams.set("scope","openid profile email"),b=d4(i.token,i.issuer),d=d4(i.userinfo,i.issuer),f=i.checks??["pkce"],i.redirectProxyUrl&&(f.includes("state")||f.push("state"),i.redirectProxyUrl=`${i.redirectProxyUrl}/callback/${i.id}`),{...i,authorization:a,token:b,checks:f,userinfo:d,profile:i.profile??d1,account:i.account??d2});return g.authorization?.url.searchParams.get("response_mode")==="form_post"&&delete g.redirectProxyUrl,g[d_]??(g[d_]=e?.[d_]),g}return h});return{providers:e,provider:e.find(({id:a})=>a===b)}}({url:d,providerId:b,config:a}),o=!1;if((n?.type==="oauth"||n?.type==="oidc")&&n.redirectProxyUrl)try{o=new URL(n.redirectProxyUrl).origin===d.origin}catch{throw TypeError(`redirectProxyUrl must be a valid URL. Received: ${n.redirectProxyUrl}`)}let p={debug:!1,pages:{},theme:{colorScheme:"auto",logo:"",brandColor:"",buttonText:""},...a,url:d,action:c,provider:n,cookies:dY(bm(a.useSecureCookies??"https:"===d.protocol),a.cookies),providers:m,session:{strategy:a.adapter?"database":"jwt",maxAge:2592e3,updateAge:86400,generateSessionToken:()=>crypto.randomUUID(),...a.session},jwt:{secret:a.secret,maxAge:a.session?.maxAge??2592e3,encode:dH,decode:dI,...a.jwt},events:(j=a.events??{},k=l,Object.keys(j).reduce((a,b)=>(a[b]=async(...a)=>{try{let c=j[b];return await c(...a)}catch(a){k.error(new bu(a))}},a),{})),adapter:function(a,b){if(a)return Object.keys(a).reduce((c,d)=>(c[d]=async(...c)=>{try{b.debug(`adapter_${d}`,{args:c});let e=a[d];return await e(...c)}catch(c){let a=new bq(c);throw b.error(a),a}},c),{})}(a.adapter,l),callbacks:{...d5,...a.callbacks},logger:l,callbackUrl:d.origin,isOnRedirectProxy:o,experimental:{...a.experimental}},q=[];if(h)p.csrfTokenVerified=!0;else{let{csrfToken:a,cookie:b,csrfTokenVerified:c}=await dV({options:p,cookieValue:e?.[p.cookies.csrfToken.name],isPost:i,bodyValue:g});p.csrfToken=a,p.csrfTokenVerified=c,b&&q.push({name:p.cookies.csrfToken.name,value:b,options:p.cookies.csrfToken.options})}let{callbackUrl:r,callbackUrlCookie:s}=await dK({options:p,cookieValue:e?.[p.cookies.callbackUrl.name],paramValue:f});return p.callbackUrl=r,s&&q.push({name:p.cookies.callbackUrl.name,value:s,options:p.cookies.callbackUrl.options}),{options:p,cookies:q}}var d7,d8,d9,ea,eb,ec,ed,ee,ef,eg,eh,ei,ej,ek,el,em,en,eo,ep,eq,er,es,et,eu={},ev=[],ew=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function ex(a,b){for(var c in b)a[c]=b[c];return a}function ey(a){var b=a.parentNode;b&&b.removeChild(a)}function ez(a,b,c,d,e){var f={type:a,props:b,key:c,ref:d,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:null==e?++er:e};return null==e&&null!=eq.vnode&&eq.vnode(f),f}function eA(a){return a.children}function eB(a,b){this.props=a,this.context=b}function eC(a,b){if(null==b)return a.__?eC(a.__,a.__.__k.indexOf(a)+1):null;for(var c;b<a.__k.length;b++)if(null!=(c=a.__k[b])&&null!=c.__e)return c.__e;return"function"==typeof a.type?eC(a):null}function eD(a){(!a.__d&&(a.__d=!0)&&es.push(a)&&!eE.__r++||et!==eq.debounceRendering)&&((et=eq.debounceRendering)||setTimeout)(eE)}function eE(){for(var a;eE.__r=es.length;)a=es.sort(function(a,b){return a.__v.__b-b.__v.__b}),es=[],a.some(function(a){var b,c,d,e,f;a.__d&&(e=(d=a.__v).__e,(f=a.__P)&&(b=[],(c=ex({},d)).__v=d.__v+1,eL(f,d,c,a.__n,void 0!==f.ownerSVGElement,null!=d.__h?[e]:null,b,null==e?eC(d):e,d.__h),function(a,b){eq.__c&&eq.__c(b,a),a.some(function(b){try{a=b.__h,b.__h=[],a.some(function(a){a.call(b)})}catch(a){eq.__e(a,b.__v)}})}(b,d),d.__e!=e&&function a(b){var c,d;if(null!=(b=b.__)&&null!=b.__c){for(b.__e=b.__c.base=null,c=0;c<b.__k.length;c++)if(null!=(d=b.__k[c])&&null!=d.__e){b.__e=b.__c.base=d.__e;break}return a(b)}}(d)))})}function eF(a,b,c,d,e,f,g,h,i,j){var k,l,m,n,o,p,q,r=d&&d.__k||ev,s=r.length;for(c.__k=[],k=0;k<b.length;k++)if(null!=(n=c.__k[k]=null==(n=b[k])||"boolean"==typeof n?null:"string"==typeof n||"number"==typeof n||"bigint"==typeof n?ez(null,n,null,null,n):Array.isArray(n)?ez(eA,{children:n},null,null,null):n.__b>0?ez(n.type,n.props,n.key,n.ref?n.ref:null,n.__v):n)){if(n.__=c,n.__b=c.__b+1,null===(m=r[k])||m&&n.key==m.key&&n.type===m.type)r[k]=void 0;else for(l=0;l<s;l++){if((m=r[l])&&n.key==m.key&&n.type===m.type){r[l]=void 0;break}m=null}eL(a,n,m=m||eu,e,f,g,h,i,j),o=n.__e,(l=n.ref)&&m.ref!=l&&(q||(q=[]),m.ref&&q.push(m.ref,null,n),q.push(l,n.__c||o,n)),null!=o?(null==p&&(p=o),"function"==typeof n.type&&n.__k===m.__k?n.__d=i=function a(b,c,d){for(var e,f=b.__k,g=0;f&&g<f.length;g++)(e=f[g])&&(e.__=b,c="function"==typeof e.type?a(e,c,d):eG(d,e,e,f,e.__e,c));return c}(n,i,a):i=eG(a,n,m,r,o,i),"function"==typeof c.type&&(c.__d=i)):i&&m.__e==i&&i.parentNode!=a&&(i=eC(m))}for(c.__e=p,k=s;k--;)null!=r[k]&&function a(b,c,d){var e,f;if(eq.unmount&&eq.unmount(b),(e=b.ref)&&(e.current&&e.current!==b.__e||eM(e,null,c)),null!=(e=b.__c)){if(e.componentWillUnmount)try{e.componentWillUnmount()}catch(a){eq.__e(a,c)}e.base=e.__P=null,b.__c=void 0}if(e=b.__k)for(f=0;f<e.length;f++)e[f]&&a(e[f],c,d||"function"!=typeof b.type);d||null==b.__e||ey(b.__e),b.__=b.__e=b.__d=void 0}(r[k],r[k]);if(q)for(k=0;k<q.length;k++)eM(q[k],q[++k],q[++k])}function eG(a,b,c,d,e,f){var g,h,i;if(void 0!==b.__d)g=b.__d,b.__d=void 0;else if(null==c||e!=f||null==e.parentNode)b:if(null==f||f.parentNode!==a)a.appendChild(e),g=null;else{for(h=f,i=0;(h=h.nextSibling)&&i<d.length;i+=1)if(h==e)break b;a.insertBefore(e,f),g=f}return void 0!==g?g:e.nextSibling}function eH(a,b,c){"-"===b[0]?a.setProperty(b,c):a[b]=null==c?"":"number"!=typeof c||ew.test(b)?c:c+"px"}function eI(a,b,c,d,e){var f;b:if("style"===b)if("string"==typeof c)a.style.cssText=c;else{if("string"==typeof d&&(a.style.cssText=d=""),d)for(b in d)c&&b in c||eH(a.style,b,"");if(c)for(b in c)d&&c[b]===d[b]||eH(a.style,b,c[b])}else if("o"===b[0]&&"n"===b[1])f=b!==(b=b.replace(/Capture$/,"")),b=b.toLowerCase()in a?b.toLowerCase().slice(2):b.slice(2),a.l||(a.l={}),a.l[b+f]=c,c?d||a.addEventListener(b,f?eK:eJ,f):a.removeEventListener(b,f?eK:eJ,f);else if("dangerouslySetInnerHTML"!==b){if(e)b=b.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if("href"!==b&&"list"!==b&&"form"!==b&&"tabIndex"!==b&&"download"!==b&&b in a)try{a[b]=null==c?"":c;break b}catch(a){}"function"==typeof c||(null==c||!1===c&&-1==b.indexOf("-")?a.removeAttribute(b):a.setAttribute(b,c))}}function eJ(a){this.l[a.type+!1](eq.event?eq.event(a):a)}function eK(a){this.l[a.type+!0](eq.event?eq.event(a):a)}function eL(a,b,c,d,e,f,g,h,i){var j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y=b.type;if(void 0!==b.constructor)return null;null!=c.__h&&(i=c.__h,h=b.__e=c.__e,b.__h=null,f=[h]),(j=eq.__b)&&j(b);try{b:if("function"==typeof y){if(q=b.props,r=(j=y.contextType)&&d[j.__c],s=j?r?r.props.value:j.__:d,c.__c?p=(k=b.__c=c.__c).__=k.__E:("prototype"in y&&y.prototype.render?b.__c=k=new y(q,s):(b.__c=k=new eB(q,s),k.constructor=y,k.render=eN),r&&r.sub(k),k.props=q,k.state||(k.state={}),k.context=s,k.__n=d,l=k.__d=!0,k.__h=[],k._sb=[]),null==k.__s&&(k.__s=k.state),null!=y.getDerivedStateFromProps&&(k.__s==k.state&&(k.__s=ex({},k.__s)),ex(k.__s,y.getDerivedStateFromProps(q,k.__s))),m=k.props,n=k.state,l)null==y.getDerivedStateFromProps&&null!=k.componentWillMount&&k.componentWillMount(),null!=k.componentDidMount&&k.__h.push(k.componentDidMount);else{if(null==y.getDerivedStateFromProps&&q!==m&&null!=k.componentWillReceiveProps&&k.componentWillReceiveProps(q,s),!k.__e&&null!=k.shouldComponentUpdate&&!1===k.shouldComponentUpdate(q,k.__s,s)||b.__v===c.__v){for(k.props=q,k.state=k.__s,b.__v!==c.__v&&(k.__d=!1),k.__v=b,b.__e=c.__e,b.__k=c.__k,b.__k.forEach(function(a){a&&(a.__=b)}),t=0;t<k._sb.length;t++)k.__h.push(k._sb[t]);k._sb=[],k.__h.length&&g.push(k);break b}null!=k.componentWillUpdate&&k.componentWillUpdate(q,k.__s,s),null!=k.componentDidUpdate&&k.__h.push(function(){k.componentDidUpdate(m,n,o)})}if(k.context=s,k.props=q,k.__v=b,k.__P=a,u=eq.__r,v=0,"prototype"in y&&y.prototype.render){for(k.state=k.__s,k.__d=!1,u&&u(b),j=k.render(k.props,k.state,k.context),w=0;w<k._sb.length;w++)k.__h.push(k._sb[w]);k._sb=[]}else do k.__d=!1,u&&u(b),j=k.render(k.props,k.state,k.context),k.state=k.__s;while(k.__d&&++v<25);k.state=k.__s,null!=k.getChildContext&&(d=ex(ex({},d),k.getChildContext())),l||null==k.getSnapshotBeforeUpdate||(o=k.getSnapshotBeforeUpdate(m,n)),x=null!=j&&j.type===eA&&null==j.key?j.props.children:j,eF(a,Array.isArray(x)?x:[x],b,c,d,e,f,g,h,i),k.base=b.__e,b.__h=null,k.__h.length&&g.push(k),p&&(k.__E=k.__=null),k.__e=!1}else null==f&&b.__v===c.__v?(b.__k=c.__k,b.__e=c.__e):b.__e=function(a,b,c,d,e,f,g,h){var i,j,k,l=c.props,m=b.props,n=b.type,o=0;if("svg"===n&&(e=!0),null!=f){for(;o<f.length;o++)if((i=f[o])&&"setAttribute"in i==!!n&&(n?i.localName===n:3===i.nodeType)){a=i,f[o]=null;break}}if(null==a){if(null===n)return document.createTextNode(m);a=e?document.createElementNS("http://www.w3.org/2000/svg",n):document.createElement(n,m.is&&m),f=null,h=!1}if(null===n)l===m||h&&a.data===m||(a.data=m);else{if(f=f&&ep.call(a.childNodes),j=(l=c.props||eu).dangerouslySetInnerHTML,k=m.dangerouslySetInnerHTML,!h){if(null!=f)for(l={},o=0;o<a.attributes.length;o++)l[a.attributes[o].name]=a.attributes[o].value;(k||j)&&(k&&(j&&k.__html==j.__html||k.__html===a.innerHTML)||(a.innerHTML=k&&k.__html||""))}if(function(a,b,c,d,e){var f;for(f in c)"children"===f||"key"===f||f in b||eI(a,f,null,c[f],d);for(f in b)e&&"function"!=typeof b[f]||"children"===f||"key"===f||"value"===f||"checked"===f||c[f]===b[f]||eI(a,f,b[f],c[f],d)}(a,m,l,e,h),k)b.__k=[];else if(eF(a,Array.isArray(o=b.props.children)?o:[o],b,c,d,e&&"foreignObject"!==n,f,g,f?f[0]:c.__k&&eC(c,0),h),null!=f)for(o=f.length;o--;)null!=f[o]&&ey(f[o]);h||("value"in m&&void 0!==(o=m.value)&&(o!==a.value||"progress"===n&&!o||"option"===n&&o!==l.value)&&eI(a,"value",o,l.value,!1),"checked"in m&&void 0!==(o=m.checked)&&o!==a.checked&&eI(a,"checked",o,l.checked,!1))}return a}(c.__e,b,c,d,e,f,g,i);(j=eq.diffed)&&j(b)}catch(a){b.__v=null,(i||null!=f)&&(b.__e=h,b.__h=!!i,f[f.indexOf(h)]=null),eq.__e(a,b,c)}}function eM(a,b,c){try{"function"==typeof a?a(b):a.current=b}catch(a){eq.__e(a,c)}}function eN(a,b,c){return this.constructor(a,c)}ep=ev.slice,eq={__e:function(a,b,c,d){for(var e,f,g;b=b.__;)if((e=b.__c)&&!e.__)try{if((f=e.constructor)&&null!=f.getDerivedStateFromError&&(e.setState(f.getDerivedStateFromError(a)),g=e.__d),null!=e.componentDidCatch&&(e.componentDidCatch(a,d||{}),g=e.__d),g)return e.__E=e}catch(b){a=b}throw a}},er=0,eB.prototype.setState=function(a,b){var c;c=null!=this.__s&&this.__s!==this.state?this.__s:this.__s=ex({},this.state),"function"==typeof a&&(a=a(ex({},c),this.props)),a&&ex(c,a),null!=a&&this.__v&&(b&&this._sb.push(b),eD(this))},eB.prototype.forceUpdate=function(a){this.__v&&(this.__e=!0,a&&this.__h.push(a),eD(this))},eB.prototype.render=eA,es=[],eE.__r=0;var eO=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|^--/i,eP=/^(area|base|br|col|embed|hr|img|input|link|meta|param|source|track|wbr)$/,eQ=/[\s\n\\/='"\0<>]/,eR=/^xlink:?./,eS=/["&<]/;function eT(a){if(!1===eS.test(a+=""))return a;for(var b=0,c=0,d="",e="";c<a.length;c++){switch(a.charCodeAt(c)){case 34:e="&quot;";break;case 38:e="&amp;";break;case 60:e="&lt;";break;default:continue}c!==b&&(d+=a.slice(b,c)),d+=e,b=c+1}return c!==b&&(d+=a.slice(b,c)),d}var eU=function(a,b){return String(a).replace(/(\n+)/g,"$1"+(b||"	"))},eV=function(a,b,c){return String(a).length>(b||40)||!c&&-1!==String(a).indexOf("\n")||-1!==String(a).indexOf("<")},eW={},eX=/([A-Z])/g;function eY(a){var b="";for(var c in a){var d=a[c];null!=d&&""!==d&&(b&&(b+=" "),b+="-"==c[0]?c:eW[c]||(eW[c]=c.replace(eX,"-$1").toLowerCase()),b="number"==typeof d&&!1===eO.test(c)?b+": "+d+"px;":b+": "+d+";")}return b||void 0}function eZ(a,b){return Array.isArray(b)?b.reduce(eZ,a):null!=b&&!1!==b&&a.push(b),a}function e$(){this.__d=!0}function e_(a,b){return{__v:a,context:b,props:a.props,setState:e$,forceUpdate:e$,__d:!0,__h:[]}}function e0(a,b){var c=a.contextType,d=c&&b[c.__c];return null!=c?d?d.props.value:c.__:b}var e1=[],e2={shallow:!0};e4.render=e4;var e3=[];function e4(a,b,c){b=b||{};var d,e=eq.__s;return eq.__s=!0,d=c&&(c.pretty||c.voidElements||c.sortAttributes||c.shallow||c.allAttributes||c.xml||c.attributeHook)?function a(b,c,d,e,f,g){if(null==b||"boolean"==typeof b)return"";if("object"!=typeof b)return eT(b);var h=d.pretty,i=h&&"string"==typeof h?h:"	";if(Array.isArray(b)){for(var j="",k=0;k<b.length;k++)h&&k>0&&(j+="\n"),j+=a(b[k],c,d,e,f,g);return j}var l,m=b.type,n=b.props,o=!1;if("function"==typeof m){if(o=!0,!d.shallow||!e&&!1!==d.renderRootComponent){if(m===eA){var p=[];return eZ(p,b.props.children),a(p,c,d,!1!==d.shallowHighOrder,f,g)}var q,r=b.__c=e_(b,c);eq.__b&&eq.__b(b);var s=eq.__r;if(m.prototype&&"function"==typeof m.prototype.render){var t=e0(m,c);(r=b.__c=new m(n,t)).__v=b,r._dirty=r.__d=!0,r.props=n,null==r.state&&(r.state={}),null==r._nextState&&null==r.__s&&(r._nextState=r.__s=r.state),r.context=t,m.getDerivedStateFromProps?r.state=Object.assign({},r.state,m.getDerivedStateFromProps(r.props,r.state)):r.componentWillMount&&(r.componentWillMount(),r.state=r._nextState!==r.state?r._nextState:r.__s!==r.state?r.__s:r.state),s&&s(b),q=r.render(r.props,r.state,r.context)}else for(var u=e0(m,c),v=0;r.__d&&v++<25;)r.__d=!1,s&&s(b),q=m.call(b.__c,n,u);return r.getChildContext&&(c=Object.assign({},c,r.getChildContext())),eq.diffed&&eq.diffed(b),a(q,c,d,!1!==d.shallowHighOrder,f,g)}m=(l=m).displayName||l!==Function&&l.name||function(a){var b=(Function.prototype.toString.call(a).match(/^\s*function\s+([^( ]+)/)||"")[1];if(!b){for(var c=-1,d=e1.length;d--;)if(e1[d]===a){c=d;break}c<0&&(c=e1.push(a)-1),b="UnnamedComponent"+c}return b}(l)}var w,x,y="<"+m;if(n){var z=Object.keys(n);d&&!0===d.sortAttributes&&z.sort();for(var A=0;A<z.length;A++){var B=z[A],C=n[B];if("children"!==B){if(!eQ.test(B)&&(d&&d.allAttributes||"key"!==B&&"ref"!==B&&"__self"!==B&&"__source"!==B)){if("defaultValue"===B)B="value";else if("defaultChecked"===B)B="checked";else if("defaultSelected"===B)B="selected";else if("className"===B){if(void 0!==n.class)continue;B="class"}else f&&eR.test(B)&&(B=B.toLowerCase().replace(/^xlink:?/,"xlink:"));if("htmlFor"===B){if(n.for)continue;B="for"}"style"===B&&C&&"object"==typeof C&&(C=eY(C)),"a"===B[0]&&"r"===B[1]&&"boolean"==typeof C&&(C=String(C));var D=d.attributeHook&&d.attributeHook(B,C,c,d,o);if(D||""===D)y+=D;else if("dangerouslySetInnerHTML"===B)x=C&&C.__html;else if("textarea"===m&&"value"===B)w=C;else if((C||0===C||""===C)&&"function"!=typeof C){if(!(!0!==C&&""!==C||(C=B,d&&d.xml))){y=y+" "+B;continue}if("value"===B){if("select"===m){g=C;continue}"option"===m&&g==C&&void 0===n.selected&&(y+=" selected")}y=y+" "+B+'="'+eT(C)+'"'}}}else w=C}}if(h){var E=y.replace(/\n\s*/," ");E===y||~E.indexOf("\n")?h&&~y.indexOf("\n")&&(y+="\n"):y=E}if(y+=">",eQ.test(m))throw Error(m+" is not a valid HTML tag name in "+y);var F,G=eP.test(m)||d.voidElements&&d.voidElements.test(m),H=[];if(x)h&&eV(x)&&(x="\n"+i+eU(x,i)),y+=x;else if(null!=w&&eZ(F=[],w).length){for(var I=h&&~y.indexOf("\n"),J=!1,K=0;K<F.length;K++){var L=F[K];if(null!=L&&!1!==L){var M=a(L,c,d,!0,"svg"===m||"foreignObject"!==m&&f,g);if(h&&!I&&eV(M)&&(I=!0),M)if(h){var N=M.length>0&&"<"!=M[0];J&&N?H[H.length-1]+=M:H.push(M),J=N}else H.push(M)}}if(h&&I)for(var O=H.length;O--;)H[O]="\n"+i+eU(H[O],i)}if(H.length||x)y+=H.join("");else if(d&&d.xml)return y.substring(0,y.length-1)+" />";return!G||F||x?(h&&~y.indexOf("\n")&&(y+="\n"),y=y+"</"+m+">"):y=y.replace(/>$/," />"),y}(a,b,c):function a(b,c,d,e){if(null==b||!0===b||!1===b||""===b)return"";if("object"!=typeof b)return eT(b);if(e5(b)){for(var f="",g=0;g<b.length;g++)f+=a(b[g],c,d,e);return f}eq.__b&&eq.__b(b);var h=b.type,i=b.props;if("function"==typeof h){if(h===eA)return a(b.props.children,c,d,e);var j,k,l,m,n,o=h.prototype&&"function"==typeof h.prototype.render?(j=c,l=e0(k=b.type,j),m=new k(b.props,l),b.__c=m,m.__v=b,m.__d=!0,m.props=b.props,null==m.state&&(m.state={}),null==m.__s&&(m.__s=m.state),m.context=l,k.getDerivedStateFromProps?m.state=e6({},m.state,k.getDerivedStateFromProps(m.props,m.state)):m.componentWillMount&&(m.componentWillMount(),m.state=m.__s!==m.state?m.__s:m.state),(n=eq.__r)&&n(b),m.render(m.props,m.state,m.context)):function(a,b){var c,d=e_(a,b),e=e0(a.type,b);a.__c=d;for(var f=eq.__r,g=0;d.__d&&g++<25;)d.__d=!1,f&&f(a),c=a.type.call(d,a.props,e);return c}(b,c),p=b.__c;p.getChildContext&&(c=e6({},c,p.getChildContext()));var q=a(o,c,d,e);return eq.diffed&&eq.diffed(b),q}var r,s,t="<";if(t+=h,i)for(var u in r=i.children,i){var v,w,x,y=i[u];if(!("key"===u||"ref"===u||"__self"===u||"__source"===u||"children"===u||"className"===u&&"class"in i||"htmlFor"===u&&"for"in i||eQ.test(u))){if(w=u="className"===(v=u)?"class":"htmlFor"===v?"for":"defaultValue"===v?"value":"defaultChecked"===v?"checked":"defaultSelected"===v?"selected":d&&eR.test(v)?v.toLowerCase().replace(/^xlink:?/,"xlink:"):v,x=y,y="style"===w&&null!=x&&"object"==typeof x?eY(x):"a"===w[0]&&"r"===w[1]&&"boolean"==typeof x?String(x):x,"dangerouslySetInnerHTML"===u)s=y&&y.__html;else if("textarea"===h&&"value"===u)r=y;else if((y||0===y||""===y)&&"function"!=typeof y){if(!0===y||""===y){y=u,t=t+" "+u;continue}if("value"===u){if("select"===h){e=y;continue}"option"!==h||e!=y||"selected"in i||(t+=" selected")}t=t+" "+u+'="'+eT(y)+'"'}}}var z=t;if(t+=">",eQ.test(h))throw Error(h+" is not a valid HTML tag name in "+t);var A="",B=!1;if(s)A+=s,B=!0;else if("string"==typeof r)A+=eT(r),B=!0;else if(e5(r))for(var C=0;C<r.length;C++){var D=r[C];if(null!=D&&!1!==D){var E=a(D,c,"svg"===h||"foreignObject"!==h&&d,e);E&&(A+=E,B=!0)}}else if(null!=r&&!1!==r&&!0!==r){var F=a(r,c,"svg"===h||"foreignObject"!==h&&d,e);F&&(A+=F,B=!0)}if(eq.diffed&&eq.diffed(b),B)t+=A;else if(eP.test(h))return z+" />";return t+"</"+h+">"}(a,b,!1,void 0),eq.__c&&eq.__c(a,e3),eq.__s=e,e3.length=0,d}var e5=Array.isArray,e6=Object.assign;e4.shallowRender=function(a,b){return e4(a,b,e2)};var e7=0;function e8(a,b,c,d,e){var f,g,h={};for(g in b)"ref"==g?f=b[g]:h[g]=b[g];var i={type:a,props:h,key:c,ref:f,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:--e7,__source:e,__self:d};if("function"==typeof a&&(f=a.defaultProps))for(g in f)void 0===h[g]&&(h[g]=f[g]);return eq.vnode&&eq.vnode(i),i}async function e9(a,b){let c=window.SimpleWebAuthnBrowser;async function d(c){let d=new URL(`${a}/webauthn-options/${b}`);c&&d.searchParams.append("action",c),f().forEach(a=>{d.searchParams.append(a.name,a.value)});let e=await fetch(d);return e.ok?e.json():void console.error("Failed to fetch options",e)}function e(){let a=`#${b}-form`,c=document.querySelector(a);if(!c)throw Error(`Form '${a}' not found`);return c}function f(){return Array.from(e().querySelectorAll("input[data-form-field]"))}async function g(a,b){let c=e();if(a){let b=document.createElement("input");b.type="hidden",b.name="action",b.value=a,c.appendChild(b)}if(b){let a=document.createElement("input");a.type="hidden",a.name="data",a.value=JSON.stringify(b),c.appendChild(a)}return c.submit()}async function h(a,b){let d=await c.startAuthentication(a,b);return await g("authenticate",d)}async function i(a){f().forEach(a=>{if(a.required&&!a.value)throw Error(`Missing required field: ${a.name}`)});let b=await c.startRegistration(a);return await g("register",b)}async function j(){if(!c.browserSupportsWebAuthnAutofill())return;let a=await d("authenticate");if(!a)return void console.error("Failed to fetch option for autofill authentication");try{await h(a.options,!0)}catch(a){console.error(a)}}(async function(){let a=e();if(!c.browserSupportsWebAuthn()){a.style.display="none";return}a&&a.addEventListener("submit",async a=>{a.preventDefault();let b=await d(void 0);if(!b)return void console.error("Failed to fetch options for form submission");if("authenticate"===b.action)try{await h(b.options,!1)}catch(a){console.error(a)}else if("register"===b.action)try{await i(b.options)}catch(a){console.error(a)}})})(),j()}let fa={default:"Unable to sign in.",Signin:"Try signing in with a different account.",OAuthSignin:"Try signing in with a different account.",OAuthCallbackError:"Try signing in with a different account.",OAuthCreateAccount:"Try signing in with a different account.",EmailCreateAccount:"Try signing in with a different account.",Callback:"Try signing in with a different account.",OAuthAccountNotLinked:"To confirm your identity, sign in with the same account you used originally.",EmailSignin:"The e-mail could not be sent.",CredentialsSignin:"Sign in failed. Check the details you provided are correct.",SessionRequired:"Please sign in to access this page."},fb=`:root {
  --border-width: 1px;
  --border-radius: 0.5rem;
  --color-error: #c94b4b;
  --color-info: #157efb;
  --color-info-hover: #0f6ddb;
  --color-info-text: #fff;
}

.__next-auth-theme-auto,
.__next-auth-theme-light {
  --color-background: #ececec;
  --color-background-hover: rgba(236, 236, 236, 0.8);
  --color-background-card: #fff;
  --color-text: #000;
  --color-primary: #444;
  --color-control-border: #bbb;
  --color-button-active-background: #f9f9f9;
  --color-button-active-border: #aaa;
  --color-separator: #ccc;
}

.__next-auth-theme-dark {
  --color-background: #161b22;
  --color-background-hover: rgba(22, 27, 34, 0.8);
  --color-background-card: #0d1117;
  --color-text: #fff;
  --color-primary: #ccc;
  --color-control-border: #555;
  --color-button-active-background: #060606;
  --color-button-active-border: #666;
  --color-separator: #444;
}

@media (prefers-color-scheme: dark) {
  .__next-auth-theme-auto {
    --color-background: #161b22;
    --color-background-hover: rgba(22, 27, 34, 0.8);
    --color-background-card: #0d1117;
    --color-text: #fff;
    --color-primary: #ccc;
    --color-control-border: #555;
    --color-button-active-background: #060606;
    --color-button-active-border: #666;
    --color-separator: #444;
  }

  button,
  a.button {
    color: var(--provider-dark-color, var(--color-primary)) !important;
    background-color: var(
      --provider-dark-bg,
      var(--color-background)
    ) !important;
  }

    :is(button,a.button):hover {
      background-color: var(
        --provider-dark-bg-hover,
        var(--color-background-hover)
      ) !important;
    }

    :is(button,a.button) span {
      color: var(--provider-dark-bg) !important;
    }
}

html {
  box-sizing: border-box;
}

*,
*:before,
*:after {
  box-sizing: inherit;
  margin: 0;
  padding: 0;
}

body {
  background-color: var(--color-background);
  margin: 0;
  padding: 0;
  font-family:
    ui-sans-serif,
    system-ui,
    -apple-system,
    BlinkMacSystemFont,
    "Segoe UI",
    Roboto,
    "Helvetica Neue",
    Arial,
    "Noto Sans",
    sans-serif,
    "Apple Color Emoji",
    "Segoe UI Emoji",
    "Segoe UI Symbol",
    "Noto Color Emoji";
}

h1 {
  margin-bottom: 1.5rem;
  padding: 0 1rem;
  font-weight: 400;
  color: var(--color-text);
}

p {
  margin-bottom: 1.5rem;
  padding: 0 1rem;
  color: var(--color-text);
}

form {
  margin: 0;
  padding: 0;
}

label {
  font-weight: 500;
  text-align: left;
  margin-bottom: 0.25rem;
  display: block;
  color: var(--color-text);
}

input[type] {
  box-sizing: border-box;
  display: block;
  width: 100%;
  padding: 0.5rem 1rem;
  border: var(--border-width) solid var(--color-control-border);
  background: var(--color-background-card);
  font-size: 1rem;
  border-radius: var(--border-radius);
  color: var(--color-text);
}

p {
  font-size: 1.1rem;
  line-height: 2rem;
}

a.button {
  text-decoration: none;
  line-height: 1rem;
}

a.button:link,
  a.button:visited {
    background-color: var(--color-background);
    color: var(--color-primary);
  }

button,
a.button {
  padding: 0.75rem 1rem;
  color: var(--provider-color, var(--color-primary));
  background-color: var(--provider-bg, var(--color-background));
  border: 1px solid #00000031;
  font-size: 0.9rem;
  height: 50px;
  border-radius: var(--border-radius);
  transition: background-color 250ms ease-in-out;
  font-weight: 300;
  position: relative;
  display: flex;
  align-items: center;
  justify-content: space-between;
}

:is(button,a.button):hover {
    background-color: var(--provider-bg-hover, var(--color-background-hover));
    cursor: pointer;
  }

:is(button,a.button):active {
    cursor: pointer;
  }

:is(button,a.button) span {
    color: #fff;
  }

#submitButton {
  color: var(--button-text-color, var(--color-info-text));
  background-color: var(--brand-color, var(--color-info));
  width: 100%;
}

#submitButton:hover {
    background-color: var(
      --button-hover-bg,
      var(--color-info-hover)
    ) !important;
  }

a.site {
  color: var(--color-primary);
  text-decoration: none;
  font-size: 1rem;
  line-height: 2rem;
}

a.site:hover {
    text-decoration: underline;
  }

.page {
  position: absolute;
  width: 100%;
  height: 100%;
  display: grid;
  place-items: center;
  margin: 0;
  padding: 0;
  box-sizing: border-box;
}

.page > div {
    text-align: center;
  }

.error a.button {
    padding-left: 2rem;
    padding-right: 2rem;
    margin-top: 0.5rem;
  }

.error .message {
    margin-bottom: 1.5rem;
  }

.signin input[type="text"] {
    margin-left: auto;
    margin-right: auto;
    display: block;
  }

.signin hr {
    display: block;
    border: 0;
    border-top: 1px solid var(--color-separator);
    margin: 2rem auto 1rem auto;
    overflow: visible;
  }

.signin hr::before {
      content: "or";
      background: var(--color-background-card);
      color: #888;
      padding: 0 0.4rem;
      position: relative;
      top: -0.7rem;
    }

.signin .error {
    background: #f5f5f5;
    font-weight: 500;
    border-radius: 0.3rem;
    background: var(--color-error);
  }

.signin .error p {
      text-align: left;
      padding: 0.5rem 1rem;
      font-size: 0.9rem;
      line-height: 1.2rem;
      color: var(--color-info-text);
    }

.signin > div,
  .signin form {
    display: block;
  }

.signin > div input[type], .signin form input[type] {
      margin-bottom: 0.5rem;
    }

.signin > div button, .signin form button {
      width: 100%;
    }

.signin .provider + .provider {
    margin-top: 1rem;
  }

.logo {
  display: inline-block;
  max-width: 150px;
  margin: 1.25rem 0;
  max-height: 70px;
}

.card {
  background-color: var(--color-background-card);
  border-radius: 1rem;
  padding: 1.25rem 2rem;
}

.card .header {
    color: var(--color-primary);
  }

.card input[type]::-moz-placeholder {
    color: color-mix(
      in srgb,
      var(--color-text) 20%,
      var(--color-button-active-background)
    );
  }

.card input[type]::placeholder {
    color: color-mix(
      in srgb,
      var(--color-text) 20%,
      var(--color-button-active-background)
    );
  }

.card input[type] {
    background: color-mix(in srgb, var(--color-background-card) 95%, black);
  }

.section-header {
  color: var(--color-text);
}

@media screen and (min-width: 450px) {
  .card {
    margin: 2rem 0;
    width: 368px;
  }
}

@media screen and (max-width: 450px) {
  .card {
    margin: 1rem 0;
    width: 343px;
  }
}
`;function fc({html:a,title:b,status:c,cookies:d,theme:e,headTags:f}){return{cookies:d,status:c,headers:{"Content-Type":"text/html"},body:`<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><style>${fb}</style><title>${b}</title>${f??""}</head><body class="__next-auth-theme-${e?.colorScheme??"auto"}"><div class="page">${e4(a)}</div></body></html>`}}function fd(a){let{url:b,theme:c,query:d,cookies:e,pages:f,providers:g}=a;return{csrf:(a,b,c)=>a?(b.logger.warn("csrf-disabled"),c.push({name:b.cookies.csrfToken.name,value:"",options:{...b.cookies.csrfToken.options,maxAge:0}}),{status:404,cookies:c}):{headers:{"Content-Type":"application/json"},body:{csrfToken:b.csrfToken},cookies:c},providers:a=>({headers:{"Content-Type":"application/json"},body:a.reduce((a,{id:b,name:c,type:d,signinUrl:e,callbackUrl:f})=>(a[b]={id:b,name:c,type:d,signinUrl:e,callbackUrl:f},a),{})}),signin(b,h){if(b)throw new bL("Unsupported action");if(f?.signIn){let b=`${f.signIn}${f.signIn.includes("?")?"&":"?"}${new URLSearchParams({callbackUrl:a.callbackUrl??"/"})}`;return h&&(b=`${b}&${new URLSearchParams({error:h})}`),{redirect:b,cookies:e}}let i=g?.find(a=>"webauthn"===a.type&&a.enableConditionalUI&&!!a.simpleWebAuthnBrowserVersion),j="";if(i){let{simpleWebAuthnBrowserVersion:a}=i;j=`<script src="https://unpkg.com/@simplewebauthn/browser@${a}/dist/bundle/index.umd.min.js" crossorigin="anonymous"></script>`}return fc({cookies:e,theme:c,html:function(a){let{csrfToken:b,providers:c=[],callbackUrl:d,theme:e,email:f,error:g}=a;"undefined"!=typeof document&&e?.brandColor&&document.documentElement.style.setProperty("--brand-color",e.brandColor),"undefined"!=typeof document&&e?.buttonText&&document.documentElement.style.setProperty("--button-text-color",e.buttonText);let h=g&&(fa[g]??fa.default),i=c.find(a=>"webauthn"===a.type&&a.enableConditionalUI)?.id;return e8("div",{className:"signin",children:[e?.brandColor&&e8("style",{dangerouslySetInnerHTML:{__html:`:root {--brand-color: ${e.brandColor}}`}}),e?.buttonText&&e8("style",{dangerouslySetInnerHTML:{__html:`
        :root {
          --button-text-color: ${e.buttonText}
        }
      `}}),e8("div",{className:"card",children:[h&&e8("div",{className:"error",children:e8("p",{children:h})}),e?.logo&&e8("img",{src:e.logo,alt:"Logo",className:"logo"}),c.map((a,e)=>{let g,h,i;("oauth"===a.type||"oidc"===a.type)&&({bg:g="#fff",brandColor:h,logo:i=`https://authjs.dev/img/providers/${a.id}.svg`}=a.style??{});let j=h??g??"#fff";return e8("div",{className:"provider",children:["oauth"===a.type||"oidc"===a.type?e8("form",{action:a.signinUrl,method:"POST",children:[e8("input",{type:"hidden",name:"csrfToken",value:b}),d&&e8("input",{type:"hidden",name:"callbackUrl",value:d}),e8("button",{type:"submit",className:"button",style:{"--provider-bg":"#fff","--provider-bg-hover":`color-mix(in srgb, ${j} 30%, #fff)`,"--provider-dark-bg":"#161b22","--provider-dark-bg-hover":`color-mix(in srgb, ${j} 30%, #000)`},tabIndex:0,children:[e8("span",{style:{filter:"invert(1) grayscale(1) brightness(1.3) contrast(9000)","mix-blend-mode":"luminosity",opacity:.95},children:["Sign in with ",a.name]}),i&&e8("img",{loading:"lazy",height:24,src:i})]})]}):null,("email"===a.type||"credentials"===a.type||"webauthn"===a.type)&&e>0&&"email"!==c[e-1].type&&"credentials"!==c[e-1].type&&"webauthn"!==c[e-1].type&&e8("hr",{}),"email"===a.type&&e8("form",{action:a.signinUrl,method:"POST",children:[e8("input",{type:"hidden",name:"csrfToken",value:b}),e8("label",{className:"section-header",htmlFor:`input-email-for-${a.id}-provider`,children:"Email"}),e8("input",{id:`input-email-for-${a.id}-provider`,autoFocus:!0,type:"email",name:"email",value:f,placeholder:"email@example.com",required:!0}),e8("button",{id:"submitButton",type:"submit",tabIndex:0,children:["Sign in with ",a.name]})]}),"credentials"===a.type&&e8("form",{action:a.callbackUrl,method:"POST",children:[e8("input",{type:"hidden",name:"csrfToken",value:b}),Object.keys(a.credentials).map(b=>e8("div",{children:[e8("label",{className:"section-header",htmlFor:`input-${b}-for-${a.id}-provider`,children:a.credentials[b].label??b}),e8("input",{name:b,id:`input-${b}-for-${a.id}-provider`,type:a.credentials[b].type??"text",placeholder:a.credentials[b].placeholder??"",...a.credentials[b]})]},`input-group-${a.id}`)),e8("button",{id:"submitButton",type:"submit",tabIndex:0,children:["Sign in with ",a.name]})]}),"webauthn"===a.type&&e8("form",{action:a.callbackUrl,method:"POST",id:`${a.id}-form`,children:[e8("input",{type:"hidden",name:"csrfToken",value:b}),Object.keys(a.formFields).map(b=>e8("div",{children:[e8("label",{className:"section-header",htmlFor:`input-${b}-for-${a.id}-provider`,children:a.formFields[b].label??b}),e8("input",{name:b,"data-form-field":!0,id:`input-${b}-for-${a.id}-provider`,type:a.formFields[b].type??"text",placeholder:a.formFields[b].placeholder??"",...a.formFields[b]})]},`input-group-${a.id}`)),e8("button",{id:`submitButton-${a.id}`,type:"submit",tabIndex:0,children:["Sign in with ",a.name]})]}),("email"===a.type||"credentials"===a.type||"webauthn"===a.type)&&e+1<c.length&&e8("hr",{})]},a.id)})]}),i&&e8(eA,{children:e8("script",{dangerouslySetInnerHTML:{__html:`
const currentURL = window.location.href;
const authURL = currentURL.substring(0, currentURL.lastIndexOf('/'));
(${e9})(authURL, "${i}");
`}})})]})}({csrfToken:a.csrfToken,providers:a.providers?.filter(a=>["email","oauth","oidc"].includes(a.type)||"credentials"===a.type&&a.credentials||"webauthn"===a.type&&a.formFields||!1),callbackUrl:a.callbackUrl,theme:a.theme,error:h,...d}),title:"Sign In",headTags:j})},signout:()=>f?.signOut?{redirect:f.signOut,cookies:e}:fc({cookies:e,theme:c,html:function(a){let{url:b,csrfToken:c,theme:d}=a;return e8("div",{className:"signout",children:[d?.brandColor&&e8("style",{dangerouslySetInnerHTML:{__html:`
        :root {
          --brand-color: ${d.brandColor}
        }
      `}}),d?.buttonText&&e8("style",{dangerouslySetInnerHTML:{__html:`
        :root {
          --button-text-color: ${d.buttonText}
        }
      `}}),e8("div",{className:"card",children:[d?.logo&&e8("img",{src:d.logo,alt:"Logo",className:"logo"}),e8("h1",{children:"Signout"}),e8("p",{children:"Are you sure you want to sign out?"}),e8("form",{action:b?.toString(),method:"POST",children:[e8("input",{type:"hidden",name:"csrfToken",value:c}),e8("button",{id:"submitButton",type:"submit",children:"Sign out"})]})]})]})}({csrfToken:a.csrfToken,url:b,theme:c}),title:"Sign Out"}),verifyRequest:a=>f?.verifyRequest?{redirect:f.verifyRequest,cookies:e}:fc({cookies:e,theme:c,html:function(a){let{url:b,theme:c}=a;return e8("div",{className:"verify-request",children:[c.brandColor&&e8("style",{dangerouslySetInnerHTML:{__html:`
        :root {
          --brand-color: ${c.brandColor}
        }
      `}}),e8("div",{className:"card",children:[c.logo&&e8("img",{src:c.logo,alt:"Logo",className:"logo"}),e8("h1",{children:"Check your email"}),e8("p",{children:"A sign in link has been sent to your email address."}),e8("p",{children:e8("a",{className:"site",href:b.origin,children:b.host})})]})]})}({url:b,theme:c,...a}),title:"Verify Request"}),error:a=>f?.error?{redirect:`${f.error}${f.error.includes("?")?"&":"?"}error=${a}`,cookies:e}:fc({cookies:e,theme:c,...function(a){let{url:b,error:c="default",theme:d}=a,e=`${b}/signin`,f={default:{status:200,heading:"Error",message:e8("p",{children:e8("a",{className:"site",href:b?.origin,children:b?.host})})},Configuration:{status:500,heading:"Server error",message:e8("div",{children:[e8("p",{children:"There is a problem with the server configuration."}),e8("p",{children:"Check the server logs for more information."})]})},AccessDenied:{status:403,heading:"Access Denied",message:e8("div",{children:[e8("p",{children:"You do not have permission to sign in."}),e8("p",{children:e8("a",{className:"button",href:e,children:"Sign in"})})]})},Verification:{status:403,heading:"Unable to sign in",message:e8("div",{children:[e8("p",{children:"The sign in link is no longer valid."}),e8("p",{children:"It may have been used already or it may have expired."})]}),signin:e8("a",{className:"button",href:e,children:"Sign in"})}},{status:g,heading:h,message:i,signin:j}=f[c]??f.default;return{status:g,html:e8("div",{className:"error",children:[d?.brandColor&&e8("style",{dangerouslySetInnerHTML:{__html:`
        :root {
          --brand-color: ${d?.brandColor}
        }
      `}}),e8("div",{className:"card",children:[d?.logo&&e8("img",{src:d?.logo,alt:"Logo",className:"logo"}),e8("h1",{children:h}),e8("div",{className:"message",children:i}),j]})]})}}({url:b,theme:c,error:a}),title:"Error"})}}function fe(a,b=Date.now()){return new Date(b+1e3*a)}async function ff(a,b,c,d){if(!c?.providerAccountId||!c.type)throw Error("Missing or invalid provider account");if(!["email","oauth","oidc","webauthn"].includes(c.type))throw Error("Provider not supported");let{adapter:e,jwt:f,events:g,session:{strategy:h,generateSessionToken:i}}=d;if(!e)return{user:b,account:c};let j=c,{createUser:k,updateUser:l,getUser:m,getUserByAccount:n,getUserByEmail:o,linkAccount:p,createSession:q,getSessionAndUser:r,deleteSession:s}=e,t=null,u=null,v=!1,w="jwt"===h;if(a)if(w)try{let b=d.cookies.sessionToken.name;(t=await f.decode({...f,token:a,salt:b}))&&"sub"in t&&t.sub&&(u=await m(t.sub))}catch{}else{let b=await r(a);b&&(t=b.session,u=b.user)}if("email"===j.type){let c=await o(b.email);return c?(u?.id!==c.id&&!w&&a&&await s(a),u=await l({id:c.id,emailVerified:new Date}),await g.updateUser?.({user:u})):(u=await k({...b,emailVerified:new Date}),await g.createUser?.({user:u}),v=!0),{session:t=w?{}:await q({sessionToken:i(),userId:u.id,expires:fe(d.session.maxAge)}),user:u,isNewUser:v}}if("webauthn"===j.type){let a=await n({providerAccountId:j.providerAccountId,provider:j.provider});if(a){if(u){if(a.id===u.id){let a={...j,userId:u.id};return{session:t,user:u,isNewUser:v,account:a}}throw new bV("The account is already associated with another user",{provider:j.provider})}t=w?{}:await q({sessionToken:i(),userId:a.id,expires:fe(d.session.maxAge)});let b={...j,userId:a.id};return{session:t,user:a,isNewUser:v,account:b}}{if(u){await p({...j,userId:u.id}),await g.linkAccount?.({user:u,account:j,profile:b});let a={...j,userId:u.id};return{session:t,user:u,isNewUser:v,account:a}}if(b.email?await o(b.email):null)throw new bV("Another account already exists with the same e-mail address",{provider:j.provider});u=await k({...b}),await g.createUser?.({user:u}),await p({...j,userId:u.id}),await g.linkAccount?.({user:u,account:j,profile:b}),t=w?{}:await q({sessionToken:i(),userId:u.id,expires:fe(d.session.maxAge)});let a={...j,userId:u.id};return{session:t,user:u,isNewUser:!0,account:a}}}let x=await n({providerAccountId:j.providerAccountId,provider:j.provider});if(x){if(u){if(x.id===u.id)return{session:t,user:u,isNewUser:v};throw new bE("The account is already associated with another user",{provider:j.provider})}return{session:t=w?{}:await q({sessionToken:i(),userId:x.id,expires:fe(d.session.maxAge)}),user:x,isNewUser:v}}{let{provider:a}=d,{type:c,provider:e,providerAccountId:f,userId:h,...l}=j;if(j=Object.assign(a.account(l)??{},{providerAccountId:f,provider:e,type:c,userId:h}),u)return await p({...j,userId:u.id}),await g.linkAccount?.({user:u,account:j,profile:b}),{session:t,user:u,isNewUser:v};let m=b.email?await o(b.email):null;if(m){let a=d.provider;if(a?.allowDangerousEmailAccountLinking)u=m,v=!1;else throw new bE("Another account already exists with the same e-mail address",{provider:j.provider})}else u=await k({...b,emailVerified:null}),v=!0;return await g.createUser?.({user:u}),await p({...j,userId:u.id}),await g.linkAccount?.({user:u,account:j,profile:b}),{session:t=w?{}:await q({sessionToken:i(),userId:u.id,expires:fe(d.session.maxAge)}),user:u,isNewUser:v}}}function fg(a,b){if(null==a)return!1;try{return a instanceof b||Object.getPrototypeOf(a)[Symbol.toStringTag]===b.prototype[Symbol.toStringTag]}catch{return!1}}"undefined"!=typeof navigator&&navigator.userAgent?.startsWith?.("Mozilla/5.0 ")||(g="oauth4webapi/v3.8.2");let fh="ERR_INVALID_ARG_VALUE",fi="ERR_INVALID_ARG_TYPE";function fj(a,b,c){let d=TypeError(a,{cause:c});return Object.assign(d,{code:b}),d}let fk=Symbol(),fl=Symbol(),fm=Symbol(),fn=Symbol(),fo=Symbol(),fp=Symbol();Symbol();let fq=new TextEncoder,fr=new TextDecoder;function fs(a){return"string"==typeof a?fq.encode(a):fr.decode(a)}function ft(a){return"string"==typeof a?i(a):h(a)}h=Uint8Array.prototype.toBase64?a=>(a instanceof ArrayBuffer&&(a=new Uint8Array(a)),a.toBase64({alphabet:"base64url",omitPadding:!0})):a=>{a instanceof ArrayBuffer&&(a=new Uint8Array(a));let b=[];for(let c=0;c<a.byteLength;c+=32768)b.push(String.fromCharCode.apply(null,a.subarray(c,c+32768)));return btoa(b.join("")).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")},i=Uint8Array.fromBase64?a=>{try{return Uint8Array.fromBase64(a,{alphabet:"base64url"})}catch(a){throw fj("The input to be decoded is not correctly encoded.",fh,a)}}:a=>{try{let b=atob(a.replace(/-/g,"+").replace(/_/g,"/").replace(/\s/g,"")),c=new Uint8Array(b.length);for(let a=0;a<b.length;a++)c[a]=b.charCodeAt(a);return c}catch(a){throw fj("The input to be decoded is not correctly encoded.",fh,a)}};class fu extends Error{code;constructor(a,b){super(a,b),this.name=this.constructor.name,this.code=gv,Error.captureStackTrace?.(this,this.constructor)}}class fv extends Error{code;constructor(a,b){super(a,b),this.name=this.constructor.name,b?.code&&(this.code=b?.code),Error.captureStackTrace?.(this,this.constructor)}}function fw(a,b,c){return new fv(a,{code:b,cause:c})}function fx(a){return!(null===a||"object"!=typeof a||Array.isArray(a))}function fy(a){fg(a,Headers)&&(a=Object.fromEntries(a.entries()));let b=new Headers(a??{});if(g&&!b.has("user-agent")&&b.set("user-agent",g),b.has("authorization"))throw fj('"options.headers" must not include the "authorization" header name',fh);return b}function fz(a,b){if(void 0!==b){if("function"==typeof b&&(b=b(a.href)),!(b instanceof AbortSignal))throw fj('"options.signal" must return or be an instance of AbortSignal',fi);return b}}function fA(a){return a.includes("//")?a.replace("//","/"):a}async function fB(a,b,c,d){if(!(a instanceof URL))throw fj(`"${b}" must be an instance of URL`,fi);fR(a,d?.[fk]!==!0);let e=c(new URL(a.href)),f=fy(d?.headers);return f.set("accept","application/json"),(d?.[fn]||fetch)(e.href,{body:void 0,headers:Object.fromEntries(f.entries()),method:"GET",redirect:"manual",signal:fz(e,d?.signal)})}async function fC(a,b){return fB(a,"issuerIdentifier",a=>{switch(b?.algorithm){case void 0:case"oidc":a.pathname=fA(`${a.pathname}/.well-known/openid-configuration`);break;case"oauth2":!function(a,b,c=!1){"/"===a.pathname?a.pathname=b:a.pathname=fA(`${b}/${c?a.pathname:a.pathname.replace(/(\/)$/,"")}`)}(a,".well-known/oauth-authorization-server");break;default:throw fj('"options.algorithm" must be "oidc" (default), or "oauth2"',fh)}return a},b)}function fD(a,b,c,d,e){try{if("number"!=typeof a||!Number.isFinite(a))throw fj(`${c} must be a number`,fi,e);if(a>0)return;if(b){if(0!==a)throw fj(`${c} must be a non-negative number`,fh,e);return}throw fj(`${c} must be a positive number`,fh,e)}catch(a){if(d)throw fw(a.message,d,e);throw a}}function fE(a,b,c,d){try{if("string"!=typeof a)throw fj(`${b} must be a string`,fi,d);if(0===a.length)throw fj(`${b} must not be empty`,fh,d)}catch(a){if(c)throw fw(a.message,c,d);throw a}}async function fF(a,b){if(!(a instanceof URL)&&a!==gR)throw fj('"expectedIssuerIdentifier" must be an instance of URL',fi);if(!fg(b,Response))throw fj('"response" must be an instance of Response',fi);if(200!==b.status)throw fw('"response" is not a conform Authorization Server Metadata response (unexpected HTTP status code)',gB,b);gJ(b);let c=await gQ(b);if(fE(c.issuer,'"response" body "issuer" property',gz,{body:c}),a!==gR&&new URL(c.issuer).href!==a.href)throw fw('"response" body "issuer" property does not match the expected value',gG,{expected:a.href,body:c,attribute:"issuer"});return c}function fG(a){var b=a,c="application/json";if(f6(b)!==c)throw function(a,...b){let c='"response" content-type must be ';if(b.length>2){let a=b.pop();c+=`${b.join(", ")}, or ${a}`}else 2===b.length?c+=`${b[0]} or ${b[1]}`:c+=b[0];return fw(c,gA,a)}(b,c)}function fH(){return ft(crypto.getRandomValues(new Uint8Array(32)))}async function fI(a){return fE(a,"codeVerifier"),ft(await crypto.subtle.digest("SHA-256",fs(a)))}function fJ(a){let b=a?.[fl];return"number"==typeof b&&Number.isFinite(b)?b:0}function fK(a){let b=a?.[fm];return"number"==typeof b&&Number.isFinite(b)&&-1!==Math.sign(b)?b:30}function fL(){return Math.floor(Date.now()/1e3)}function fM(a){if("object"!=typeof a||null===a)throw fj('"as" must be an object',fi);fE(a.issuer,'"as.issuer"')}function fN(a){if("object"!=typeof a||null===a)throw fj('"client" must be an object',fi);fE(a.client_id,'"client.client_id"')}function fO(a,b){let c=fL()+fJ(b);return{jti:fH(),aud:a.issuer,exp:c+60,iat:c,nbf:c,iss:b.client_id,sub:b.client_id}}async function fP(a,b,c){if(!c.usages.includes("sign"))throw fj('CryptoKey instances used for signing assertions must include "sign" in their "usages"',fh);let d=`${ft(fs(JSON.stringify(a)))}.${ft(fs(JSON.stringify(b)))}`,e=ft(await crypto.subtle.sign(function(a){switch(a.algorithm.name){case"ECDSA":return{name:a.algorithm.name,hash:function(a){let{algorithm:b}=a;switch(b.namedCurve){case"P-256":return"SHA-256";case"P-384":return"SHA-384";case"P-521":return"SHA-512";default:throw new fu("unsupported ECDSA namedCurve",{cause:a})}}(a)};case"RSA-PSS":switch(gK(a),a.algorithm.hash.name){case"SHA-256":case"SHA-384":case"SHA-512":return{name:a.algorithm.name,saltLength:parseInt(a.algorithm.hash.name.slice(-3),10)>>3};default:throw new fu("unsupported RSA-PSS hash name",{cause:a})}case"RSASSA-PKCS1-v1_5":return gK(a),a.algorithm.name;case"ML-DSA-44":case"ML-DSA-65":case"ML-DSA-87":case"Ed25519":return a.algorithm.name}throw new fu("unsupported CryptoKey algorithm name",{cause:a})}(c),c,fs(d)));return`${d}.${e}`}let fQ=URL.parse?(a,b)=>URL.parse(a,b):(a,b)=>{try{return new URL(a,b)}catch{return null}};function fR(a,b){if(b&&"https:"!==a.protocol)throw fw("only requests to HTTPS are allowed",gC,a);if("https:"!==a.protocol&&"http:"!==a.protocol)throw fw("only HTTP and HTTPS requests are allowed",gD,a)}function fS(a,b,c,d){let e;if("string"!=typeof a||!(e=fQ(a)))throw fw(`authorization server metadata does not contain a valid ${c?`"as.mtls_endpoint_aliases.${b}"`:`"as.${b}"`}`,void 0===a?gH:gI,{attribute:c?`mtls_endpoint_aliases.${b}`:b});return fR(e,d),e}function fT(a,b,c,d){return c&&a.mtls_endpoint_aliases&&b in a.mtls_endpoint_aliases?fS(a.mtls_endpoint_aliases[b],b,c,d):fS(a[b],b,c,d)}class fU extends Error{cause;code;error;status;error_description;response;constructor(a,b){super(a,b),this.name=this.constructor.name,this.code=gu,this.cause=b.cause,this.error=b.cause.error,this.status=b.response.status,this.error_description=b.cause.error_description,Object.defineProperty(this,"response",{enumerable:!1,value:b.response}),Error.captureStackTrace?.(this,this.constructor)}}class fV extends Error{cause;code;error;error_description;constructor(a,b){super(a,b),this.name=this.constructor.name,this.code=gw,this.cause=b.cause,this.error=b.cause.get("error"),this.error_description=b.cause.get("error_description")??void 0,Error.captureStackTrace?.(this,this.constructor)}}class fW extends Error{cause;code;response;status;constructor(a,b){super(a,b),this.name=this.constructor.name,this.code=gt,this.cause=b.cause,this.status=b.response.status,this.response=b.response,Object.defineProperty(this,"response",{enumerable:!1}),Error.captureStackTrace?.(this,this.constructor)}}let fX="[a-zA-Z0-9!#$%&\\'\\*\\+\\-\\.\\^_`\\|~]+",fY=RegExp("^[,\\s]*("+fX+")\\s(.*)"),fZ=RegExp("^[,\\s]*("+fX+')\\s*=\\s*"((?:[^"\\\\]|\\\\.)*)"[,\\s]*(.*)'),f$=RegExp("^[,\\s]*"+("("+fX+")\\s*=\\s*(")+fX+")[,\\s]*(.*)"),f_=RegExp("^([a-zA-Z0-9\\-\\._\\~\\+\\/]+[=]{0,2})(?:$|[,\\s])(.*)");async function f0(a){if(a.status>399&&a.status<500){gJ(a),fG(a);try{let b=await a.clone().json();if(fx(b)&&"string"==typeof b.error&&b.error.length)return b}catch{}}}async function f1(a,b,c){if(a.status!==b){let b;if(ge(a),b=await f0(a))throw await a.body?.cancel(),new fU("server responded with an error in the response body",{cause:b,response:a});throw fw(`"response" is not a conform ${c} response (unexpected HTTP status code)`,gB,a)}}function f2(a){if(!gj.has(a))throw fj('"options.DPoP" is not a valid DPoPHandle',fh)}async function f3(a,b,c,d,e,f){if(fE(a,'"accessToken"'),!(c instanceof URL))throw fj('"url" must be an instance of URL',fi);fR(c,f?.[fk]!==!0),d=fy(d),f?.DPoP&&(f2(f.DPoP),await f.DPoP.addProof(c,d,b.toUpperCase(),a)),d.set("authorization",`${d.has("dpop")?"DPoP":"Bearer"} ${a}`);let g=await (f?.[fn]||fetch)(c.href,{body:e,headers:Object.fromEntries(d.entries()),method:b,redirect:"manual",signal:fz(c,f?.signal)});return f?.DPoP?.cacheNonce(g,c),g}async function f4(a,b,c,d){fM(a),fN(b);let e=fT(a,"userinfo_endpoint",b.use_mtls_endpoint_aliases,d?.[fk]!==!0),f=fy(d?.headers);return b.userinfo_signed_response_alg?f.set("accept","application/jwt"):(f.set("accept","application/json"),f.append("accept","application/jwt")),f3(c,"GET",e,f,null,{...d,[fl]:fJ(b)})}let f5=Symbol();function f6(a){return a.headers.get("content-type")?.split(";")[0]}async function f7(a,b,c,d,e){let f;if(fM(a),fN(b),!fg(d,Response))throw fj('"response" must be an instance of Response',fi);if(ge(d),200!==d.status)throw fw('"response" is not a conform UserInfo Endpoint response (unexpected HTTP status code)',gB,d);if(gJ(d),"application/jwt"===f6(d)){let{claims:c,jwt:g}=await gL(await d.text(),gM.bind(void 0,b.userinfo_signed_response_alg,a.userinfo_signing_alg_values_supported,void 0),fJ(b),fK(b),e?.[fp]).then(gf.bind(void 0,b.client_id)).then(gh.bind(void 0,a));gb.set(d,g),f=c}else{if(b.userinfo_signed_response_alg)throw fw("JWT UserInfo Response expected",gx,d);f=await gQ(d)}if(fE(f.sub,'"response" body "sub" property',gz,{body:f}),c===f5);else if(fE(c,'"expectedSubject"'),f.sub!==c)throw fw('unexpected "response" body "sub" property value',gG,{expected:c,body:f,attribute:"sub"});return f}async function f8(a,b,c,d,e,f,g){return await c(a,b,e,f),f.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"),(g?.[fn]||fetch)(d.href,{body:e,headers:Object.fromEntries(f.entries()),method:"POST",redirect:"manual",signal:fz(d,g?.signal)})}async function f9(a,b,c,d,e,f){let g=fT(a,"token_endpoint",b.use_mtls_endpoint_aliases,f?.[fk]!==!0);e.set("grant_type",d);let h=fy(f?.headers);h.set("accept","application/json"),f?.DPoP!==void 0&&(f2(f.DPoP),await f.DPoP.addProof(g,h,"POST"));let i=await f8(a,b,c,g,e,h,f);return f?.DPoP?.cacheNonce(i,g),i}let ga=new WeakMap,gb=new WeakMap;function gc(a){if(!a.id_token)return;let b=ga.get(a);if(!b)throw fj('"ref" was already garbage collected or did not resolve from the proper sources',fh);return b}async function gd(a,b,c,d,e,f){if(fM(a),fN(b),!fg(c,Response))throw fj('"response" must be an instance of Response',fi);await f1(c,200,"Token Endpoint"),gJ(c);let g=await gQ(c);if(fE(g.access_token,'"response" body "access_token" property',gz,{body:g}),fE(g.token_type,'"response" body "token_type" property',gz,{body:g}),g.token_type=g.token_type.toLowerCase(),void 0!==g.expires_in){let a="number"!=typeof g.expires_in?parseFloat(g.expires_in):g.expires_in;fD(a,!0,'"response" body "expires_in" property',gz,{body:g}),g.expires_in=a}if(void 0!==g.refresh_token&&fE(g.refresh_token,'"response" body "refresh_token" property',gz,{body:g}),void 0!==g.scope&&"string"!=typeof g.scope)throw fw('"response" body "scope" property must be a string',gz,{body:g});if(void 0!==g.id_token){fE(g.id_token,'"response" body "id_token" property',gz,{body:g});let f=["aud","exp","iat","iss","sub"];!0===b.require_auth_time&&f.push("auth_time"),void 0!==b.default_max_age&&(fD(b.default_max_age,!0,'"client.default_max_age"'),f.push("auth_time")),d?.length&&f.push(...d);let{claims:h,jwt:i}=await gL(g.id_token,gM.bind(void 0,b.id_token_signed_response_alg,a.id_token_signing_alg_values_supported,"RS256"),fJ(b),fK(b),e).then(gn.bind(void 0,f)).then(gi.bind(void 0,a)).then(gg.bind(void 0,b.client_id));if(Array.isArray(h.aud)&&1!==h.aud.length){if(void 0===h.azp)throw fw('ID Token "aud" (audience) claim includes additional untrusted audiences',gF,{claims:h,claim:"aud"});if(h.azp!==b.client_id)throw fw('unexpected ID Token "azp" (authorized party) claim value',gF,{expected:b.client_id,claims:h,claim:"azp"})}void 0!==h.auth_time&&fD(h.auth_time,!0,'ID Token "auth_time" (authentication time)',gz,{claims:h}),gb.set(c,i),ga.set(g,h)}if(f?.[g.token_type]!==void 0)f[g.token_type](c,g);else if("dpop"!==g.token_type&&"bearer"!==g.token_type)throw new fu("unsupported `token_type` value",{cause:{body:g}});return g}function ge(a){let b;if(b=function(a){if(!fg(a,Response))throw fj('"response" must be an instance of Response',fi);let b=a.headers.get("www-authenticate");if(null===b)return;let c=[],d=b;for(;d;){let a,b=d.match(fY),e=b?.["1"].toLowerCase();if(d=b?.["2"],!e)return;let f={};for(;d;){let c,e;if(b=d.match(fZ)){if([,c,e,d]=b,e.includes("\\"))try{e=JSON.parse(`"${e}"`)}catch{}f[c.toLowerCase()]=e;continue}if(b=d.match(f$)){[,c,e,d]=b,f[c.toLowerCase()]=e;continue}if(b=d.match(f_)){if(Object.keys(f).length)break;[,a,d]=b;break}return}let g={scheme:e,parameters:f};a&&(g.token68=a),c.push(g)}if(c.length)return c}(a))throw new fW("server responded with a challenge in the WWW-Authenticate HTTP Header",{cause:b,response:a})}function gf(a,b){return void 0!==b.claims.aud?gg(a,b):b}function gg(a,b){if(Array.isArray(b.claims.aud)){if(!b.claims.aud.includes(a))throw fw('unexpected JWT "aud" (audience) claim value',gF,{expected:a,claims:b.claims,claim:"aud"})}else if(b.claims.aud!==a)throw fw('unexpected JWT "aud" (audience) claim value',gF,{expected:a,claims:b.claims,claim:"aud"});return b}function gh(a,b){return void 0!==b.claims.iss?gi(a,b):b}function gi(a,b){let c=a[gS]?.(b)??a.issuer;if(b.claims.iss!==c)throw fw('unexpected JWT "iss" (issuer) claim value',gF,{expected:c,claims:b.claims,claim:"iss"});return b}let gj=new WeakSet,gk=Symbol();async function gl(a,b,c,d,e,f,g){if(fM(a),fN(b),!gj.has(d))throw fj('"callbackParameters" must be an instance of URLSearchParams obtained from "validateAuthResponse()", or "validateJwtAuthResponse()',fh);fE(e,'"redirectUri"');let h=gN(d,"code");if(!h)throw fw('no authorization code in "callbackParameters"',gz);let i=new URLSearchParams(g?.additionalParameters);return i.set("redirect_uri",e),i.set("code",h),f!==gk&&(fE(f,'"codeVerifier"'),i.set("code_verifier",f)),f9(a,b,c,"authorization_code",i,g)}let gm={aud:"audience",c_hash:"code hash",client_id:"client id",exp:"expiration time",iat:"issued at",iss:"issuer",jti:"jwt id",nonce:"nonce",s_hash:"state hash",sub:"subject",ath:"access token hash",htm:"http method",htu:"http uri",cnf:"confirmation",auth_time:"authentication time"};function gn(a,b){for(let c of a)if(void 0===b.claims[c])throw fw(`JWT "${c}" (${gm[c]}) claim missing`,gz,{claims:b.claims});return b}let go=Symbol(),gp=Symbol();async function gq(a,b,c,d){return"string"==typeof d?.expectedNonce||"number"==typeof d?.maxAge||d?.requireIdToken?gr(a,b,c,d.expectedNonce,d.maxAge,d[fp],d.recognizedTokenTypes):gs(a,b,c,d?.[fp],d?.recognizedTokenTypes)}async function gr(a,b,c,d,e,f,g){let h=[];switch(d){case void 0:d=go;break;case go:break;default:fE(d,'"expectedNonce" argument'),h.push("nonce")}switch(e??=b.default_max_age){case void 0:e=gp;break;case gp:break;default:fD(e,!0,'"maxAge" argument'),h.push("auth_time")}let i=await gd(a,b,c,h,f,g);fE(i.id_token,'"response" body "id_token" property',gz,{body:i});let j=gc(i);if(e!==gp){let a=fL()+fJ(b),c=fK(b);if(j.auth_time+e<a-c)throw fw("too much time has elapsed since the last End-User authentication",gE,{claims:j,now:a,tolerance:c,claim:"auth_time"})}if(d===go){if(void 0!==j.nonce)throw fw('unexpected ID Token "nonce" claim value',gF,{expected:void 0,claims:j,claim:"nonce"})}else if(j.nonce!==d)throw fw('unexpected ID Token "nonce" claim value',gF,{expected:d,claims:j,claim:"nonce"});return i}async function gs(a,b,c,d,e){let f=await gd(a,b,c,void 0,d,e),g=gc(f);if(g){if(void 0!==b.default_max_age){fD(b.default_max_age,!0,'"client.default_max_age"');let a=fL()+fJ(b),c=fK(b);if(g.auth_time+b.default_max_age<a-c)throw fw("too much time has elapsed since the last End-User authentication",gE,{claims:g,now:a,tolerance:c,claim:"auth_time"})}if(void 0!==g.nonce)throw fw('unexpected ID Token "nonce" claim value',gF,{expected:void 0,claims:g,claim:"nonce"})}return f}let gt="OAUTH_WWW_AUTHENTICATE_CHALLENGE",gu="OAUTH_RESPONSE_BODY_ERROR",gv="OAUTH_UNSUPPORTED_OPERATION",gw="OAUTH_AUTHORIZATION_RESPONSE_ERROR",gx="OAUTH_JWT_USERINFO_EXPECTED",gy="OAUTH_PARSE_ERROR",gz="OAUTH_INVALID_RESPONSE",gA="OAUTH_RESPONSE_IS_NOT_JSON",gB="OAUTH_RESPONSE_IS_NOT_CONFORM",gC="OAUTH_HTTP_REQUEST_FORBIDDEN",gD="OAUTH_REQUEST_PROTOCOL_FORBIDDEN",gE="OAUTH_JWT_TIMESTAMP_CHECK_FAILED",gF="OAUTH_JWT_CLAIM_COMPARISON_FAILED",gG="OAUTH_JSON_ATTRIBUTE_COMPARISON_FAILED",gH="OAUTH_MISSING_SERVER_METADATA",gI="OAUTH_INVALID_SERVER_METADATA";function gJ(a){if(a.bodyUsed)throw fj('"response" body has been used already',fh)}function gK(a){let{algorithm:b}=a;if("number"!=typeof b.modulusLength||b.modulusLength<2048)throw new fu(`unsupported ${b.name} modulusLength`,{cause:a})}async function gL(a,b,c,d,e){let f,g,{0:h,1:i,length:j}=a.split(".");if(5===j)if(void 0!==e)a=await e(a),{0:h,1:i,length:j}=a.split(".");else throw new fu("JWE decryption is not configured",{cause:a});if(3!==j)throw fw("Invalid JWT",gz,a);try{f=JSON.parse(fs(ft(h)))}catch(a){throw fw("failed to parse JWT Header body as base64url encoded JSON",gy,a)}if(!fx(f))throw fw("JWT Header must be a top level object",gz,a);if(b(f),void 0!==f.crit)throw new fu('no JWT "crit" header parameter extensions are supported',{cause:{header:f}});try{g=JSON.parse(fs(ft(i)))}catch(a){throw fw("failed to parse JWT Payload body as base64url encoded JSON",gy,a)}if(!fx(g))throw fw("JWT Payload must be a top level object",gz,a);let k=fL()+c;if(void 0!==g.exp){if("number"!=typeof g.exp)throw fw('unexpected JWT "exp" (expiration time) claim type',gz,{claims:g});if(g.exp<=k-d)throw fw('unexpected JWT "exp" (expiration time) claim value, expiration is past current timestamp',gE,{claims:g,now:k,tolerance:d,claim:"exp"})}if(void 0!==g.iat&&"number"!=typeof g.iat)throw fw('unexpected JWT "iat" (issued at) claim type',gz,{claims:g});if(void 0!==g.iss&&"string"!=typeof g.iss)throw fw('unexpected JWT "iss" (issuer) claim type',gz,{claims:g});if(void 0!==g.nbf){if("number"!=typeof g.nbf)throw fw('unexpected JWT "nbf" (not before) claim type',gz,{claims:g});if(g.nbf>k+d)throw fw('unexpected JWT "nbf" (not before) claim value',gE,{claims:g,now:k,tolerance:d,claim:"nbf"})}if(void 0!==g.aud&&"string"!=typeof g.aud&&!Array.isArray(g.aud))throw fw('unexpected JWT "aud" (audience) claim type',gz,{claims:g});return{header:f,claims:g,jwt:a}}function gM(a,b,c,d){if(void 0!==a){if("string"==typeof a?d.alg!==a:!a.includes(d.alg))throw fw('unexpected JWT "alg" header parameter',gz,{header:d,expected:a,reason:"client configuration"});return}if(Array.isArray(b)){if(!b.includes(d.alg))throw fw('unexpected JWT "alg" header parameter',gz,{header:d,expected:b,reason:"authorization server metadata"});return}if(void 0!==c){if("string"==typeof c?d.alg!==c:"function"==typeof c?!c(d.alg):!c.includes(d.alg))throw fw('unexpected JWT "alg" header parameter',gz,{header:d,expected:c,reason:"default value"});return}throw fw('missing client or server configuration to verify used JWT "alg" header parameter',void 0,{client:a,issuer:b,fallback:c})}function gN(a,b){let{0:c,length:d}=a.getAll(b);if(d>1)throw fw(`"${b}" parameter must be provided only once`,gz);return c}let gO=Symbol(),gP=Symbol();async function gQ(a,b=fG){let c;try{c=await a.json()}catch(c){throw b(a),fw('failed to parse "response" body as JSON',gy,c)}if(!fx(c))throw fw('"response" body must be a top level object',gz,{body:c});return c}let gR=Symbol(),gS=Symbol();async function gT(a,b,c){let{cookies:d,logger:e}=c,f=d[a],g=new Date;g.setTime(g.getTime()+9e5),e.debug(`CREATE_${a.toUpperCase()}`,{name:f.name,payload:b,COOKIE_TTL:900,expires:g});let h=await dH({...c.jwt,maxAge:900,token:{value:b},salt:f.name}),i={...f.options,expires:g};return{name:f.name,value:h,options:i}}async function gU(a,b,c){try{let{logger:d,cookies:e,jwt:f}=c;if(d.debug(`PARSE_${a.toUpperCase()}`,{cookie:b}),!b)throw new by(`${a} cookie was missing`);let g=await dI({...f,token:b,salt:e[a].name});if(g?.value)return g.value;throw Error("Invalid cookie")}catch(b){throw new by(`${a} value could not be parsed`,{cause:b})}}function gV(a,b,c){let{logger:d,cookies:e}=b,f=e[a];d.debug(`CLEAR_${a.toUpperCase()}`,{cookie:f}),c.push({name:f.name,value:"",options:{...e[a].options,maxAge:0}})}function gW(a,b){return async function(c,d,e){let{provider:f,logger:g}=e;if(!f?.checks?.includes(a))return;let h=c?.[e.cookies[b].name];g.debug(`USE_${b.toUpperCase()}`,{value:h});let i=await gU(b,h,e);return gV(b,e,d),i}}let gX={async create(a){let b=fH(),c=await fI(b);return{cookie:await gT("pkceCodeVerifier",b,a),value:c}},use:gW("pkce","pkceCodeVerifier")},gY="encodedState",gZ={async create(a,b){let{provider:c}=a;if(!c.checks.includes("state")){if(b)throw new by("State data was provided but the provider is not configured to use state");return}let d={origin:b,random:fH()},e=await dH({secret:a.jwt.secret,token:d,salt:gY,maxAge:900});return{cookie:await gT("state",e,a),value:e}},use:gW("state","state"),async decode(a,b){try{b.logger.debug("DECODE_STATE",{state:a});let c=await dI({secret:b.jwt.secret,token:a,salt:gY});if(c)return c;throw Error("Invalid state")}catch(a){throw new by("State could not be decoded",{cause:a})}}},g$={async create(a){if(!a.provider.checks.includes("nonce"))return;let b=fH();return{cookie:await gT("nonce",b,a),value:b}},use:gW("nonce","nonce")},g_="encodedWebauthnChallenge",g0={create:async(a,b,c)=>({cookie:await gT("webauthnChallenge",await dH({secret:a.jwt.secret,token:{challenge:b,registerData:c},salt:g_,maxAge:900}),a)}),async use(a,b,c){let d=b?.[a.cookies.webauthnChallenge.name],e=await gU("webauthnChallenge",d,a),f=await dI({secret:a.jwt.secret,token:e,salt:g_});if(gV("webauthnChallenge",a,c),!f)throw new by("WebAuthn challenge was missing");return f}};function g1(a){return encodeURIComponent(a).replace(/%20/g,"+")}async function g2(a,b,c){var d,e;let f,g,h,i,j,{logger:k,provider:l}=c,{token:m,userinfo:n}=l;if(m?.url&&"authjs.dev"!==m.url.host||n?.url&&"authjs.dev"!==n.url.host)f={issuer:l.issuer??"https://authjs.dev",token_endpoint:m?.url.toString(),userinfo_endpoint:n?.url.toString()};else{let a=new URL(l.issuer),b=await fC(a,{[fk]:!0,[fn]:l[d_]});if(!(f=await fF(a,b)).token_endpoint)throw TypeError("TODO: Authorization server did not provide a token endpoint.");if(!f.userinfo_endpoint)throw TypeError("TODO: Authorization server did not provide a userinfo endpoint.")}let o={client_id:l.clientId,...l.client};switch(o.token_endpoint_auth_method){case void 0:case"client_secret_basic":g=(a,b,c,d)=>{var e,f;let g,h,i;d.set("authorization",(e=l.clientId,f=l.clientSecret,g=g1(e),h=g1(f),i=btoa(`${g}:${h}`),`Basic ${i}`))};break;case"client_secret_post":fE(d=l.clientSecret,'"clientSecret"'),g=(a,b,c,e)=>{c.set("client_id",b.client_id),c.set("client_secret",d)};break;case"client_secret_jwt":fE(e=l.clientSecret,'"clientSecret"'),j=void 0,g=async(a,b,c,d)=>{i||=await crypto.subtle.importKey("raw",fs(e),{hash:"SHA-256",name:"HMAC"},!1,["sign"]);let f={alg:"HS256"},g=fO(a,b);j?.(f,g);let h=`${ft(fs(JSON.stringify(f)))}.${ft(fs(JSON.stringify(g)))}`,k=await crypto.subtle.sign(i.algorithm,i,fs(h));c.set("client_id",b.client_id),c.set("client_assertion_type","urn:ietf:params:oauth:client-assertion-type:jwt-bearer"),c.set("client_assertion",`${h}.${ft(new Uint8Array(k))}`)};break;case"private_key_jwt":g=function(a,b){let{key:c,kid:d}=a instanceof CryptoKey?{key:a}:a?.key instanceof CryptoKey?(void 0!==a.kid&&fE(a.kid,'"kid"'),{key:a.key,kid:a.kid}):{};var e='"clientPrivateKey.key"';if(!(c instanceof CryptoKey))throw fj(`${e} must be a CryptoKey`,fi);if("private"!==c.type)throw fj(`${e} must be a private CryptoKey`,fh);return async(a,e,f,g)=>{let h={alg:function(a){switch(a.algorithm.name){case"RSA-PSS":switch(a.algorithm.hash.name){case"SHA-256":return"PS256";case"SHA-384":return"PS384";case"SHA-512":return"PS512";default:throw new fu("unsupported RsaHashedKeyAlgorithm hash name",{cause:a})}case"RSASSA-PKCS1-v1_5":switch(a.algorithm.hash.name){case"SHA-256":return"RS256";case"SHA-384":return"RS384";case"SHA-512":return"RS512";default:throw new fu("unsupported RsaHashedKeyAlgorithm hash name",{cause:a})}case"ECDSA":switch(a.algorithm.namedCurve){case"P-256":return"ES256";case"P-384":return"ES384";case"P-521":return"ES512";default:throw new fu("unsupported EcKeyAlgorithm namedCurve",{cause:a})}case"Ed25519":case"ML-DSA-44":case"ML-DSA-65":case"ML-DSA-87":return a.algorithm.name;case"EdDSA":return"Ed25519";default:throw new fu("unsupported CryptoKey algorithm name",{cause:a})}}(c),kid:d},i=fO(a,e);b?.[fo]?.(h,i),f.set("client_id",e.client_id),f.set("client_assertion_type","urn:ietf:params:oauth:client-assertion-type:jwt-bearer"),f.set("client_assertion",await fP(h,i,c))}}(l.token.clientPrivateKey,{[fo](a,b){b.aud=[f.issuer,f.token_endpoint]}});break;case"none":g=(a,b,c,d)=>{c.set("client_id",b.client_id)};break;default:throw Error("unsupported client authentication method")}let p=[],q=await gZ.use(b,p,c);try{h=function(a,b,c,d){var e;if(fM(a),fN(b),c instanceof URL&&(c=c.searchParams),!(c instanceof URLSearchParams))throw fj('"parameters" must be an instance of URLSearchParams, or URL',fi);if(gN(c,"response"))throw fw('"parameters" contains a JARM response, use validateJwtAuthResponse() instead of validateAuthResponse()',gz,{parameters:c});let f=gN(c,"iss"),g=gN(c,"state");if(!f&&a.authorization_response_iss_parameter_supported)throw fw('response parameter "iss" (issuer) missing',gz,{parameters:c});if(f&&f!==a.issuer)throw fw('unexpected "iss" (issuer) response parameter value',gz,{expected:a.issuer,parameters:c});switch(d){case void 0:case gP:if(void 0!==g)throw fw('unexpected "state" response parameter encountered',gz,{expected:void 0,parameters:c});break;case gO:break;default:if(fE(d,'"expectedState" argument'),g!==d)throw fw(void 0===g?'response parameter "state" missing':'unexpected "state" response parameter value',gz,{expected:d,parameters:c})}if(gN(c,"error"))throw new fV("authorization response from the server is an error",{cause:c});let h=gN(c,"id_token"),i=gN(c,"token");if(void 0!==h||void 0!==i)throw new fu("implicit and hybrid flows are not supported");return e=new URLSearchParams(c),gj.add(e),e}(f,o,new URLSearchParams(a),l.checks.includes("state")?q:gO)}catch(a){if(a instanceof fV){let b={providerId:l.id,...Object.fromEntries(a.cause.entries())};throw k.debug("OAuthCallbackError",b),new bF("OAuth Provider returned an error",b)}throw a}let r=await gX.use(b,p,c),s=l.callbackUrl;!c.isOnRedirectProxy&&l.redirectProxyUrl&&(s=l.redirectProxyUrl);let t=await gl(f,o,g,h,s,r??"decoy",{[fk]:!0,[fn]:(...a)=>(l.checks.includes("pkce")||a[1].body.delete("code_verifier"),(l[d_]??fetch)(...a))});l.token?.conform&&(t=await l.token.conform(t.clone())??t);let u={},v="oidc"===l.type;if(l[d0])switch(l.id){case"microsoft-entra-id":case"azure-ad":{let{tid:a}=function(a){let b,c;if("string"!=typeof a)throw new cq("JWTs must use Compact JWS serialization, JWT must be a string");let{1:d,length:e}=a.split(".");if(5===e)throw new cq("Only JWTs using Compact JWS serialization can be decoded");if(3!==e)throw new cq("Invalid JWT");if(!d)throw new cq("JWTs must contain a payload");try{b=ch(d)}catch{throw new cq("Failed to base64url decode the payload")}try{c=JSON.parse(b9.decode(b))}catch{throw new cq("Failed to parse the decoded payload as JSON")}if(!cx(c))throw new cq("Invalid JWT Claims Set");return c}((await t.clone().json()).id_token);if("string"==typeof a){let b=f.issuer?.match(/microsoftonline\.com\/(\w+)\/v2\.0/)?.[1]??"common",c=new URL(f.issuer.replace(b,a)),d=await fC(c,{[fn]:l[d_]});f=await fF(c,d)}}}let w=await gq(f,o,t,{expectedNonce:await g$.use(b,p,c),requireIdToken:v});if(v){let b=gc(w);if(u=b,l[d0]&&"apple"===l.id)try{u.user=JSON.parse(a?.user)}catch{}if(!1===l.idToken){let a=await f4(f,o,w.access_token,{[fn]:l[d_],[fk]:!0});u=await f7(f,o,b.sub,a)}}else if(n?.request){let a=await n.request({tokens:w,provider:l});a instanceof Object&&(u=a)}else if(n?.url){let a=await f4(f,o,w.access_token,{[fn]:l[d_]});u=await a.json()}else throw TypeError("No userinfo endpoint configured");return w.expires_in&&(w.expires_at=Math.floor(Date.now()/1e3)+Number(w.expires_in)),{...await g3(u,l,w,k),profile:u,cookies:p}}async function g3(a,b,c,d){try{let d=await b.profile(a,c);return{user:{...d,id:crypto.randomUUID(),email:d.email?.toLowerCase()},account:{...c,provider:b.id,type:b.type,providerAccountId:d.id??crypto.randomUUID()}}}catch(c){d.debug("getProfile error details",a),d.error(new bG(c,{provider:b.id}))}}var g4=c(356).Buffer;async function g5(a,b,c,d){let e=await ha(a,b,c),{cookie:f}=await g0.create(a,e.challenge,c);return{status:200,cookies:[...d??[],f],body:{action:"register",options:e},headers:{"Content-Type":"application/json"}}}async function g6(a,b,c,d){let e=await g9(a,b,c),{cookie:f}=await g0.create(a,e.challenge);return{status:200,cookies:[...d??[],f],body:{action:"authenticate",options:e},headers:{"Content-Type":"application/json"}}}async function g7(a,b,c){let d,{adapter:e,provider:f}=a,g=b.body&&"string"==typeof b.body.data?JSON.parse(b.body.data):void 0;if(!g||"object"!=typeof g||!("id"in g)||"string"!=typeof g.id)throw new bo("Invalid WebAuthn Authentication response");let h=hd(hc(g.id)),i=await e.getAuthenticator(h);if(!i)throw new bo(`WebAuthn authenticator not found in database: ${JSON.stringify({credentialID:h})}`);let{challenge:j}=await g0.use(a,b.cookies,c);try{var k;let c=f.getRelayingParty(a,b);d=await f.simpleWebAuthn.verifyAuthenticationResponse({...f.verifyAuthenticationOptions,expectedChallenge:j,response:g,authenticator:{...k=i,credentialDeviceType:k.credentialDeviceType,transports:he(k.transports),credentialID:hc(k.credentialID),credentialPublicKey:hc(k.credentialPublicKey)},expectedOrigin:c.origin,expectedRPID:c.id})}catch(a){throw new bU(a)}let{verified:l,authenticationInfo:m}=d;if(!l)throw new bU("WebAuthn authentication response could not be verified");try{let{newCounter:a}=m;await e.updateAuthenticatorCounter(i.credentialID,a)}catch(a){throw new bq(`Failed to update authenticator counter. This may cause future authentication attempts to fail. ${JSON.stringify({credentialID:h,oldCounter:i.counter,newCounter:m.newCounter})}`,a)}let n=await e.getAccount(i.providerAccountId,f.id);if(!n)throw new bo(`WebAuthn account not found in database: ${JSON.stringify({credentialID:h,providerAccountId:i.providerAccountId})}`);let o=await e.getUser(n.userId);if(!o)throw new bo(`WebAuthn user not found in database: ${JSON.stringify({credentialID:h,providerAccountId:i.providerAccountId,userID:n.userId})}`);return{account:n,user:o}}async function g8(a,b,c){var d;let e,{provider:f}=a,g=b.body&&"string"==typeof b.body.data?JSON.parse(b.body.data):void 0;if(!g||"object"!=typeof g||!("id"in g)||"string"!=typeof g.id)throw new bo("Invalid WebAuthn Registration response");let{challenge:h,registerData:i}=await g0.use(a,b.cookies,c);if(!i)throw new bo("Missing user registration data in WebAuthn challenge cookie");try{let c=f.getRelayingParty(a,b);e=await f.simpleWebAuthn.verifyRegistrationResponse({...f.verifyRegistrationOptions,expectedChallenge:h,response:g,expectedOrigin:c.origin,expectedRPID:c.id})}catch(a){throw new bU(a)}if(!e.verified||!e.registrationInfo)throw new bU("WebAuthn registration response could not be verified");let j={providerAccountId:hd(e.registrationInfo.credentialID),provider:a.provider.id,type:f.type},k={providerAccountId:j.providerAccountId,counter:e.registrationInfo.counter,credentialID:hd(e.registrationInfo.credentialID),credentialPublicKey:hd(e.registrationInfo.credentialPublicKey),credentialBackedUp:e.registrationInfo.credentialBackedUp,credentialDeviceType:e.registrationInfo.credentialDeviceType,transports:(d=g.response.transports,d?.join(","))};return{user:i,account:j,authenticator:k}}async function g9(a,b,c){let{provider:d,adapter:e}=a,f=c&&c.id?await e.listAuthenticatorsByUserId(c.id):null,g=d.getRelayingParty(a,b);return await d.simpleWebAuthn.generateAuthenticationOptions({...d.authenticationOptions,rpID:g.id,allowCredentials:f?.map(a=>({id:hc(a.credentialID),type:"public-key",transports:he(a.transports)}))})}async function ha(a,b,c){let{provider:d,adapter:e}=a,f=c.id?await e.listAuthenticatorsByUserId(c.id):null,g=dU(32),h=d.getRelayingParty(a,b);return await d.simpleWebAuthn.generateRegistrationOptions({...d.registrationOptions,userID:g,userName:c.email,userDisplayName:c.name??void 0,rpID:h.id,rpName:h.name,excludeCredentials:f?.map(a=>({id:hc(a.credentialID),type:"public-key",transports:he(a.transports)}))})}function hb(a){let{provider:b,adapter:c}=a;if(!c)throw new bA("An adapter is required for the WebAuthn provider");if(!b||"webauthn"!==b.type)throw new bN("Provider must be WebAuthn");return{...a,provider:b,adapter:c}}function hc(a){return new Uint8Array(g4.from(a,"base64"))}function hd(a){return g4.from(a).toString("base64")}function he(a){return a?a.split(","):void 0}async function hf(a,b,c,d){if(!b.provider)throw new bN("Callback route called without provider");let{query:e,body:f,method:g,headers:h}=a,{provider:i,adapter:j,url:k,callbackUrl:l,pages:m,jwt:n,events:o,callbacks:p,session:{strategy:q,maxAge:r},logger:s}=b,t="jwt"===q;try{if("oauth"===i.type||"oidc"===i.type){let g,h=i.authorization?.url.searchParams.get("response_mode")==="form_post"?f:e;if(b.isOnRedirectProxy&&h?.state){let a=await gZ.decode(h.state,b);if(a?.origin&&new URL(a.origin).origin!==b.url.origin){let b=`${a.origin}?${new URLSearchParams(h)}`;return s.debug("Proxy redirecting to",b),{redirect:b,cookies:d}}}let q=await g2(h,a.cookies,b);q.cookies.length&&d.push(...q.cookies),s.debug("authorization result",q);let{user:u,account:v,profile:w}=q;if(!u||!v||!w)return{redirect:`${k}/signin`,cookies:d};if(j){let{getUserByAccount:a}=j;g=await a({providerAccountId:v.providerAccountId,provider:i.id})}let x=await hg({user:g??u,account:v,profile:w},b);if(x)return{redirect:x,cookies:d};let{user:y,session:z,isNewUser:A}=await ff(c.value,u,v,b);if(t){let a={name:y.name,email:y.email,picture:y.image,sub:y.id?.toString()},e=await p.jwt({token:a,user:y,account:v,profile:w,isNewUser:A,trigger:A?"signUp":"signIn"});if(null===e)d.push(...c.clean());else{let a=b.cookies.sessionToken.name,f=await n.encode({...n,token:e,salt:a}),g=new Date;g.setTime(g.getTime()+1e3*r);let h=c.chunk(f,{expires:g});d.push(...h)}}else d.push({name:b.cookies.sessionToken.name,value:z.sessionToken,options:{...b.cookies.sessionToken.options,expires:z.expires}});if(await o.signIn?.({user:y,account:v,profile:w,isNewUser:A}),A&&m.newUser)return{redirect:`${m.newUser}${m.newUser.includes("?")?"&":"?"}${new URLSearchParams({callbackUrl:l})}`,cookies:d};return{redirect:l,cookies:d}}if("email"===i.type){let a=e?.token,f=e?.email;if(!a){let b=TypeError("Missing token. The sign-in URL was manually opened without token or the link was not sent correctly in the email.",{cause:{hasToken:!!a}});throw b.name="Configuration",b}let g=i.secret??b.secret,h=await j.useVerificationToken({identifier:f,token:await dT(`${a}${g}`)}),k=!!h,q=k&&h.expires.valueOf()<Date.now();if(!k||q||f&&h.identifier!==f)throw new bP({hasInvite:k,expired:q});let{identifier:s}=h,u=await j.getUserByEmail(s)??{id:crypto.randomUUID(),email:s,emailVerified:null},v={providerAccountId:u.email,userId:u.id,type:"email",provider:i.id},w=await hg({user:u,account:v},b);if(w)return{redirect:w,cookies:d};let{user:x,session:y,isNewUser:z}=await ff(c.value,u,v,b);if(t){let a={name:x.name,email:x.email,picture:x.image,sub:x.id?.toString()},e=await p.jwt({token:a,user:x,account:v,isNewUser:z,trigger:z?"signUp":"signIn"});if(null===e)d.push(...c.clean());else{let a=b.cookies.sessionToken.name,f=await n.encode({...n,token:e,salt:a}),g=new Date;g.setTime(g.getTime()+1e3*r);let h=c.chunk(f,{expires:g});d.push(...h)}}else d.push({name:b.cookies.sessionToken.name,value:y.sessionToken,options:{...b.cookies.sessionToken.options,expires:y.expires}});if(await o.signIn?.({user:x,account:v,isNewUser:z}),z&&m.newUser)return{redirect:`${m.newUser}${m.newUser.includes("?")?"&":"?"}${new URLSearchParams({callbackUrl:l})}`,cookies:d};return{redirect:l,cookies:d}}if("credentials"===i.type&&"POST"===g){let a=f??{};Object.entries(e??{}).forEach(([a,b])=>k.searchParams.set(a,b));let j=await i.authorize(a,new Request(k,{headers:h,method:g,body:JSON.stringify(f)}));if(j)j.id=j.id?.toString()??crypto.randomUUID();else throw new bw;let m={providerAccountId:j.id,type:"credentials",provider:i.id},q=await hg({user:j,account:m,credentials:a},b);if(q)return{redirect:q,cookies:d};let s={name:j.name,email:j.email,picture:j.image,sub:j.id},t=await p.jwt({token:s,user:j,account:m,isNewUser:!1,trigger:"signIn"});if(null===t)d.push(...c.clean());else{let a=b.cookies.sessionToken.name,e=await n.encode({...n,token:t,salt:a}),f=new Date;f.setTime(f.getTime()+1e3*r);let g=c.chunk(e,{expires:f});d.push(...g)}return await o.signIn?.({user:j,account:m}),{redirect:l,cookies:d}}else if("webauthn"===i.type&&"POST"===g){let e,f,g,h=a.body?.action;if("string"!=typeof h||"authenticate"!==h&&"register"!==h)throw new bo("Invalid action parameter");let i=hb(b);switch(h){case"authenticate":{let b=await g7(i,a,d);e=b.user,f=b.account;break}case"register":{let c=await g8(b,a,d);e=c.user,f=c.account,g=c.authenticator}}await hg({user:e,account:f},b);let{user:j,isNewUser:k,session:q,account:s}=await ff(c.value,e,f,b);if(!s)throw new bo("Error creating or finding account");if(g&&j.id&&await i.adapter.createAuthenticator({...g,userId:j.id}),t){let a={name:j.name,email:j.email,picture:j.image,sub:j.id?.toString()},e=await p.jwt({token:a,user:j,account:s,isNewUser:k,trigger:k?"signUp":"signIn"});if(null===e)d.push(...c.clean());else{let a=b.cookies.sessionToken.name,f=await n.encode({...n,token:e,salt:a}),g=new Date;g.setTime(g.getTime()+1e3*r);let h=c.chunk(f,{expires:g});d.push(...h)}}else d.push({name:b.cookies.sessionToken.name,value:q.sessionToken,options:{...b.cookies.sessionToken.options,expires:q.expires}});if(await o.signIn?.({user:j,account:s,isNewUser:k}),k&&m.newUser)return{redirect:`${m.newUser}${m.newUser.includes("?")?"&":"?"}${new URLSearchParams({callbackUrl:l})}`,cookies:d};return{redirect:l,cookies:d}}throw new bN(`Callback for provider type (${i.type}) is not supported`)}catch(b){if(b instanceof bo)throw b;let a=new bs(b,{provider:i.id});throw s.debug("callback route error details",{method:g,query:e,body:f}),a}}async function hg(a,b){let c,{signIn:d,redirect:e}=b.callbacks;try{c=await d(a)}catch(a){if(a instanceof bo)throw a;throw new br(a)}if(!c)throw new br("AccessDenied");if("string"==typeof c)return await e({url:c,baseUrl:b.url.origin})}async function hh(a,b,c,d,e){let{adapter:f,jwt:g,events:h,callbacks:i,logger:j,session:{strategy:k,maxAge:l}}=a,m={body:null,headers:{"Content-Type":"application/json"},cookies:c},n=b.value;if(!n)return m;if("jwt"===k){try{let c=a.cookies.sessionToken.name,f=await g.decode({...g,token:n,salt:c});if(!f)throw Error("Invalid JWT");let j=await i.jwt({token:f,...d&&{trigger:"update"},session:e}),k=fe(l);if(null!==j){let a={user:{name:j.name,email:j.email,image:j.picture},expires:k.toISOString()},d=await i.session({session:a,token:j});m.body=d;let e=await g.encode({...g,token:j,salt:c}),f=b.chunk(e,{expires:k});m.cookies?.push(...f),await h.session?.({session:d,token:j})}else m.cookies?.push(...b.clean())}catch(a){j.error(new bz(a)),m.cookies?.push(...b.clean())}return m}try{let{getSessionAndUser:c,deleteSession:g,updateSession:j}=f,k=await c(n);if(k&&k.session.expires.valueOf()<Date.now()&&(await g(n),k=null),k){let{user:b,session:c}=k,f=a.session.updateAge,g=c.expires.valueOf()-1e3*l+1e3*f,o=fe(l);g<=Date.now()&&await j({sessionToken:n,expires:o});let p=await i.session({session:{...c,user:b},user:b,newSession:e,...d?{trigger:"update"}:{}});m.body=p,m.cookies?.push({name:a.cookies.sessionToken.name,value:n,options:{...a.cookies.sessionToken.options,expires:o}}),await h.session?.({session:p})}else n&&m.cookies?.push(...b.clean())}catch(a){j.error(new bH(a))}return m}async function hi(a,b){let c,d,{logger:e,provider:f}=b,g=f.authorization?.url;if(!g||"authjs.dev"===g.host){let a=new URL(f.issuer),b=await fC(a,{[fn]:f[d_],[fk]:!0}),c=await fF(a,b);if(!c.authorization_endpoint)throw TypeError("Authorization server did not provide an authorization endpoint.");g=new URL(c.authorization_endpoint)}let h=g.searchParams,i=f.callbackUrl;!b.isOnRedirectProxy&&f.redirectProxyUrl&&(i=f.redirectProxyUrl,d=f.callbackUrl,e.debug("using redirect proxy",{redirect_uri:i,data:d}));let j=Object.assign({response_type:"code",client_id:f.clientId,redirect_uri:i,...f.authorization?.params},Object.fromEntries(f.authorization?.url.searchParams??[]),a);for(let a in j)h.set(a,j[a]);let k=[];f.authorization?.url.searchParams.get("response_mode")==="form_post"&&(b.cookies.state.options.sameSite="none",b.cookies.state.options.secure=!0,b.cookies.nonce.options.sameSite="none",b.cookies.nonce.options.secure=!0);let l=await gZ.create(b,d);if(l&&(h.set("state",l.value),k.push(l.cookie)),f.checks?.includes("pkce"))if(c&&!c.code_challenge_methods_supported?.includes("S256"))"oidc"===f.type&&(f.checks=["nonce"]);else{let{value:a,cookie:c}=await gX.create(b);h.set("code_challenge",a),h.set("code_challenge_method","S256"),k.push(c)}let m=await g$.create(b);return m&&(h.set("nonce",m.value),k.push(m.cookie)),"oidc"!==f.type||g.searchParams.has("scope")||g.searchParams.set("scope","openid profile email"),e.debug("authorization url is ready",{url:g,cookies:k,provider:f}),{redirect:g.toString(),cookies:k}}async function hj(a,b){let c,{body:d}=a,{provider:e,callbacks:f,adapter:g}=b,h=(e.normalizeIdentifier??function(a){if(!a)throw Error("Missing email from request body.");let[b,c]=a.toLowerCase().trim().split("@");return c=c.split(",")[0],`${b}@${c}`})(d?.email),i={id:crypto.randomUUID(),email:h,emailVerified:null},j=await g.getUserByEmail(h)??i,k={providerAccountId:h,userId:j.id,type:"email",provider:e.id};try{c=await f.signIn({user:j,account:k,email:{verificationRequest:!0}})}catch(a){throw new br(a)}if(!c)throw new br("AccessDenied");if("string"==typeof c)return{redirect:await f.redirect({url:c,baseUrl:b.url.origin})};let{callbackUrl:l,theme:m}=b,n=await e.generateVerificationToken?.()??dU(32),o=new Date(Date.now()+(e.maxAge??86400)*1e3),p=e.secret??b.secret,q=new URL(b.basePath,b.url.origin),r=e.sendVerificationRequest({identifier:h,token:n,expires:o,url:`${q}/callback/${e.id}?${new URLSearchParams({callbackUrl:l,token:n,email:h})}`,provider:e,theme:m,request:new Request(a.url,{headers:a.headers,method:a.method,body:"POST"===a.method?JSON.stringify(a.body??{}):void 0})}),s=g.createVerificationToken?.({identifier:h,token:await dT(`${n}${p}`),expires:o});return await Promise.all([r,s]),{redirect:`${q}/verify-request?${new URLSearchParams({provider:e.id,type:e.type})}`}}async function hk(a,b,c){let d=`${c.url.origin}${c.basePath}/signin`;if(!c.provider)return{redirect:d,cookies:b};switch(c.provider.type){case"oauth":case"oidc":{let{redirect:d,cookies:e}=await hi(a.query,c);return e&&b.push(...e),{redirect:d,cookies:b}}case"email":return{...await hj(a,c),cookies:b};default:return{redirect:d,cookies:b}}}async function hl(a,b,c){let{jwt:d,events:e,callbackUrl:f,logger:g,session:h}=c,i=b.value;if(!i)return{redirect:f,cookies:a};try{if("jwt"===h.strategy){let a=c.cookies.sessionToken.name,b=await d.decode({...d,token:i,salt:a});await e.signOut?.({token:b})}else{let a=await c.adapter?.deleteSession(i);await e.signOut?.({session:a})}}catch(a){g.error(new bK(a))}return a.push(...b.clean()),{redirect:f,cookies:a}}async function hm(a,b){let{adapter:c,jwt:d,session:{strategy:e}}=a,f=b.value;if(!f)return null;if("jwt"===e){let b=a.cookies.sessionToken.name,c=await d.decode({...d,token:f,salt:b});if(c&&c.sub)return{id:c.sub,name:c.name,email:c.email,image:c.picture}}else{let a=await c?.getSessionAndUser(f);if(a)return a.user}return null}async function hn(a,b,c,d){let e=hb(b),{provider:f}=e,{action:g}=a.query??{};if("register"!==g&&"authenticate"!==g&&void 0!==g)return{status:400,body:{error:"Invalid action"},cookies:d,headers:{"Content-Type":"application/json"}};let h=await hm(b,c),i=h?{user:h,exists:!0}:await f.getUserInfo(b,a),j=i?.user;switch(function(a,b,c){let{user:d,exists:e=!1}=c??{};switch(a){case"authenticate":return"authenticate";case"register":if(d&&b===e)return"register";break;case void 0:if(!b)if(!d)return"authenticate";else if(e)return"authenticate";else return"register"}return null}(g,!!h,i)){case"authenticate":return g6(e,a,j,d);case"register":if("string"==typeof j?.email)return g5(e,a,j,d);break;default:return{status:400,body:{error:"Invalid request"},cookies:d,headers:{"Content-Type":"application/json"}}}}async function ho(a,b){let{action:c,providerId:d,error:e,method:f}=a,g=b.skipCSRFCheck===dZ,{options:h,cookies:i}=await d6({authOptions:b,action:c,providerId:d,url:a.url,callbackUrl:a.body?.callbackUrl??a.query?.callbackUrl,csrfToken:a.body?.csrfToken,cookies:a.cookies,isPost:"POST"===f,csrfDisabled:g}),j=new bn(h.cookies.sessionToken,a.cookies,h.logger);if("GET"===f){let b=fd({...h,query:a.query,cookies:i});switch(c){case"callback":return await hf(a,h,j,i);case"csrf":return b.csrf(g,h,i);case"error":return b.error(e);case"providers":return b.providers(h.providers);case"session":return await hh(h,j,i);case"signin":return b.signin(d,e);case"signout":return b.signout();case"verify-request":return b.verifyRequest();case"webauthn-options":return await hn(a,h,j,i)}}else{let{csrfTokenVerified:b}=h;switch(c){case"callback":return"credentials"===h.provider.type&&dW(c,b),await hf(a,h,j,i);case"session":return dW(c,b),await hh(h,j,i,!0,a.body?.data);case"signin":return dW(c,b),await hk(a,i,h);case"signout":return dW(c,b),await hl(i,j,h)}}throw new bL(`Cannot handle action: ${c}`)}function hp(a,b,c,d,e){let f,g=e?.basePath,h=d.AUTH_URL??d.NEXTAUTH_URL;if(h)f=new URL(h),g&&"/"!==g&&"/"!==f.pathname&&(f.pathname!==g&&dO(e).warn("env-url-basepath-mismatch"),f.pathname="/");else{let a=c.get("x-forwarded-host")??c.get("host"),d=c.get("x-forwarded-proto")??b??"https",e=d.endsWith(":")?d:d+":";f=new URL(`${e}//${a}`)}let i=f.toString().replace(/\/$/,"");if(g){let b=g?.replace(/(^\/|\/$)/g,"")??"";return new URL(`${i}/${b}/${a}`)}return new URL(`${i}/${a}`)}async function hq(a,b){let c=dO(b),d=await dR(a,b);if(!d)return Response.json("Bad request.",{status:400});let e=function(a,b){let{url:c}=a,d=[];if(!bX&&b.debug&&d.push("debug-enabled"),!b.trustHost)return new bO(`Host must be trusted. URL was: ${a.url}`);if(!b.secret?.length)return new bD("Please define a `secret`");let e=a.query?.callbackUrl;if(e&&!bY(e,c.origin))return new bv(`Invalid callback URL. Received: ${e}`);let{callbackUrl:f}=bm(b.useSecureCookies??"https:"===c.protocol),g=a.cookies?.[b.cookies?.callbackUrl?.name??f.name];if(g&&!bY(g,c.origin))return new bv(`Invalid callback URL. Received: ${g}`);let h=!1;for(let a of b.providers){let b="function"==typeof a?a():a;if(("oauth"===b.type||"oidc"===b.type)&&!(b.issuer??b.options?.issuer)){let a,{authorization:c,token:d,userinfo:e}=b;if("string"==typeof c||c?.url?"string"==typeof d||d?.url?"string"==typeof e||e?.url||(a="userinfo"):a="token":a="authorization",a)return new bx(`Provider "${b.id}" is missing both \`issuer\` and \`${a}\` endpoint config. At least one of them is required`)}if("credentials"===b.type)bZ=!0;else if("email"===b.type)b$=!0;else if("webauthn"===b.type){var i;if(b_=!0,b.simpleWebAuthnBrowserVersion&&(i=b.simpleWebAuthnBrowserVersion,!/^v\d+(?:\.\d+){0,2}$/.test(i)))return new bo(`Invalid provider config for "${b.id}": simpleWebAuthnBrowserVersion "${b.simpleWebAuthnBrowserVersion}" must be a valid semver string.`);if(b.enableConditionalUI){if(h)return new bS("Multiple webauthn providers have 'enableConditionalUI' set to True. Only one provider can have this option enabled at a time");if(h=!0,!Object.values(b.formFields).some(a=>a.autocomplete&&a.autocomplete.toString().indexOf("webauthn")>-1))return new bT(`Provider "${b.id}" has 'enableConditionalUI' set to True, but none of its formFields have 'webauthn' in their autocomplete param`)}}}if(bZ){let a=b.session?.strategy==="database",c=!b.providers.some(a=>"credentials"!==("function"==typeof a?a():a).type);if(a&&c)return new bM("Signing in with credentials only supported if JWT strategy is enabled");if(b.providers.some(a=>{let b="function"==typeof a?a():a;return"credentials"===b.type&&!b.authorize}))return new bC("Must define an authorize() handler to use credentials authentication provider")}let{adapter:j,session:k}=b,l=[];if(b$||k?.strategy==="database"||!k?.strategy&&j)if(b$){if(!j)return new bA("Email login requires an adapter");l.push(...b0)}else{if(!j)return new bA("Database session requires an adapter");l.push(...b1)}if(b_){if(!b.experimental?.enableWebAuthn)return new bW("WebAuthn is an experimental feature. To enable it, set `experimental.enableWebAuthn` to `true` in your config");if(d.push("experimental-webauthn"),!j)return new bA("WebAuthn requires an adapter");l.push(...b2)}if(j){let a=l.filter(a=>!(a in j));if(a.length)return new bB(`Required adapter methods were missing: ${a.join(", ")}`)}return bX||(bX=!0),d}(d,b);if(Array.isArray(e))e.forEach(c.warn);else if(e){if(c.error(e),!new Set(["signin","signout","error","verify-request"]).has(d.action)||"GET"!==d.method)return Response.json({message:"There was a problem with the server configuration. Check the server logs for more information."},{status:500});let{pages:a,theme:f}=b,g=a?.error&&d.url.searchParams.get("callbackUrl")?.startsWith(a.error);if(!a?.error||g)return g&&c.error(new bt(`The error page ${a?.error} should not require authentication`)),dS(fd({theme:f}).error("Configuration"));let h=`${d.url.origin}${a.error}?error=Configuration`;return Response.redirect(h)}let f=a.headers?.has("X-Auth-Return-Redirect"),g=b.raw===d$;try{let a=await ho(d,b);if(g)return a;let c=dS(a),e=c.headers.get("Location");if(!f||!e)return c;return Response.json({url:e},{headers:c.headers})}catch(l){c.error(l);let e=l instanceof bo;if(e&&g&&!f)throw l;if("POST"===a.method&&"session"===d.action)return Response.json(null,{status:400});let h=new URLSearchParams({error:l instanceof bo&&bR.has(l.type)?l.type:"Configuration"});l instanceof bw&&h.set("code",l.code);let i=e&&l.kind||"error",j=b.pages?.[i]??`${b.basePath}/${i.toLowerCase()}`,k=`${d.url.origin}${j}?${h}`;if(f)return Response.json({url:k});return Response.redirect(k)}}c(990),"undefined"==typeof URLPattern||URLPattern;var hr=c(605),hs=c(20),ht=c(743);function hu(){let a=a7.getStore();return(null==a?void 0:a.rootTaskSpawnPhase)==="action"}function hv(a){let b=process.env.AUTH_URL??process.env.NEXTAUTH_URL;if(!b)return a;let{origin:c}=new URL(b),{href:d,origin:e}=a.nextUrl;return new X(d.replace(e,c),a)}function hw(a){try{a.secret??(a.secret=process.env.AUTH_SECRET??process.env.NEXTAUTH_SECRET);let b=process.env.AUTH_URL??process.env.NEXTAUTH_URL;if(!b)return;let{pathname:c}=new URL(b);if("/"===c)return;a.basePath||(a.basePath=c)}catch{}finally{a.basePath||(a.basePath="/api/auth"),function(a,b,c=!1){try{let d=a.AUTH_URL;d&&(b.basePath?c||dO(b).warn("env-url-basepath-redundant"):b.basePath=new URL(d).pathname)}catch{}finally{b.basePath??(b.basePath="/auth")}if(!b.secret?.length){b.secret=[];let c=a.AUTH_SECRET;for(let d of(c&&b.secret.push(c),[1,2,3])){let c=a[`AUTH_SECRET_${d}`];c&&b.secret.unshift(c)}}b.redirectProxyUrl??(b.redirectProxyUrl=a.AUTH_REDIRECT_PROXY_URL),b.trustHost??(b.trustHost=!!(a.AUTH_URL??a.AUTH_TRUST_HOST??a.VERCEL??a.CF_PAGES??"production"!==a.NODE_ENV)),b.providers=b.providers.map(b=>{let{id:c}="function"==typeof b?b({}):b,d=c.toUpperCase().replace(/-/g,"_"),e=a[`AUTH_${d}_ID`],f=a[`AUTH_${d}_SECRET`],g=a[`AUTH_${d}_ISSUER`],h=a[`AUTH_${d}_KEY`],i="function"==typeof b?b({clientId:e,clientSecret:f,issuer:g,apiKey:h}):b;return"oauth"===i.type||"oidc"===i.type?(i.clientId??(i.clientId=e),i.clientSecret??(i.clientSecret=f),i.issuer??(i.issuer=g)):"email"===i.type&&(i.apiKey??(i.apiKey=h)),i})}(process.env,a,!0)}}c(507);var hx=c(345);let hy={current:null},hz="function"==typeof hx.cache?hx.cache:a=>a,hA=console.warn;function hB(a){return function(...b){hA(a(...b))}}function hC(){let a="cookies",b=ah.J.getStore(),c=aU.FP.getStore();if(b){if(c&&"after"===c.phase&&!hu())throw Object.defineProperty(Error(`Route ${b.route} used \`cookies()\` inside \`after()\`. This is not supported. If you need this data inside an \`after()\` callback, use \`cookies()\` outside of the callback. See more info here: https://nextjs.org/docs/canary/app/api-reference/functions/after`),"__NEXT_ERROR_CODE",{value:"E843",enumerable:!1,configurable:!0});if(b.forceStatic)return hE(aj.seal(new V.RequestCookies(new Headers({}))));if(b.dynamicShouldError)throw Object.defineProperty(new hs.f(`Route ${b.route} with \`dynamic = "error"\` couldn't be rendered statically because it used \`cookies()\`. See more info here: https://nextjs.org/docs/app/building-your-application/rendering/static-and-dynamic#dynamic-rendering`),"__NEXT_ERROR_CODE",{value:"E849",enumerable:!1,configurable:!0});if(c)switch(c.type){case"cache":let f=Object.defineProperty(Error(`Route ${b.route} used \`cookies()\` inside "use cache". Accessing Dynamic data sources inside a cache scope is not supported. If you need this data inside a cached function use \`cookies()\` outside of the cached function and pass the required dynamic data in as an argument. See more info here: https://nextjs.org/docs/messages/next-request-in-use-cache`),"__NEXT_ERROR_CODE",{value:"E831",enumerable:!1,configurable:!0});throw Error.captureStackTrace(f,hC),b.invalidDynamicUsageError??=f,f;case"unstable-cache":throw Object.defineProperty(Error(`Route ${b.route} used \`cookies()\` inside a function cached with \`unstable_cache()\`. Accessing Dynamic data sources inside a cache scope is not supported. If you need this data inside a cached function use \`cookies()\` outside of the cached function and pass the required dynamic data in as an argument. See more info here: https://nextjs.org/docs/app/api-reference/functions/unstable_cache`),"__NEXT_ERROR_CODE",{value:"E846",enumerable:!1,configurable:!0});case"prerender":var d=b,e=c;let g=hD.get(e);if(g)return g;let h=(0,ht.W5)(e.renderSignal,d.route,"`cookies()`");return hD.set(e,h),h;case"prerender-client":let i="`cookies`";throw Object.defineProperty(new aX.z(`${i} must not be used within a Client Component. Next.js should be preventing ${i} from being included in Client Components statically, but did not in this case.`),"__NEXT_ERROR_CODE",{value:"E832",enumerable:!1,configurable:!0});case"prerender-ppr":return(0,hr.Ui)(b.route,a,c.dynamicTracking);case"prerender-legacy":return(0,hr.xI)(a,b,c);case"prerender-runtime":return(0,hr.wi)(c,hE(c.cookies));case"private-cache":return hE(c.cookies);case"request":return(0,hr.Pk)(c),hE(am(c)?c.userspaceMutableCookies:c.cookies)}}(0,aU.M1)(a)}hz(a=>{try{hA(hy.current)}finally{hy.current=null}});let hD=new WeakMap;function hE(a){let b=hD.get(a);if(b)return b;let c=Promise.resolve(a);return hD.set(a,c),c}function hF(){let a="headers",b=ah.J.getStore(),c=aU.FP.getStore();if(b){if(c&&"after"===c.phase&&!hu())throw Object.defineProperty(Error(`Route ${b.route} used \`headers()\` inside \`after()\`. This is not supported. If you need this data inside an \`after()\` callback, use \`headers()\` outside of the callback. See more info here: https://nextjs.org/docs/canary/app/api-reference/functions/after`),"__NEXT_ERROR_CODE",{value:"E839",enumerable:!1,configurable:!0});if(b.forceStatic)return hH(ag.seal(new Headers({})));if(c)switch(c.type){case"cache":{let a=Object.defineProperty(Error(`Route ${b.route} used \`headers()\` inside "use cache". Accessing Dynamic data sources inside a cache scope is not supported. If you need this data inside a cached function use \`headers()\` outside of the cached function and pass the required dynamic data in as an argument. See more info here: https://nextjs.org/docs/messages/next-request-in-use-cache`),"__NEXT_ERROR_CODE",{value:"E833",enumerable:!1,configurable:!0});throw Error.captureStackTrace(a,hF),b.invalidDynamicUsageError??=a,a}case"unstable-cache":throw Object.defineProperty(Error(`Route ${b.route} used \`headers()\` inside a function cached with \`unstable_cache()\`. Accessing Dynamic data sources inside a cache scope is not supported. If you need this data inside a cached function use \`headers()\` outside of the cached function and pass the required dynamic data in as an argument. See more info here: https://nextjs.org/docs/app/api-reference/functions/unstable_cache`),"__NEXT_ERROR_CODE",{value:"E838",enumerable:!1,configurable:!0})}if(b.dynamicShouldError)throw Object.defineProperty(new hs.f(`Route ${b.route} with \`dynamic = "error"\` couldn't be rendered statically because it used \`headers()\`. See more info here: https://nextjs.org/docs/app/building-your-application/rendering/static-and-dynamic#dynamic-rendering`),"__NEXT_ERROR_CODE",{value:"E828",enumerable:!1,configurable:!0});if(c)switch(c.type){case"prerender":var d=b,e=c;let f=hG.get(e);if(f)return f;let g=(0,ht.W5)(e.renderSignal,d.route,"`headers()`");return hG.set(e,g),g;case"prerender-client":let h="`headers`";throw Object.defineProperty(new aX.z(`${h} must not be used within a client component. Next.js should be preventing ${h} from being included in client components statically, but did not in this case.`),"__NEXT_ERROR_CODE",{value:"E693",enumerable:!1,configurable:!0});case"prerender-ppr":return(0,hr.Ui)(b.route,a,c.dynamicTracking);case"prerender-legacy":return(0,hr.xI)(a,b,c);case"prerender-runtime":return(0,hr.wi)(c,hH(c.headers));case"private-cache":return hH(c.headers);case"request":return(0,hr.Pk)(c),hH(c.headers)}}(0,aU.M1)(a)}hB(function(a,b){let c=a?`Route "${a}" `:"This route ";return Object.defineProperty(Error(`${c}used ${b}. \`cookies()\` returns a Promise and must be unwrapped with \`await\` or \`React.use()\` before accessing its properties. Learn more: https://nextjs.org/docs/messages/sync-dynamic-apis`),"__NEXT_ERROR_CODE",{value:"E830",enumerable:!1,configurable:!0})});let hG=new WeakMap;function hH(a){let b=hG.get(a);if(b)return b;let c=Promise.resolve(a);return hG.set(a,c),c}async function hI(a,b){return hq(new Request(hp("session",a.get("x-forwarded-proto"),a,process.env,b),{headers:{cookie:a.get("cookie")??""}}),{...b,callbacks:{...b.callbacks,async session(...a){let c=await b.callbacks?.session?.(...a)??{...a[0].session,expires:a[0].session.expires?.toISOString?.()??a[0].session.expires};return{user:a[0].user??a[0].token,...c}}}})}function hJ(a){return"function"==typeof a}function hK(a,b){return"function"==typeof a?async(...c)=>{if(!c.length){let c=await hF(),d=await a(void 0);return b?.(d),hI(c,d).then(a=>a.json())}if(c[0]instanceof Request){let d=c[0],e=c[1],f=await a(d);return b?.(f),hL([d,e],f)}if(hJ(c[0])){let d=c[0];return async(...c)=>{let e=await a(c[0]);return b?.(e),hL(c,e,d)}}let d="req"in c[0]?c[0].req:c[0],e="res"in c[0]?c[0].res:c[1],f=await a(d);return b?.(f),hI(new Headers(d.headers),f).then(async a=>{let b=await a.json();for(let b of a.headers.getSetCookie())"headers"in e?e.headers.append("set-cookie",b):e.appendHeader("set-cookie",b);return b})}:(...b)=>{if(!b.length)return Promise.resolve(hF()).then(b=>hI(b,a).then(a=>a.json()));if(b[0]instanceof Request)return hL([b[0],b[1]],a);if(hJ(b[0])){let c=b[0];return async(...b)=>hL(b,a,c).then(a=>a)}let c="req"in b[0]?b[0].req:b[0],d="res"in b[0]?b[0].res:b[1];return hI(new Headers(c.headers),a).then(async a=>{let b=await a.json();for(let b of a.headers.getSetCookie())"headers"in d?d.headers.append("set-cookie",b):d.appendHeader("set-cookie",b);return b})}}async function hL(a,b,c){let d=hv(a[0]),e=await hI(d.headers,b),f=await e.json(),g=!0;b.callbacks?.authorized&&(g=await b.callbacks.authorized({request:d,auth:f}));let h=aa.next?.();if(g instanceof Response){var i,j,k;let a,c;h=g;let e=g.headers.get("Location"),{pathname:f}=d.nextUrl;e&&(i=f,j=new URL(e).pathname,k=b,a=j.replace(`${i}/`,""),c=Object.values(k.pages??{}),(hM.has(a)||c.includes(j))&&j===i)&&(g=!0)}else if(c)d.auth=f,h=await c(d,a[1])??aa.next();else if(!g){let a=b.pages?.signIn??`${b.basePath}/signin`;if(d.nextUrl.pathname!==a){let b=d.nextUrl.clone();b.pathname=a,b.searchParams.set("callbackUrl",d.nextUrl.href),h=aa.redirect(b)}}let l=new Response(h?.body,h);for(let a of e.headers.getSetCookie())l.headers.append("set-cookie",a);return l}hB(function(a,b){let c=a?`Route "${a}" `:"This route ";return Object.defineProperty(Error(`${c}used ${b}. \`headers()\` returns a Promise and must be unwrapped with \`await\` or \`React.use()\` before accessing its properties. Learn more: https://nextjs.org/docs/messages/sync-dynamic-apis`),"__NEXT_ERROR_CODE",{value:"E836",enumerable:!1,configurable:!0})}),c(502),new WeakMap,hB(function(a,b){let c=a?`Route "${a}" `:"This route ";return Object.defineProperty(Error(`${c}used ${b}. \`draftMode()\` returns a Promise and must be unwrapped with \`await\` or \`React.use()\` before accessing its properties. Learn more: https://nextjs.org/docs/messages/sync-dynamic-apis`),"__NEXT_ERROR_CODE",{value:"E835",enumerable:!1,configurable:!0})});let hM=new Set(["providers","session","csrf","signin","signout","callback","verify-request","error"]);var hN=c(888),hO=c(213);let hP=c(319).s;function hQ(a,b){throw function(a,b,c=hN.Q.TemporaryRedirect){let d=Object.defineProperty(Error(hO.oJ),"__NEXT_ERROR_CODE",{value:"E394",enumerable:!1,configurable:!0});return d.digest=`${hO.oJ};${b};${a};${c};`,d}(a,b??=hP?.getStore()?.isAction?hO.zB.push:hO.zB.replace,hN.Q.TemporaryRedirect)}async function hR(a,b={},c,d){let e=new Headers(await hF()),{redirect:f=!0,redirectTo:g,...h}=b instanceof FormData?Object.fromEntries(b):b,i=g?.toString()??e.get("Referer")??"/",j=hp("signin",e.get("x-forwarded-proto"),e,process.env,d);if(!a)return j.searchParams.append("callbackUrl",i),f&&hQ(j.toString()),j.toString();let k=`${j}/${a}?${new URLSearchParams(c)}`,l={};for(let b of d.providers){let{options:c,...d}="function"==typeof b?b():b,e=c?.id??d.id;if(e===a){l={id:e,type:c?.type??d.type};break}}if(!l.id){let a=`${j}?${new URLSearchParams({callbackUrl:i})}`;return f&&hQ(a),a}"credentials"===l.type&&(k=k.replace("signin","callback")),e.set("Content-Type","application/x-www-form-urlencoded");let m=new Request(k,{method:"POST",headers:e,body:new URLSearchParams({...h,callbackUrl:i})}),n=await hq(m,{...d,raw:d$,skipCSRFCheck:dZ}),o=await hC();for(let a of n?.cookies??[])o.set(a.name,a.value,a.options);let p=(n instanceof Response?n.headers.get("Location"):n.redirect)??k;return f?hQ(p):p}async function hS(a,b){let c=new Headers(await hF());c.set("Content-Type","application/x-www-form-urlencoded");let d=hp("signout",c.get("x-forwarded-proto"),c,process.env,b),e=new URLSearchParams({callbackUrl:a?.redirectTo??c.get("Referer")??"/"}),f=new Request(d,{method:"POST",headers:c,body:e}),g=await hq(f,{...b,raw:d$,skipCSRFCheck:dZ}),h=await hC();for(let a of g?.cookies??[])h.set(a.name,a.value,a.options);return a?.redirect??!0?hQ(g.redirect):g}async function hT(a,b){let c=new Headers(await hF());c.set("Content-Type","application/json");let d=new Request(hp("session",c.get("x-forwarded-proto"),c,process.env,b),{method:"POST",headers:c,body:JSON.stringify({data:a})}),e=await hq(d,{...b,raw:d$,skipCSRFCheck:dZ}),f=await hC();for(let a of e?.cookies??[])f.set(a.name,a.value,a.options);return e.body}c(833),c(543).X;var hU=c(762),hV=c(884),hW="@prisma/extension-accelerate",hX="Unable to connect to the Accelerate API. This may be due to a network or DNS issue. Please check your connection and the Accelerate connection string. For details, visit https://www.prisma.io/docs/accelerate/troubleshoot.";function hY(a,b,c){function d(c,d){var e;for(let f in Object.defineProperty(c,"_zod",{value:c._zod??{},enumerable:!1}),(e=c._zod).traits??(e.traits=new Set),c._zod.traits.add(a),b(c,d),g.prototype)f in c||Object.defineProperty(c,f,{value:g.prototype[f].bind(c)});c._zod.constr=g,c._zod.def=d}let e=c?.Parent??Object;class f extends e{}function g(a){var b;let e=c?.Parent?new f:this;for(let c of(d(e,a),(b=e._zod).deferred??(b.deferred=[]),e._zod.deferred))c();return e}return Object.defineProperty(f,"name",{value:a}),Object.defineProperty(g,"init",{value:d}),Object.defineProperty(g,Symbol.hasInstance,{value:b=>!!c?.Parent&&b instanceof c.Parent||b?._zod?.traits?.has(a)}),Object.defineProperty(g,"name",{value:a}),g}Object.freeze({status:"aborted"}),Symbol("zod_brand");class hZ extends Error{constructor(){super("Encountered Promise during synchronous parse. Use .parseAsync() instead.")}}class h$ extends Error{constructor(a){super(`Encountered unidirectional transform during encode: ${a}`),this.name="ZodEncodeError"}}let h_={};function h0(a){return a&&Object.assign(h_,a),h_}function h1(a,b="|"){return a.map(a=>ik(a)).join(b)}function h2(a,b){return"bigint"==typeof b?b.toString():b}function h3(a){return{get value(){{let b=a();return Object.defineProperty(this,"value",{value:b}),b}}}}function h4(a){let b=+!!a.startsWith("^"),c=a.endsWith("$")?a.length-1:a.length;return a.slice(b,c)}let h5=Symbol("evaluating");function h6(a,b,c){let d;Object.defineProperty(a,b,{get(){if(d!==h5)return void 0===d&&(d=h5,d=c()),d},set(c){Object.defineProperty(a,b,{value:c})},configurable:!0})}function h7(a,b,c){Object.defineProperty(a,b,{value:c,writable:!0,enumerable:!0,configurable:!0})}function h8(...a){let b={};for(let c of a)Object.assign(b,Object.getOwnPropertyDescriptors(c));return Object.defineProperties({},b)}function h9(a){return JSON.stringify(a)}let ia="captureStackTrace"in Error?Error.captureStackTrace:(...a)=>{};function ib(a){return"object"==typeof a&&null!==a&&!Array.isArray(a)}let ic=h3(()=>{if("undefined"!=typeof navigator&&navigator?.userAgent?.includes("Cloudflare"))return!1;try{return Function(""),!0}catch(a){return!1}});function id(a){if(!1===ib(a))return!1;let b=a.constructor;if(void 0===b)return!0;let c=b.prototype;return!1!==ib(c)&&!1!==Object.prototype.hasOwnProperty.call(c,"isPrototypeOf")}function ie(a){return id(a)?{...a}:Array.isArray(a)?[...a]:a}let ig=new Set(["string","number","symbol"]);function ih(a){return a.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function ii(a,b,c){let d=new a._zod.constr(b??a._zod.def);return(!b||c?.parent)&&(d._zod.parent=a),d}function ij(a){if(!a)return{};if("string"==typeof a)return{error:()=>a};if(a?.message!==void 0){if(a?.error!==void 0)throw Error("Cannot specify both `message` and `error` params");a.error=a.message}return(delete a.message,"string"==typeof a.error)?{...a,error:()=>a.error}:a}function ik(a){return"bigint"==typeof a?a.toString()+"n":"string"==typeof a?`"${a}"`:`${a}`}function il(a,b=0){if(!0===a.aborted)return!0;for(let c=b;c<a.issues.length;c++)if(a.issues[c]?.continue!==!0)return!0;return!1}function im(a,b){return b.map(b=>(b.path??(b.path=[]),b.path.unshift(a),b))}function io(a){return"string"==typeof a?a:a?.message}function ip(a,b,c){let d={...a,path:a.path??[]};return a.message||(d.message=io(a.inst?._zod.def?.error?.(a))??io(b?.error?.(a))??io(c.customError?.(a))??io(c.localeError?.(a))??"Invalid input"),delete d.inst,delete d.continue,b?.reportInput||delete d.input,d}function iq(a){return Array.isArray(a)?"array":"string"==typeof a?"string":"unknown"}function ir(...a){let[b,c,d]=a;return"string"==typeof b?{message:b,code:"custom",input:c,inst:d}:{...b}}let is=(a,b)=>{a.name="$ZodError",Object.defineProperty(a,"_zod",{value:a._zod,enumerable:!1}),Object.defineProperty(a,"issues",{value:b,enumerable:!1}),a.message=JSON.stringify(b,h2,2),Object.defineProperty(a,"toString",{value:()=>a.message,enumerable:!1})},it=hY("$ZodError",is),iu=hY("$ZodError",is,{Parent:Error}),iv=a=>(b,c,d,e)=>{let f=d?Object.assign(d,{async:!1}):{async:!1},g=b._zod.run({value:c,issues:[]},f);if(g instanceof Promise)throw new hZ;if(g.issues.length){let b=new(e?.Err??a)(g.issues.map(a=>ip(a,f,h0())));throw ia(b,e?.callee),b}return g.value},iw=a=>async(b,c,d,e)=>{let f=d?Object.assign(d,{async:!0}):{async:!0},g=b._zod.run({value:c,issues:[]},f);if(g instanceof Promise&&(g=await g),g.issues.length){let b=new(e?.Err??a)(g.issues.map(a=>ip(a,f,h0())));throw ia(b,e?.callee),b}return g.value},ix=a=>(b,c,d)=>{let e=d?{...d,async:!1}:{async:!1},f=b._zod.run({value:c,issues:[]},e);if(f instanceof Promise)throw new hZ;return f.issues.length?{success:!1,error:new(a??it)(f.issues.map(a=>ip(a,e,h0())))}:{success:!0,data:f.value}},iy=ix(iu),iz=a=>async(b,c,d)=>{let e=d?Object.assign(d,{async:!0}):{async:!0},f=b._zod.run({value:c,issues:[]},e);return f instanceof Promise&&(f=await f),f.issues.length?{success:!1,error:new a(f.issues.map(a=>ip(a,e,h0())))}:{success:!0,data:f.value}},iA=iz(iu),iB=/^[cC][^\s-]{8,}$/,iC=/^[0-9a-z]+$/,iD=/^[0-9A-HJKMNP-TV-Za-hjkmnp-tv-z]{26}$/,iE=/^[0-9a-vA-V]{20}$/,iF=/^[A-Za-z0-9]{27}$/,iG=/^[a-zA-Z0-9_-]{21}$/,iH=/^P(?:(\d+W)|(?!.*W)(?=\d|T\d)(\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+([.,]\d+)?S)?)?)$/,iI=/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12})$/,iJ=a=>a?RegExp(`^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-${a}[0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12})$`):/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[1-8][0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12}|00000000-0000-0000-0000-000000000000|ffffffff-ffff-ffff-ffff-ffffffffffff)$/,iK=/^(?!\.)(?!.*\.\.)([A-Za-z0-9_'+\-\.]*)[A-Za-z0-9_+-]@([A-Za-z0-9][A-Za-z0-9\-]*\.)+[A-Za-z]{2,}$/,iL=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,iM=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:))$/,iN=/^((25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/([0-9]|[1-2][0-9]|3[0-2])$/,iO=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|::|([0-9a-fA-F]{1,4})?::([0-9a-fA-F]{1,4}:?){0,6})\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,iP=/^$|^(?:[0-9a-zA-Z+/]{4})*(?:(?:[0-9a-zA-Z+/]{2}==)|(?:[0-9a-zA-Z+/]{3}=))?$/,iQ=/^[A-Za-z0-9_-]*$/,iR=/^(?=.{1,253}\.?$)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[-0-9a-zA-Z]{0,61}[0-9a-zA-Z])?)*\.?$/,iS=/^\+(?:[0-9]){6,14}[0-9]$/,iT="(?:(?:\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\\d|30)|(?:02)-(?:0[1-9]|1\\d|2[0-8])))",iU=RegExp(`^${iT}$`);function iV(a){let b="(?:[01]\\d|2[0-3]):[0-5]\\d";return"number"==typeof a.precision?-1===a.precision?`${b}`:0===a.precision?`${b}:[0-5]\\d`:`${b}:[0-5]\\d\\.\\d{${a.precision}}`:`${b}(?::[0-5]\\d(?:\\.\\d+)?)?`}let iW=/^[^A-Z]*$/,iX=/^[^a-z]*$/,iY=hY("$ZodCheck",(a,b)=>{var c;a._zod??(a._zod={}),a._zod.def=b,(c=a._zod).onattach??(c.onattach=[])}),iZ=hY("$ZodCheckMaxLength",(a,b)=>{var c;iY.init(a,b),(c=a._zod.def).when??(c.when=a=>{let b=a.value;return null!=b&&void 0!==b.length}),a._zod.onattach.push(a=>{let c=a._zod.bag.maximum??1/0;b.maximum<c&&(a._zod.bag.maximum=b.maximum)}),a._zod.check=c=>{let d=c.value;if(d.length<=b.maximum)return;let e=iq(d);c.issues.push({origin:e,code:"too_big",maximum:b.maximum,inclusive:!0,input:d,inst:a,continue:!b.abort})}}),i$=hY("$ZodCheckMinLength",(a,b)=>{var c;iY.init(a,b),(c=a._zod.def).when??(c.when=a=>{let b=a.value;return null!=b&&void 0!==b.length}),a._zod.onattach.push(a=>{let c=a._zod.bag.minimum??-1/0;b.minimum>c&&(a._zod.bag.minimum=b.minimum)}),a._zod.check=c=>{let d=c.value;if(d.length>=b.minimum)return;let e=iq(d);c.issues.push({origin:e,code:"too_small",minimum:b.minimum,inclusive:!0,input:d,inst:a,continue:!b.abort})}}),i_=hY("$ZodCheckLengthEquals",(a,b)=>{var c;iY.init(a,b),(c=a._zod.def).when??(c.when=a=>{let b=a.value;return null!=b&&void 0!==b.length}),a._zod.onattach.push(a=>{let c=a._zod.bag;c.minimum=b.length,c.maximum=b.length,c.length=b.length}),a._zod.check=c=>{let d=c.value,e=d.length;if(e===b.length)return;let f=iq(d),g=e>b.length;c.issues.push({origin:f,...g?{code:"too_big",maximum:b.length}:{code:"too_small",minimum:b.length},inclusive:!0,exact:!0,input:c.value,inst:a,continue:!b.abort})}}),i0=hY("$ZodCheckStringFormat",(a,b)=>{var c,d;iY.init(a,b),a._zod.onattach.push(a=>{let c=a._zod.bag;c.format=b.format,b.pattern&&(c.patterns??(c.patterns=new Set),c.patterns.add(b.pattern))}),b.pattern?(c=a._zod).check??(c.check=c=>{b.pattern.lastIndex=0,b.pattern.test(c.value)||c.issues.push({origin:"string",code:"invalid_format",format:b.format,input:c.value,...b.pattern?{pattern:b.pattern.toString()}:{},inst:a,continue:!b.abort})}):(d=a._zod).check??(d.check=()=>{})}),i1=hY("$ZodCheckRegex",(a,b)=>{i0.init(a,b),a._zod.check=c=>{b.pattern.lastIndex=0,b.pattern.test(c.value)||c.issues.push({origin:"string",code:"invalid_format",format:"regex",input:c.value,pattern:b.pattern.toString(),inst:a,continue:!b.abort})}}),i2=hY("$ZodCheckLowerCase",(a,b)=>{b.pattern??(b.pattern=iW),i0.init(a,b)}),i3=hY("$ZodCheckUpperCase",(a,b)=>{b.pattern??(b.pattern=iX),i0.init(a,b)}),i4=hY("$ZodCheckIncludes",(a,b)=>{iY.init(a,b);let c=ih(b.includes),d=new RegExp("number"==typeof b.position?`^.{${b.position}}${c}`:c);b.pattern=d,a._zod.onattach.push(a=>{let b=a._zod.bag;b.patterns??(b.patterns=new Set),b.patterns.add(d)}),a._zod.check=c=>{c.value.includes(b.includes,b.position)||c.issues.push({origin:"string",code:"invalid_format",format:"includes",includes:b.includes,input:c.value,inst:a,continue:!b.abort})}}),i5=hY("$ZodCheckStartsWith",(a,b)=>{iY.init(a,b);let c=RegExp(`^${ih(b.prefix)}.*`);b.pattern??(b.pattern=c),a._zod.onattach.push(a=>{let b=a._zod.bag;b.patterns??(b.patterns=new Set),b.patterns.add(c)}),a._zod.check=c=>{c.value.startsWith(b.prefix)||c.issues.push({origin:"string",code:"invalid_format",format:"starts_with",prefix:b.prefix,input:c.value,inst:a,continue:!b.abort})}}),i6=hY("$ZodCheckEndsWith",(a,b)=>{iY.init(a,b);let c=RegExp(`.*${ih(b.suffix)}$`);b.pattern??(b.pattern=c),a._zod.onattach.push(a=>{let b=a._zod.bag;b.patterns??(b.patterns=new Set),b.patterns.add(c)}),a._zod.check=c=>{c.value.endsWith(b.suffix)||c.issues.push({origin:"string",code:"invalid_format",format:"ends_with",suffix:b.suffix,input:c.value,inst:a,continue:!b.abort})}}),i7=hY("$ZodCheckOverwrite",(a,b)=>{iY.init(a,b),a._zod.check=a=>{a.value=b.tx(a.value)}});class i8{constructor(a=[]){this.content=[],this.indent=0,this&&(this.args=a)}indented(a){this.indent+=1,a(this),this.indent-=1}write(a){if("function"==typeof a){a(this,{execution:"sync"}),a(this,{execution:"async"});return}let b=a.split("\n").filter(a=>a),c=Math.min(...b.map(a=>a.length-a.trimStart().length));for(let a of b.map(a=>a.slice(c)).map(a=>" ".repeat(2*this.indent)+a))this.content.push(a)}compile(){return Function(...this?.args,[...(this?.content??[""]).map(a=>`  ${a}`)].join("\n"))}}let i9={major:4,minor:1,patch:12},ja=hY("$ZodType",(a,b)=>{var c;a??(a={}),a._zod.def=b,a._zod.bag=a._zod.bag||{},a._zod.version=i9;let d=[...a._zod.def.checks??[]];for(let b of(a._zod.traits.has("$ZodCheck")&&d.unshift(a),d))for(let c of b._zod.onattach)c(a);if(0===d.length)(c=a._zod).deferred??(c.deferred=[]),a._zod.deferred?.push(()=>{a._zod.run=a._zod.parse});else{let b=(a,b,c)=>{let d,e=il(a);for(let f of b){if(f._zod.def.when){if(!f._zod.def.when(a))continue}else if(e)continue;let b=a.issues.length,g=f._zod.check(a);if(g instanceof Promise&&c?.async===!1)throw new hZ;if(d||g instanceof Promise)d=(d??Promise.resolve()).then(async()=>{await g,a.issues.length!==b&&(e||(e=il(a,b)))});else{if(a.issues.length===b)continue;e||(e=il(a,b))}}return d?d.then(()=>a):a},c=(c,e,f)=>{if(il(c))return c.aborted=!0,c;let g=b(e,d,f);if(g instanceof Promise){if(!1===f.async)throw new hZ;return g.then(b=>a._zod.parse(b,f))}return a._zod.parse(g,f)};a._zod.run=(e,f)=>{if(f.skipChecks)return a._zod.parse(e,f);if("backward"===f.direction){let b=a._zod.parse({value:e.value,issues:[]},{...f,skipChecks:!0});return b instanceof Promise?b.then(a=>c(a,e,f)):c(b,e,f)}let g=a._zod.parse(e,f);if(g instanceof Promise){if(!1===f.async)throw new hZ;return g.then(a=>b(a,d,f))}return b(g,d,f)}}a["~standard"]={validate:b=>{try{let c=iy(a,b);return c.success?{value:c.data}:{issues:c.error?.issues}}catch(c){return iA(a,b).then(a=>a.success?{value:a.data}:{issues:a.error?.issues})}},vendor:"zod",version:1}}),jb=hY("$ZodString",(a,b)=>{var c;let d;ja.init(a,b),a._zod.pattern=[...a?._zod.bag?.patterns??[]].pop()??(d=(c=a._zod.bag)?`[\\s\\S]{${c?.minimum??0},${c?.maximum??""}}`:"[\\s\\S]*",RegExp(`^${d}$`)),a._zod.parse=(c,d)=>{if(b.coerce)try{c.value=String(c.value)}catch(a){}return"string"==typeof c.value||c.issues.push({expected:"string",code:"invalid_type",input:c.value,inst:a}),c}}),jc=hY("$ZodStringFormat",(a,b)=>{i0.init(a,b),jb.init(a,b)}),jd=hY("$ZodGUID",(a,b)=>{b.pattern??(b.pattern=iI),jc.init(a,b)}),je=hY("$ZodUUID",(a,b)=>{if(b.version){let a={v1:1,v2:2,v3:3,v4:4,v5:5,v6:6,v7:7,v8:8}[b.version];if(void 0===a)throw Error(`Invalid UUID version: "${b.version}"`);b.pattern??(b.pattern=iJ(a))}else b.pattern??(b.pattern=iJ());jc.init(a,b)}),jf=hY("$ZodEmail",(a,b)=>{b.pattern??(b.pattern=iK),jc.init(a,b)}),jg=hY("$ZodURL",(a,b)=>{jc.init(a,b),a._zod.check=c=>{try{let d=c.value.trim(),e=new URL(d);b.hostname&&(b.hostname.lastIndex=0,b.hostname.test(e.hostname)||c.issues.push({code:"invalid_format",format:"url",note:"Invalid hostname",pattern:iR.source,input:c.value,inst:a,continue:!b.abort})),b.protocol&&(b.protocol.lastIndex=0,b.protocol.test(e.protocol.endsWith(":")?e.protocol.slice(0,-1):e.protocol)||c.issues.push({code:"invalid_format",format:"url",note:"Invalid protocol",pattern:b.protocol.source,input:c.value,inst:a,continue:!b.abort})),b.normalize?c.value=e.href:c.value=d;return}catch(d){c.issues.push({code:"invalid_format",format:"url",input:c.value,inst:a,continue:!b.abort})}}}),jh=hY("$ZodEmoji",(a,b)=>{b.pattern??(b.pattern=RegExp("^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$","u")),jc.init(a,b)}),ji=hY("$ZodNanoID",(a,b)=>{b.pattern??(b.pattern=iG),jc.init(a,b)}),jj=hY("$ZodCUID",(a,b)=>{b.pattern??(b.pattern=iB),jc.init(a,b)}),jk=hY("$ZodCUID2",(a,b)=>{b.pattern??(b.pattern=iC),jc.init(a,b)}),jl=hY("$ZodULID",(a,b)=>{b.pattern??(b.pattern=iD),jc.init(a,b)}),jm=hY("$ZodXID",(a,b)=>{b.pattern??(b.pattern=iE),jc.init(a,b)}),jn=hY("$ZodKSUID",(a,b)=>{b.pattern??(b.pattern=iF),jc.init(a,b)}),jo=hY("$ZodISODateTime",(a,b)=>{let c,d,e;b.pattern??(c=iV({precision:b.precision}),d=["Z"],b.local&&d.push(""),b.offset&&d.push("([+-](?:[01]\\d|2[0-3]):[0-5]\\d)"),e=`${c}(?:${d.join("|")})`,b.pattern=RegExp(`^${iT}T(?:${e})$`)),jc.init(a,b)}),jp=hY("$ZodISODate",(a,b)=>{b.pattern??(b.pattern=iU),jc.init(a,b)}),jq=hY("$ZodISOTime",(a,b)=>{b.pattern??(b.pattern=RegExp(`^${iV(b)}$`)),jc.init(a,b)}),jr=hY("$ZodISODuration",(a,b)=>{b.pattern??(b.pattern=iH),jc.init(a,b)}),js=hY("$ZodIPv4",(a,b)=>{b.pattern??(b.pattern=iL),jc.init(a,b),a._zod.onattach.push(a=>{a._zod.bag.format="ipv4"})}),jt=hY("$ZodIPv6",(a,b)=>{b.pattern??(b.pattern=iM),jc.init(a,b),a._zod.onattach.push(a=>{a._zod.bag.format="ipv6"}),a._zod.check=c=>{try{new URL(`http://[${c.value}]`)}catch{c.issues.push({code:"invalid_format",format:"ipv6",input:c.value,inst:a,continue:!b.abort})}}}),ju=hY("$ZodCIDRv4",(a,b)=>{b.pattern??(b.pattern=iN),jc.init(a,b)}),jv=hY("$ZodCIDRv6",(a,b)=>{b.pattern??(b.pattern=iO),jc.init(a,b),a._zod.check=c=>{let d=c.value.split("/");try{if(2!==d.length)throw Error();let[a,b]=d;if(!b)throw Error();let c=Number(b);if(`${c}`!==b||c<0||c>128)throw Error();new URL(`http://[${a}]`)}catch{c.issues.push({code:"invalid_format",format:"cidrv6",input:c.value,inst:a,continue:!b.abort})}}});function jw(a){if(""===a)return!0;if(a.length%4!=0)return!1;try{return atob(a),!0}catch{return!1}}let jx=hY("$ZodBase64",(a,b)=>{b.pattern??(b.pattern=iP),jc.init(a,b),a._zod.onattach.push(a=>{a._zod.bag.contentEncoding="base64"}),a._zod.check=c=>{jw(c.value)||c.issues.push({code:"invalid_format",format:"base64",input:c.value,inst:a,continue:!b.abort})}}),jy=hY("$ZodBase64URL",(a,b)=>{b.pattern??(b.pattern=iQ),jc.init(a,b),a._zod.onattach.push(a=>{a._zod.bag.contentEncoding="base64url"}),a._zod.check=c=>{!function(a){if(!iQ.test(a))return!1;let b=a.replace(/[-_]/g,a=>"-"===a?"+":"/");return jw(b.padEnd(4*Math.ceil(b.length/4),"="))}(c.value)&&c.issues.push({code:"invalid_format",format:"base64url",input:c.value,inst:a,continue:!b.abort})}}),jz=hY("$ZodE164",(a,b)=>{b.pattern??(b.pattern=iS),jc.init(a,b)}),jA=hY("$ZodJWT",(a,b)=>{jc.init(a,b),a._zod.check=c=>{!function(a,b=null){try{let c=a.split(".");if(3!==c.length)return!1;let[d]=c;if(!d)return!1;let e=JSON.parse(atob(d));if("typ"in e&&e?.typ!=="JWT"||!e.alg||b&&(!("alg"in e)||e.alg!==b))return!1;return!0}catch{return!1}}(c.value,b.alg)&&c.issues.push({code:"invalid_format",format:"jwt",input:c.value,inst:a,continue:!b.abort})}}),jB=hY("$ZodUnknown",(a,b)=>{ja.init(a,b),a._zod.parse=a=>a}),jC=hY("$ZodNever",(a,b)=>{ja.init(a,b),a._zod.parse=(b,c)=>(b.issues.push({expected:"never",code:"invalid_type",input:b.value,inst:a}),b)});function jD(a,b,c){a.issues.length&&b.issues.push(...im(c,a.issues)),b.value[c]=a.value}let jE=hY("$ZodArray",(a,b)=>{ja.init(a,b),a._zod.parse=(c,d)=>{let e=c.value;if(!Array.isArray(e))return c.issues.push({expected:"array",code:"invalid_type",input:e,inst:a}),c;c.value=Array(e.length);let f=[];for(let a=0;a<e.length;a++){let g=e[a],h=b.element._zod.run({value:g,issues:[]},d);h instanceof Promise?f.push(h.then(b=>jD(b,c,a))):jD(h,c,a)}return f.length?Promise.all(f).then(()=>c):c}});function jF(a,b,c,d){a.issues.length&&b.issues.push(...im(c,a.issues)),void 0===a.value?c in d&&(b.value[c]=void 0):b.value[c]=a.value}function jG(a){var b;let c=Object.keys(a.shape);for(let b of c)if(!a.shape?.[b]?._zod?.traits?.has("$ZodType"))throw Error(`Invalid element at key "${b}": expected a Zod schema`);let d=Object.keys(b=a.shape).filter(a=>"optional"===b[a]._zod.optin&&"optional"===b[a]._zod.optout);return{...a,keys:c,keySet:new Set(c),numKeys:c.length,optionalKeys:new Set(d)}}function jH(a,b,c,d,e,f){let g=[],h=e.keySet,i=e.catchall._zod,j=i.def.type;for(let e of Object.keys(b)){if(h.has(e))continue;if("never"===j){g.push(e);continue}let f=i.run({value:b[e],issues:[]},d);f instanceof Promise?a.push(f.then(a=>jF(a,c,e,b))):jF(f,c,e,b)}return(g.length&&c.issues.push({code:"unrecognized_keys",keys:g,input:b,inst:f}),a.length)?Promise.all(a).then(()=>c):c}let jI=hY("$ZodObject",(a,b)=>{let c;ja.init(a,b);let d=Object.getOwnPropertyDescriptor(b,"shape");if(!d?.get){let a=b.shape;Object.defineProperty(b,"shape",{get:()=>{let c={...a};return Object.defineProperty(b,"shape",{value:c}),c}})}let e=h3(()=>jG(b));h6(a._zod,"propValues",()=>{let a=b.shape,c={};for(let b in a){let d=a[b]._zod;if(d.values)for(let a of(c[b]??(c[b]=new Set),d.values))c[b].add(a)}return c});let f=b.catchall;a._zod.parse=(b,d)=>{c??(c=e.value);let g=b.value;if(!ib(g))return b.issues.push({expected:"object",code:"invalid_type",input:g,inst:a}),b;b.value={};let h=[],i=c.shape;for(let a of c.keys){let c=i[a]._zod.run({value:g[a],issues:[]},d);c instanceof Promise?h.push(c.then(c=>jF(c,b,a,g))):jF(c,b,a,g)}return f?jH(h,g,b,d,e.value,a):h.length?Promise.all(h).then(()=>b):b}}),jJ=hY("$ZodObjectJIT",(a,b)=>{let c,d;jI.init(a,b);let e=a._zod.parse,f=h3(()=>jG(b)),g=!h_.jitless,h=g&&ic.value,i=b.catchall;a._zod.parse=(j,k)=>{d??(d=f.value);let l=j.value;return ib(l)?g&&h&&k?.async===!1&&!0!==k.jitless?(c||(c=(a=>{let b=new i8(["shape","payload","ctx"]),c=f.value,d=a=>{let b=h9(a);return`shape[${b}]._zod.run({ value: input[${b}], issues: [] }, ctx)`};b.write("const input = payload.value;");let e=Object.create(null),g=0;for(let a of c.keys)e[a]=`key_${g++}`;for(let a of(b.write("const newResult = {};"),c.keys)){let c=e[a],f=h9(a);b.write(`const ${c} = ${d(a)};`),b.write(`
        if (${c}.issues.length) {
          payload.issues = payload.issues.concat(${c}.issues.map(iss => ({
            ...iss,
            path: iss.path ? [${f}, ...iss.path] : [${f}]
          })));
        }
        
        
        if (${c}.value === undefined) {
          if (${f} in input) {
            newResult[${f}] = undefined;
          }
        } else {
          newResult[${f}] = ${c}.value;
        }
        
      `)}b.write("payload.value = newResult;"),b.write("return payload;");let h=b.compile();return(b,c)=>h(a,b,c)})(b.shape)),j=c(j,k),i)?jH([],l,j,k,d,a):j:e(j,k):(j.issues.push({expected:"object",code:"invalid_type",input:l,inst:a}),j)}});function jK(a,b,c,d){for(let c of a)if(0===c.issues.length)return b.value=c.value,b;let e=a.filter(a=>!il(a));return 1===e.length?(b.value=e[0].value,e[0]):(b.issues.push({code:"invalid_union",input:b.value,inst:c,errors:a.map(a=>a.issues.map(a=>ip(a,d,h0())))}),b)}let jL=hY("$ZodUnion",(a,b)=>{ja.init(a,b),h6(a._zod,"optin",()=>b.options.some(a=>"optional"===a._zod.optin)?"optional":void 0),h6(a._zod,"optout",()=>b.options.some(a=>"optional"===a._zod.optout)?"optional":void 0),h6(a._zod,"values",()=>{if(b.options.every(a=>a._zod.values))return new Set(b.options.flatMap(a=>Array.from(a._zod.values)))}),h6(a._zod,"pattern",()=>{if(b.options.every(a=>a._zod.pattern)){let a=b.options.map(a=>a._zod.pattern);return RegExp(`^(${a.map(a=>h4(a.source)).join("|")})$`)}});let c=1===b.options.length,d=b.options[0]._zod.run;a._zod.parse=(e,f)=>{if(c)return d(e,f);let g=!1,h=[];for(let a of b.options){let b=a._zod.run({value:e.value,issues:[]},f);if(b instanceof Promise)h.push(b),g=!0;else{if(0===b.issues.length)return b;h.push(b)}}return g?Promise.all(h).then(b=>jK(b,e,a,f)):jK(h,e,a,f)}}),jM=hY("$ZodIntersection",(a,b)=>{ja.init(a,b),a._zod.parse=(a,c)=>{let d=a.value,e=b.left._zod.run({value:d,issues:[]},c),f=b.right._zod.run({value:d,issues:[]},c);return e instanceof Promise||f instanceof Promise?Promise.all([e,f]).then(([b,c])=>jN(a,b,c)):jN(a,e,f)}});function jN(a,b,c){if(b.issues.length&&a.issues.push(...b.issues),c.issues.length&&a.issues.push(...c.issues),il(a))return a;let d=function a(b,c){if(b===c||b instanceof Date&&c instanceof Date&&+b==+c)return{valid:!0,data:b};if(id(b)&&id(c)){let d=Object.keys(c),e=Object.keys(b).filter(a=>-1!==d.indexOf(a)),f={...b,...c};for(let d of e){let e=a(b[d],c[d]);if(!e.valid)return{valid:!1,mergeErrorPath:[d,...e.mergeErrorPath]};f[d]=e.data}return{valid:!0,data:f}}if(Array.isArray(b)&&Array.isArray(c)){if(b.length!==c.length)return{valid:!1,mergeErrorPath:[]};let d=[];for(let e=0;e<b.length;e++){let f=a(b[e],c[e]);if(!f.valid)return{valid:!1,mergeErrorPath:[e,...f.mergeErrorPath]};d.push(f.data)}return{valid:!0,data:d}}return{valid:!1,mergeErrorPath:[]}}(b.value,c.value);if(!d.valid)throw Error(`Unmergable intersection. Error path: ${JSON.stringify(d.mergeErrorPath)}`);return a.value=d.data,a}let jO=hY("$ZodEnum",(a,b)=>{var c;let d;ja.init(a,b);let e=(d=Object.values(c=b.entries).filter(a=>"number"==typeof a),Object.entries(c).filter(([a,b])=>-1===d.indexOf(+a)).map(([a,b])=>b)),f=new Set(e);a._zod.values=f,a._zod.pattern=RegExp(`^(${e.filter(a=>ig.has(typeof a)).map(a=>"string"==typeof a?ih(a):a.toString()).join("|")})$`),a._zod.parse=(b,c)=>{let d=b.value;return f.has(d)||b.issues.push({code:"invalid_value",values:e,input:d,inst:a}),b}}),jP=hY("$ZodTransform",(a,b)=>{ja.init(a,b),a._zod.parse=(c,d)=>{if("backward"===d.direction)throw new h$(a.constructor.name);let e=b.transform(c.value,c);if(d.async)return(e instanceof Promise?e:Promise.resolve(e)).then(a=>(c.value=a,c));if(e instanceof Promise)throw new hZ;return c.value=e,c}});function jQ(a,b){return a.issues.length&&void 0===b?{issues:[],value:void 0}:a}let jR=hY("$ZodOptional",(a,b)=>{ja.init(a,b),a._zod.optin="optional",a._zod.optout="optional",h6(a._zod,"values",()=>b.innerType._zod.values?new Set([...b.innerType._zod.values,void 0]):void 0),h6(a._zod,"pattern",()=>{let a=b.innerType._zod.pattern;return a?RegExp(`^(${h4(a.source)})?$`):void 0}),a._zod.parse=(a,c)=>{if("optional"===b.innerType._zod.optin){let d=b.innerType._zod.run(a,c);return d instanceof Promise?d.then(b=>jQ(b,a.value)):jQ(d,a.value)}return void 0===a.value?a:b.innerType._zod.run(a,c)}}),jS=hY("$ZodNullable",(a,b)=>{ja.init(a,b),h6(a._zod,"optin",()=>b.innerType._zod.optin),h6(a._zod,"optout",()=>b.innerType._zod.optout),h6(a._zod,"pattern",()=>{let a=b.innerType._zod.pattern;return a?RegExp(`^(${h4(a.source)}|null)$`):void 0}),h6(a._zod,"values",()=>b.innerType._zod.values?new Set([...b.innerType._zod.values,null]):void 0),a._zod.parse=(a,c)=>null===a.value?a:b.innerType._zod.run(a,c)}),jT=hY("$ZodDefault",(a,b)=>{ja.init(a,b),a._zod.optin="optional",h6(a._zod,"values",()=>b.innerType._zod.values),a._zod.parse=(a,c)=>{if("backward"===c.direction)return b.innerType._zod.run(a,c);if(void 0===a.value)return a.value=b.defaultValue,a;let d=b.innerType._zod.run(a,c);return d instanceof Promise?d.then(a=>jU(a,b)):jU(d,b)}});function jU(a,b){return void 0===a.value&&(a.value=b.defaultValue),a}let jV=hY("$ZodPrefault",(a,b)=>{ja.init(a,b),a._zod.optin="optional",h6(a._zod,"values",()=>b.innerType._zod.values),a._zod.parse=(a,c)=>("backward"===c.direction||void 0===a.value&&(a.value=b.defaultValue),b.innerType._zod.run(a,c))}),jW=hY("$ZodNonOptional",(a,b)=>{ja.init(a,b),h6(a._zod,"values",()=>{let a=b.innerType._zod.values;return a?new Set([...a].filter(a=>void 0!==a)):void 0}),a._zod.parse=(c,d)=>{let e=b.innerType._zod.run(c,d);return e instanceof Promise?e.then(b=>jX(b,a)):jX(e,a)}});function jX(a,b){return a.issues.length||void 0!==a.value||a.issues.push({code:"invalid_type",expected:"nonoptional",input:a.value,inst:b}),a}let jY=hY("$ZodCatch",(a,b)=>{ja.init(a,b),h6(a._zod,"optin",()=>b.innerType._zod.optin),h6(a._zod,"optout",()=>b.innerType._zod.optout),h6(a._zod,"values",()=>b.innerType._zod.values),a._zod.parse=(a,c)=>{if("backward"===c.direction)return b.innerType._zod.run(a,c);let d=b.innerType._zod.run(a,c);return d instanceof Promise?d.then(d=>(a.value=d.value,d.issues.length&&(a.value=b.catchValue({...a,error:{issues:d.issues.map(a=>ip(a,c,h0()))},input:a.value}),a.issues=[]),a)):(a.value=d.value,d.issues.length&&(a.value=b.catchValue({...a,error:{issues:d.issues.map(a=>ip(a,c,h0()))},input:a.value}),a.issues=[]),a)}}),jZ=hY("$ZodPipe",(a,b)=>{ja.init(a,b),h6(a._zod,"values",()=>b.in._zod.values),h6(a._zod,"optin",()=>b.in._zod.optin),h6(a._zod,"optout",()=>b.out._zod.optout),h6(a._zod,"propValues",()=>b.in._zod.propValues),a._zod.parse=(a,c)=>{if("backward"===c.direction){let d=b.out._zod.run(a,c);return d instanceof Promise?d.then(a=>j$(a,b.in,c)):j$(d,b.in,c)}let d=b.in._zod.run(a,c);return d instanceof Promise?d.then(a=>j$(a,b.out,c)):j$(d,b.out,c)}});function j$(a,b,c){return a.issues.length?(a.aborted=!0,a):b._zod.run({value:a.value,issues:a.issues},c)}let j_=hY("$ZodReadonly",(a,b)=>{ja.init(a,b),h6(a._zod,"propValues",()=>b.innerType._zod.propValues),h6(a._zod,"values",()=>b.innerType._zod.values),h6(a._zod,"optin",()=>b.innerType._zod.optin),h6(a._zod,"optout",()=>b.innerType._zod.optout),a._zod.parse=(a,c)=>{if("backward"===c.direction)return b.innerType._zod.run(a,c);let d=b.innerType._zod.run(a,c);return d instanceof Promise?d.then(j0):j0(d)}});function j0(a){return a.value=Object.freeze(a.value),a}let j1=hY("$ZodCustom",(a,b)=>{iY.init(a,b),ja.init(a,b),a._zod.parse=(a,b)=>a,a._zod.check=c=>{let d=c.value,e=b.fn(d);if(e instanceof Promise)return e.then(b=>j2(b,c,d,a));j2(e,c,d,a)}});function j2(a,b,c,d){if(!a){let a={code:"custom",input:c,inst:d,path:[...d._zod.def.path??[]],continue:!d._zod.def.abort};d._zod.def.params&&(a.params=d._zod.def.params),b.issues.push(ir(a))}}Symbol("ZodOutput"),Symbol("ZodInput");class j3{constructor(){this._map=new WeakMap,this._idmap=new Map}add(a,...b){let c=b[0];if(this._map.set(a,c),c&&"object"==typeof c&&"id"in c){if(this._idmap.has(c.id))throw Error(`ID ${c.id} already exists in the registry`);this._idmap.set(c.id,a)}return this}clear(){return this._map=new WeakMap,this._idmap=new Map,this}remove(a){let b=this._map.get(a);return b&&"object"==typeof b&&"id"in b&&this._idmap.delete(b.id),this._map.delete(a),this}get(a){let b=a._zod.parent;if(b){let c={...this.get(b)??{}};delete c.id;let d={...c,...this._map.get(a)};return Object.keys(d).length?d:void 0}return this._map.get(a)}has(a){return this._map.has(a)}}let j4=new j3;function j5(a,b){return new a({type:"string",format:"guid",check:"string_format",abort:!1,...ij(b)})}function j6(a,b){return new iZ({check:"max_length",...ij(b),maximum:a})}function j7(a,b){return new i$({check:"min_length",...ij(b),minimum:a})}function j8(a,b){return new i_({check:"length_equals",...ij(b),length:a})}function j9(a){return new i7({check:"overwrite",tx:a})}let ka=hY("ZodISODateTime",(a,b)=>{jo.init(a,b),kw.init(a,b)}),kb=hY("ZodISODate",(a,b)=>{jp.init(a,b),kw.init(a,b)}),kc=hY("ZodISOTime",(a,b)=>{jq.init(a,b),kw.init(a,b)}),kd=hY("ZodISODuration",(a,b)=>{jr.init(a,b),kw.init(a,b)}),ke=(a,b)=>{it.init(a,b),a.name="ZodError",Object.defineProperties(a,{format:{value:b=>(function(a,b=a=>a.message){let c={_errors:[]},d=a=>{for(let e of a.issues)if("invalid_union"===e.code&&e.errors.length)e.errors.map(a=>d({issues:a}));else if("invalid_key"===e.code)d({issues:e.issues});else if("invalid_element"===e.code)d({issues:e.issues});else if(0===e.path.length)c._errors.push(b(e));else{let a=c,d=0;for(;d<e.path.length;){let c=e.path[d];d===e.path.length-1?(a[c]=a[c]||{_errors:[]},a[c]._errors.push(b(e))):a[c]=a[c]||{_errors:[]},a=a[c],d++}}};return d(a),c})(a,b)},flatten:{value:b=>(function(a,b=a=>a.message){let c={},d=[];for(let e of a.issues)e.path.length>0?(c[e.path[0]]=c[e.path[0]]||[],c[e.path[0]].push(b(e))):d.push(b(e));return{formErrors:d,fieldErrors:c}})(a,b)},addIssue:{value:b=>{a.issues.push(b),a.message=JSON.stringify(a.issues,h2,2)}},addIssues:{value:b=>{a.issues.push(...b),a.message=JSON.stringify(a.issues,h2,2)}},isEmpty:{get:()=>0===a.issues.length}})};hY("ZodError",ke);let kf=hY("ZodError",ke,{Parent:Error}),kg=iv(kf),kh=iw(kf),ki=ix(kf),kj=iz(kf),kk=(a,b,c)=>{let d=c?Object.assign(c,{direction:"backward"}):{direction:"backward"};return iv(kf)(a,b,d)},kl=(a,b,c)=>iv(kf)(a,b,c),km=async(a,b,c)=>{let d=c?Object.assign(c,{direction:"backward"}):{direction:"backward"};return iw(kf)(a,b,d)},kn=async(a,b,c)=>iw(kf)(a,b,c),ko=(a,b,c)=>{let d=c?Object.assign(c,{direction:"backward"}):{direction:"backward"};return ix(kf)(a,b,d)},kp=(a,b,c)=>ix(kf)(a,b,c),kq=async(a,b,c)=>{let d=c?Object.assign(c,{direction:"backward"}):{direction:"backward"};return iz(kf)(a,b,d)},kr=async(a,b,c)=>iz(kf)(a,b,c),ks=hY("ZodType",(a,b)=>(ja.init(a,b),a.def=b,a.type=b.type,Object.defineProperty(a,"_def",{value:b}),a.check=(...c)=>a.clone(h8(b,{checks:[...b.checks??[],...c.map(a=>"function"==typeof a?{_zod:{check:a,def:{check:"custom"},onattach:[]}}:a)]})),a.clone=(b,c)=>ii(a,b,c),a.brand=()=>a,a.register=(b,c)=>(b.add(a,c),a),a.parse=(b,c)=>kg(a,b,c,{callee:a.parse}),a.safeParse=(b,c)=>ki(a,b,c),a.parseAsync=async(b,c)=>kh(a,b,c,{callee:a.parseAsync}),a.safeParseAsync=async(b,c)=>kj(a,b,c),a.spa=a.safeParseAsync,a.encode=(b,c)=>kk(a,b,c),a.decode=(b,c)=>kl(a,b,c),a.encodeAsync=async(b,c)=>km(a,b,c),a.decodeAsync=async(b,c)=>kn(a,b,c),a.safeEncode=(b,c)=>ko(a,b,c),a.safeDecode=(b,c)=>kp(a,b,c),a.safeEncodeAsync=async(b,c)=>kq(a,b,c),a.safeDecodeAsync=async(b,c)=>kr(a,b,c),a.refine=(b,c)=>a.check(function(a,b={}){return new k9({type:"custom",check:"custom",fn:a,...ij(b)})}(b,c)),a.superRefine=b=>a.check(function(a){var b;let c,d;return b=b=>(b.addIssue=a=>{"string"==typeof a?b.issues.push(ir(a,b.value,c._zod.def)):(a.fatal&&(a.continue=!1),a.code??(a.code="custom"),a.input??(a.input=b.value),a.inst??(a.inst=c),a.continue??(a.continue=!c._zod.def.abort),b.issues.push(ir(a)))},a(b.value,b)),(d=new iY({check:"custom",...ij(void 0)}))._zod.check=b,c=d}(b)),a.overwrite=b=>a.check(j9(b)),a.optional=()=>k_(a),a.nullable=()=>k1(a),a.nullish=()=>k_(k1(a)),a.nonoptional=b=>new k4({type:"nonoptional",innerType:a,...ij(b)}),a.array=()=>(function(a,b){return new kT({type:"array",element:a,...ij(void 0)})})(a),a.or=b=>new kV({type:"union",options:[a,b],...ij(void 0)}),a.and=b=>new kW({type:"intersection",left:a,right:b}),a.transform=b=>k7(a,new kZ({type:"transform",transform:b})),a.default=b=>{var c,d;return c=a,d=b,new k2({type:"default",innerType:c,get defaultValue(){return"function"==typeof d?d():ie(d)}})},a.prefault=b=>{var c,d;return c=a,d=b,new k3({type:"prefault",innerType:c,get defaultValue(){return"function"==typeof d?d():ie(d)}})},a.catch=b=>{var c;return new k5({type:"catch",innerType:a,catchValue:"function"==typeof(c=b)?c:()=>c})},a.pipe=b=>k7(a,b),a.readonly=()=>new k8({type:"readonly",innerType:a}),a.describe=b=>{let c=a.clone();return j4.add(c,{description:b}),c},Object.defineProperty(a,"description",{get:()=>j4.get(a)?.description,configurable:!0}),a.meta=(...b)=>{if(0===b.length)return j4.get(a);let c=a.clone();return j4.add(c,b[0]),c},a.isOptional=()=>a.safeParse(void 0).success,a.isNullable=()=>a.safeParse(null).success,a)),kt=hY("_ZodString",(a,b)=>{jb.init(a,b),ks.init(a,b);let c=a._zod.bag;a.format=c.format??null,a.minLength=c.minimum??null,a.maxLength=c.maximum??null,a.regex=(...b)=>a.check(function(a,b){return new i1({check:"string_format",format:"regex",...ij(b),pattern:a})}(...b)),a.includes=(...b)=>a.check(function(a,b){return new i4({check:"string_format",format:"includes",...ij(b),includes:a})}(...b)),a.startsWith=(...b)=>a.check(function(a,b){return new i5({check:"string_format",format:"starts_with",...ij(b),prefix:a})}(...b)),a.endsWith=(...b)=>a.check(function(a,b){return new i6({check:"string_format",format:"ends_with",...ij(b),suffix:a})}(...b)),a.min=(...b)=>a.check(j7(...b)),a.max=(...b)=>a.check(j6(...b)),a.length=(...b)=>a.check(j8(...b)),a.nonempty=(...b)=>a.check(j7(1,...b)),a.lowercase=b=>a.check(new i2({check:"string_format",format:"lowercase",...ij(b)})),a.uppercase=b=>a.check(new i3({check:"string_format",format:"uppercase",...ij(b)})),a.trim=()=>a.check(j9(a=>a.trim())),a.normalize=(...b)=>a.check(function(a){return j9(b=>b.normalize(a))}(...b)),a.toLowerCase=()=>a.check(j9(a=>a.toLowerCase())),a.toUpperCase=()=>a.check(j9(a=>a.toUpperCase()))}),ku=hY("ZodString",(a,b)=>{jb.init(a,b),kt.init(a,b),a.email=b=>a.check(new kx({type:"string",format:"email",check:"string_format",abort:!1,...ij(b)})),a.url=b=>a.check(new kA({type:"string",format:"url",check:"string_format",abort:!1,...ij(b)})),a.jwt=b=>a.check(new kP({type:"string",format:"jwt",check:"string_format",abort:!1,...ij(b)})),a.emoji=b=>a.check(new kB({type:"string",format:"emoji",check:"string_format",abort:!1,...ij(b)})),a.guid=b=>a.check(j5(ky,b)),a.uuid=b=>a.check(new kz({type:"string",format:"uuid",check:"string_format",abort:!1,...ij(b)})),a.uuidv4=b=>a.check(new kz({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v4",...ij(b)})),a.uuidv6=b=>a.check(new kz({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v6",...ij(b)})),a.uuidv7=b=>a.check(new kz({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v7",...ij(b)})),a.nanoid=b=>a.check(new kC({type:"string",format:"nanoid",check:"string_format",abort:!1,...ij(b)})),a.guid=b=>a.check(j5(ky,b)),a.cuid=b=>a.check(new kD({type:"string",format:"cuid",check:"string_format",abort:!1,...ij(b)})),a.cuid2=b=>a.check(new kE({type:"string",format:"cuid2",check:"string_format",abort:!1,...ij(b)})),a.ulid=b=>a.check(new kF({type:"string",format:"ulid",check:"string_format",abort:!1,...ij(b)})),a.base64=b=>a.check(new kM({type:"string",format:"base64",check:"string_format",abort:!1,...ij(b)})),a.base64url=b=>a.check(new kN({type:"string",format:"base64url",check:"string_format",abort:!1,...ij(b)})),a.xid=b=>a.check(new kG({type:"string",format:"xid",check:"string_format",abort:!1,...ij(b)})),a.ksuid=b=>a.check(new kH({type:"string",format:"ksuid",check:"string_format",abort:!1,...ij(b)})),a.ipv4=b=>a.check(new kI({type:"string",format:"ipv4",check:"string_format",abort:!1,...ij(b)})),a.ipv6=b=>a.check(new kJ({type:"string",format:"ipv6",check:"string_format",abort:!1,...ij(b)})),a.cidrv4=b=>a.check(new kK({type:"string",format:"cidrv4",check:"string_format",abort:!1,...ij(b)})),a.cidrv6=b=>a.check(new kL({type:"string",format:"cidrv6",check:"string_format",abort:!1,...ij(b)})),a.e164=b=>a.check(new kO({type:"string",format:"e164",check:"string_format",abort:!1,...ij(b)})),a.datetime=b=>a.check(new ka({type:"string",format:"datetime",check:"string_format",offset:!1,local:!1,precision:null,...ij(b)})),a.date=b=>a.check(new kb({type:"string",format:"date",check:"string_format",...ij(b)})),a.time=b=>a.check(new kc({type:"string",format:"time",check:"string_format",precision:null,...ij(b)})),a.duration=b=>a.check(new kd({type:"string",format:"duration",check:"string_format",...ij(b)}))});function kv(a){return new ku({type:"string",...ij(a)})}let kw=hY("ZodStringFormat",(a,b)=>{jc.init(a,b),kt.init(a,b)}),kx=hY("ZodEmail",(a,b)=>{jf.init(a,b),kw.init(a,b)}),ky=hY("ZodGUID",(a,b)=>{jd.init(a,b),kw.init(a,b)}),kz=hY("ZodUUID",(a,b)=>{je.init(a,b),kw.init(a,b)}),kA=hY("ZodURL",(a,b)=>{jg.init(a,b),kw.init(a,b)}),kB=hY("ZodEmoji",(a,b)=>{jh.init(a,b),kw.init(a,b)}),kC=hY("ZodNanoID",(a,b)=>{ji.init(a,b),kw.init(a,b)}),kD=hY("ZodCUID",(a,b)=>{jj.init(a,b),kw.init(a,b)}),kE=hY("ZodCUID2",(a,b)=>{jk.init(a,b),kw.init(a,b)}),kF=hY("ZodULID",(a,b)=>{jl.init(a,b),kw.init(a,b)}),kG=hY("ZodXID",(a,b)=>{jm.init(a,b),kw.init(a,b)}),kH=hY("ZodKSUID",(a,b)=>{jn.init(a,b),kw.init(a,b)}),kI=hY("ZodIPv4",(a,b)=>{js.init(a,b),kw.init(a,b)}),kJ=hY("ZodIPv6",(a,b)=>{jt.init(a,b),kw.init(a,b)}),kK=hY("ZodCIDRv4",(a,b)=>{ju.init(a,b),kw.init(a,b)}),kL=hY("ZodCIDRv6",(a,b)=>{jv.init(a,b),kw.init(a,b)}),kM=hY("ZodBase64",(a,b)=>{jx.init(a,b),kw.init(a,b)}),kN=hY("ZodBase64URL",(a,b)=>{jy.init(a,b),kw.init(a,b)}),kO=hY("ZodE164",(a,b)=>{jz.init(a,b),kw.init(a,b)}),kP=hY("ZodJWT",(a,b)=>{jA.init(a,b),kw.init(a,b)}),kQ=hY("ZodUnknown",(a,b)=>{jB.init(a,b),ks.init(a,b)});function kR(){return new kQ({type:"unknown"})}let kS=hY("ZodNever",(a,b)=>{jC.init(a,b),ks.init(a,b)}),kT=hY("ZodArray",(a,b)=>{jE.init(a,b),ks.init(a,b),a.element=b.element,a.min=(b,c)=>a.check(j7(b,c)),a.nonempty=b=>a.check(j7(1,b)),a.max=(b,c)=>a.check(j6(b,c)),a.length=(b,c)=>a.check(j8(b,c)),a.unwrap=()=>a.element}),kU=hY("ZodObject",(a,b)=>{jJ.init(a,b),ks.init(a,b),h6(a,"shape",()=>b.shape),a.keyof=()=>kY(Object.keys(a._zod.def.shape)),a.catchall=b=>a.clone({...a._zod.def,catchall:b}),a.passthrough=()=>a.clone({...a._zod.def,catchall:kR()}),a.loose=()=>a.clone({...a._zod.def,catchall:kR()}),a.strict=()=>a.clone({...a._zod.def,catchall:new kS({type:"never",...ij(void 0)})}),a.strip=()=>a.clone({...a._zod.def,catchall:void 0}),a.extend=b=>(function(a,b){if(!id(b))throw Error("Invalid input to extend: expected a plain object");let c=a._zod.def.checks;if(c&&c.length>0)throw Error("Object schemas containing refinements cannot be extended. Use `.safeExtend()` instead.");let d=h8(a._zod.def,{get shape(){let c={...a._zod.def.shape,...b};return h7(this,"shape",c),c},checks:[]});return ii(a,d)})(a,b),a.safeExtend=b=>(function(a,b){if(!id(b))throw Error("Invalid input to safeExtend: expected a plain object");let c={...a._zod.def,get shape(){let c={...a._zod.def.shape,...b};return h7(this,"shape",c),c},checks:a._zod.def.checks};return ii(a,c)})(a,b),a.merge=b=>{let c;return c=h8(a._zod.def,{get shape(){let c={...a._zod.def.shape,...b._zod.def.shape};return h7(this,"shape",c),c},get catchall(){return b._zod.def.catchall},checks:[]}),ii(a,c)},a.pick=b=>{let c,d;return c=a._zod.def,d=h8(a._zod.def,{get shape(){let a={};for(let d in b){if(!(d in c.shape))throw Error(`Unrecognized key: "${d}"`);b[d]&&(a[d]=c.shape[d])}return h7(this,"shape",a),a},checks:[]}),ii(a,d)},a.omit=b=>{let c,d;return c=a._zod.def,d=h8(a._zod.def,{get shape(){let d={...a._zod.def.shape};for(let a in b){if(!(a in c.shape))throw Error(`Unrecognized key: "${a}"`);b[a]&&delete d[a]}return h7(this,"shape",d),d},checks:[]}),ii(a,d)},a.partial=(...b)=>{var c;let d;return c=b[0],d=h8(a._zod.def,{get shape(){let b=a._zod.def.shape,d={...b};if(c)for(let a in c){if(!(a in b))throw Error(`Unrecognized key: "${a}"`);c[a]&&(d[a]=k$?new k$({type:"optional",innerType:b[a]}):b[a])}else for(let a in b)d[a]=k$?new k$({type:"optional",innerType:b[a]}):b[a];return h7(this,"shape",d),d},checks:[]}),ii(a,d)},a.required=(...b)=>{var c;let d;return c=b[0],d=h8(a._zod.def,{get shape(){let b=a._zod.def.shape,d={...b};if(c)for(let a in c){if(!(a in d))throw Error(`Unrecognized key: "${a}"`);c[a]&&(d[a]=new k4({type:"nonoptional",innerType:b[a]}))}else for(let a in b)d[a]=new k4({type:"nonoptional",innerType:b[a]});return h7(this,"shape",d),d},checks:[]}),ii(a,d)}}),kV=hY("ZodUnion",(a,b)=>{jL.init(a,b),ks.init(a,b),a.options=b.options}),kW=hY("ZodIntersection",(a,b)=>{jM.init(a,b),ks.init(a,b)}),kX=hY("ZodEnum",(a,b)=>{jO.init(a,b),ks.init(a,b),a.enum=b.entries,a.options=Object.values(b.entries);let c=new Set(Object.keys(b.entries));a.extract=(a,d)=>{let e={};for(let d of a)if(c.has(d))e[d]=b.entries[d];else throw Error(`Key ${d} not found in enum`);return new kX({...b,checks:[],...ij(d),entries:e})},a.exclude=(a,d)=>{let e={...b.entries};for(let b of a)if(c.has(b))delete e[b];else throw Error(`Key ${b} not found in enum`);return new kX({...b,checks:[],...ij(d),entries:e})}});function kY(a,b){return new kX({type:"enum",entries:Array.isArray(a)?Object.fromEntries(a.map(a=>[a,a])):a,...ij(b)})}let kZ=hY("ZodTransform",(a,b)=>{jP.init(a,b),ks.init(a,b),a._zod.parse=(c,d)=>{if("backward"===d.direction)throw new h$(a.constructor.name);c.addIssue=d=>{"string"==typeof d?c.issues.push(ir(d,c.value,b)):(d.fatal&&(d.continue=!1),d.code??(d.code="custom"),d.input??(d.input=c.value),d.inst??(d.inst=a),c.issues.push(ir(d)))};let e=b.transform(c.value,c);return e instanceof Promise?e.then(a=>(c.value=a,c)):(c.value=e,c)}}),k$=hY("ZodOptional",(a,b)=>{jR.init(a,b),ks.init(a,b),a.unwrap=()=>a._zod.def.innerType});function k_(a){return new k$({type:"optional",innerType:a})}let k0=hY("ZodNullable",(a,b)=>{jS.init(a,b),ks.init(a,b),a.unwrap=()=>a._zod.def.innerType});function k1(a){return new k0({type:"nullable",innerType:a})}let k2=hY("ZodDefault",(a,b)=>{jT.init(a,b),ks.init(a,b),a.unwrap=()=>a._zod.def.innerType,a.removeDefault=a.unwrap}),k3=hY("ZodPrefault",(a,b)=>{jV.init(a,b),ks.init(a,b),a.unwrap=()=>a._zod.def.innerType}),k4=hY("ZodNonOptional",(a,b)=>{jW.init(a,b),ks.init(a,b),a.unwrap=()=>a._zod.def.innerType}),k5=hY("ZodCatch",(a,b)=>{jY.init(a,b),ks.init(a,b),a.unwrap=()=>a._zod.def.innerType,a.removeCatch=a.unwrap}),k6=hY("ZodPipe",(a,b)=>{jZ.init(a,b),ks.init(a,b),a.in=b.in,a.out=b.out});function k7(a,b){return new k6({type:"pipe",in:a,out:b})}let k8=hY("ZodReadonly",(a,b)=>{j_.init(a,b),ks.init(a,b),a.unwrap=()=>a._zod.def.innerType}),k9=hY("ZodCustom",(a,b)=>{j1.init(a,b),ks.init(a,b)});o||(o={}),h0({localeError:(l={string:{unit:"characters",verb:"to have"},file:{unit:"bytes",verb:"to have"},array:{unit:"items",verb:"to have"},set:{unit:"items",verb:"to have"}},m={regex:"input",email:"email address",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO datetime",date:"ISO date",time:"ISO time",duration:"ISO duration",ipv4:"IPv4 address",ipv6:"IPv6 address",cidrv4:"IPv4 range",cidrv6:"IPv6 range",base64:"base64-encoded string",base64url:"base64url-encoded string",json_string:"JSON string",e164:"E.164 number",jwt:"JWT",template_literal:"input"},a=>{switch(a.code){case"invalid_type":return`Invalid input: expected ${a.expected}, received ${(a=>{let b=typeof a;switch(b){case"number":return Number.isNaN(a)?"NaN":"number";case"object":if(Array.isArray(a))return"array";if(null===a)return"null";if(Object.getPrototypeOf(a)!==Object.prototype&&a.constructor)return a.constructor.name}return b})(a.input)}`;case"invalid_value":if(1===a.values.length)return`Invalid input: expected ${ik(a.values[0])}`;return`Invalid option: expected one of ${h1(a.values,"|")}`;case"too_big":{let b=a.inclusive?"<=":"<",c=l[a.origin]??null;if(c)return`Too big: expected ${a.origin??"value"} to have ${b}${a.maximum.toString()} ${c.unit??"elements"}`;return`Too big: expected ${a.origin??"value"} to be ${b}${a.maximum.toString()}`}case"too_small":{let b=a.inclusive?">=":">",c=l[a.origin]??null;if(c)return`Too small: expected ${a.origin} to have ${b}${a.minimum.toString()} ${c.unit}`;return`Too small: expected ${a.origin} to be ${b}${a.minimum.toString()}`}case"invalid_format":if("starts_with"===a.format)return`Invalid string: must start with "${a.prefix}"`;if("ends_with"===a.format)return`Invalid string: must end with "${a.suffix}"`;if("includes"===a.format)return`Invalid string: must include "${a.includes}"`;if("regex"===a.format)return`Invalid string: must match pattern ${a.pattern}`;return`Invalid ${m[a.format]??a.format}`;case"not_multiple_of":return`Invalid number: must be a multiple of ${a.divisor}`;case"unrecognized_keys":return`Unrecognized key${a.keys.length>1?"s":""}: ${h1(a.keys,", ")}`;case"invalid_key":return`Invalid key in ${a.origin}`;case"invalid_union":default:return"Invalid input";case"invalid_element":return`Invalid value in ${a.origin}`}})});let la=new kU({type:"object",shape:{DATABASE_URL:kv().min(1,"Database URL is required"),DIRECT_URL:kv().optional(),GOOGLE_CLIENT_ID:kv().min(1,"Google Client ID is required"),GOOGLE_CLIENT_SECRET:kv().min(1,"Google Client Secret is required"),NEXTAUTH_URL:kv().url().optional().default("http://localhost:3000"),NEXTAUTH_SECRET:kv().min(32,"NextAuth secret must be at least 32 characters"),NODE_ENV:kY(["development","production","test"]).default("development")}??{},...ij(void 0)}).parse(process.env),lb={url:la.DATABASE_URL,directUrl:la.DIRECT_URL},lc={googleClientId:la.GOOGLE_CLIENT_ID,googleClientSecret:la.GOOGLE_CLIENT_SECRET,url:la.NEXTAUTH_URL,secret:la.NEXTAUTH_SECRET},ld="development"===la.NODE_ENV;la.NODE_ENV;let le=globalThis,lf=le.prisma??new hU.PrismaClient({datasources:{db:{url:lb.url}}}).$extends((n=(void 0)??fetch,k=function(a,b){let[c=0,d=0,e=0]=a.split(".").map(Number),[f=0,g=0,h=0]=b.split(".").map(Number);return f-c||g-d||h-e}("5.1.0",hV.Prisma.prismaVersion.client)>=0,hV.Prisma.defineExtension(a=>{let b,c,d,{apiKeyPromise:e,baseURL:f}=function(a){let b=Reflect.get(a,"_accelerateEngineConfig");try{let{host:a,hostname:c,protocol:d,searchParams:e}=new URL(b?.accelerateUtils?.resolveDatasourceUrl?.(b));if("prisma+postgres:"===d&&("localhost"===c||"127.0.0.1"===c))return{apiKeyPromise:Promise.resolve(e.get("api_key")),baseURL:new URL(`http://${a}`)}}catch{}return{apiKeyPromise:a._engine.start().then(()=>a._engine.apiKey?.()??null),baseURL:new URL("https://accelerate.prisma-data.net")}}(a),g=(b=hV.Prisma.prismaVersion,c=["u">typeof navigator?navigator.userAgent:"u">typeof process&&"u">typeof process.versions?`Node/${process.versions.node} (${process.platform}; ${process.arch})`:"EdgeRuntime"in globalThis?"Vercel-Edge-Runtime":"UnknownRuntime",`PrismaEngine/${b.engine}`,`PrismaClient/${b.client}`].join(" "),async a=>{let{args:b}=a,{cacheStrategy:e,__accelerateInfo:f=!1,...g}=b,h=null,{__internalParams:i,query:j}=a;return i.customDataProxyFetch=()=>async(a,b)=>{let f=[];"number"==typeof e?.ttl&&f.push(`max-age=${e.ttl}`),"number"==typeof e?.swr&&f.push(`stale-while-revalidate=${e.swr}`);let g=e?.tags?.join(",")??"";b.headers={...b.headers,"cache-control":f.length>0?f.join(","):"no-cache","user-agent":c,...g.length>0?{"accelerate-cache-tags":g}:{}},d&&(b.headers["accelerate-query-engine-jwt"]=d);try{let c=await n(a,b);return h={cacheStatus:c.headers.get("accelerate-cache-status"),lastModified:new Date(c.headers.get("last-modified")??""),region:c.headers.get("cf-ray")?.split("-")[1]??"unspecified",requestId:c.headers.get("cf-ray")??"unspecified",signature:c.headers.get("accelerate-signature")??"unspecified"},d=c.headers.get("accelerate-query-engine-jwt")??void 0,c}catch{throw Error(hX)}},f?{data:await j(g,i),info:h}:j(g,i)});async function h(a){let b,c=await e;if(!c)return{requestId:"unspecified"};try{b=await n(new URL("/invalidate",f).href,{method:"POST",headers:{authorization:`Bearer ${c}`,"content-type":"application/json"},body:JSON.stringify(a)})}catch{throw Error(hX)}if(!b?.ok){let a=await b.text();throw Error(`Failed to invalidate Accelerate cache. Response was ${b.status} ${b.statusText}. ${a}`)}return b.body?.cancel(),{requestId:b.headers.get("cf-ray")??"unspecified"}}let i=a.$extends({name:hW,query:{$allModels:{$allOperations:g}}});return i.$extends({name:hW,client:{$accelerate:{invalidate:a=>h(a),invalidateAll:()=>h({tags:"all"})}},model:{$allModels:{aggregate(a){let b=hV.Prisma.getExtensionContext(this),c=k?b.$parent[b.$name]:i[b.name];return Object.assign(c.aggregate(a),{withAccelerateInfo:()=>c.aggregate({...a,__accelerateInfo:!0})})},count(a){let b=hV.Prisma.getExtensionContext(this),c=k?b.$parent[b.$name]:i[b.name];return Object.assign(c.count(a),{withAccelerateInfo:()=>c.count({...a,__accelerateInfo:!0})})},findFirst(a){let b=hV.Prisma.getExtensionContext(this),c=k?b.$parent[b.$name]:i[b.name];return Object.assign(c.findFirst(a),{withAccelerateInfo:()=>c.findFirst({...a,__accelerateInfo:!0})})},findFirstOrThrow(a){let b=hV.Prisma.getExtensionContext(this),c=k?b.$parent[b.$name]:i[b.name];return Object.assign(c.findFirstOrThrow(a),{withAccelerateInfo:()=>c.findFirstOrThrow({...a,__accelerateInfo:!0})})},findMany(a){let b=hV.Prisma.getExtensionContext(this),c=k?b.$parent[b.$name]:i[b.name];return Object.assign(c.findMany(a),{withAccelerateInfo:()=>c.findMany({...a,__accelerateInfo:!0})})},findUnique(a){let b=hV.Prisma.getExtensionContext(this),c=k?b.$parent[b.$name]:i[b.name];return Object.assign(c.findUnique(a),{withAccelerateInfo:()=>c.findUnique({...a,__accelerateInfo:!0})})},findUniqueOrThrow(a){let b=hV.Prisma.getExtensionContext(this),c=k?b.$parent[b.$name]:i[b.name];return Object.assign(c.findUniqueOrThrow(a),{withAccelerateInfo:()=>c.findUniqueOrThrow({...a,__accelerateInfo:!0})})},groupBy(a){let b=hV.Prisma.getExtensionContext(this),c=k?b.$parent[b.$name]:i[b.name];return Object.assign(c.groupBy(a),{withAccelerateInfo:()=>c.groupBy({...a,__accelerateInfo:!0})})}}}})})));ld&&(le.prisma=lf);var lg=c(825);function lh(a,b){if("number"!=typeof(a=a||lp))throw Error("Illegal arguments: "+typeof a+", "+typeof b);a<4?a=4:a>31&&(a=31);var c=[];return c.push("$2b$"),a<10&&c.push("0"),c.push(a.toString()),c.push("$"),c.push(ln(function(a){try{return crypto.getRandomValues(new Uint8Array(a))}catch{}try{return lg.randomBytes(a)}catch{}!0;throw Error("Neither WebCryptoAPI nor a crypto module is available. Use bcrypt.setRandomFallback to set an alternative")}(lo),lo)),c.join("")}function li(a,b,c){if("function"==typeof b&&(c=b,b=void 0),"function"==typeof a&&(c=a,a=void 0),void 0===a)a=lp;else if("number"!=typeof a)throw Error("illegal arguments: "+typeof a);function d(b){lk(function(){try{b(null,lh(a))}catch(a){b(a)}})}if(!c)return new Promise(function(a,b){d(function(c,d){c?b(c):a(d)})});if("function"!=typeof c)throw Error("Illegal callback: "+typeof c);d(c)}function lj(a,b,c,d){function e(c){"string"==typeof a&&"number"==typeof b?li(b,function(b,e){lx(a,e,c,d)}):"string"==typeof a&&"string"==typeof b?lx(a,b,c,d):lk(c.bind(this,Error("Illegal arguments: "+typeof a+", "+typeof b)))}if(!c)return new Promise(function(a,b){e(function(c,d){c?b(c):a(d)})});if("function"!=typeof c)throw Error("Illegal callback: "+typeof c);e(c)}var lk="undefined"!=typeof process&&process&&"function"==typeof process.nextTick?"function"==typeof setImmediate?setImmediate:process.nextTick:setTimeout,ll="./ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),lm=[-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,0,1,54,55,56,57,58,59,60,61,62,63,-1,-1,-1,-1,-1,-1,-1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,-1,-1,-1,-1,-1,-1,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,-1,-1,-1,-1,-1];function ln(a,b){var c,d,e=0,f=[];if(b<=0||b>a.length)throw Error("Illegal len: "+b);for(;e<b;){if(c=255&a[e++],f.push(ll[c>>2&63]),c=(3&c)<<4,e>=b||(c|=(d=255&a[e++])>>4&15,f.push(ll[63&c]),c=(15&d)<<2,e>=b)){f.push(ll[63&c]);break}c|=(d=255&a[e++])>>6&3,f.push(ll[63&c]),f.push(ll[63&d])}return f.join("")}var lo=16,lp=10,lq=[0x243f6a88,0x85a308d3,0x13198a2e,0x3707344,0xa4093822,0x299f31d0,0x82efa98,0xec4e6c89,0x452821e6,0x38d01377,0xbe5466cf,0x34e90c6c,0xc0ac29b7,0xc97c50dd,0x3f84d5b5,0xb5470917,0x9216d5d9,0x8979fb1b],lr=[0xd1310ba6,0x98dfb5ac,0x2ffd72db,0xd01adfb7,0xb8e1afed,0x6a267e96,0xba7c9045,0xf12c7f99,0x24a19947,0xb3916cf7,0x801f2e2,0x858efc16,0x636920d8,0x71574e69,0xa458fea3,0xf4933d7e,0xd95748f,0x728eb658,0x718bcd58,0x82154aee,0x7b54a41d,0xc25a59b5,0x9c30d539,0x2af26013,0xc5d1b023,0x286085f0,0xca417918,0xb8db38ef,0x8e79dcb0,0x603a180e,0x6c9e0e8b,0xb01e8a3e,0xd71577c1,0xbd314b27,0x78af2fda,0x55605c60,0xe65525f3,0xaa55ab94,0x57489862,0x63e81440,0x55ca396a,0x2aab10b6,0xb4cc5c34,0x1141e8ce,0xa15486af,0x7c72e993,0xb3ee1411,0x636fbc2a,0x2ba9c55d,0x741831f6,0xce5c3e16,0x9b87931e,0xafd6ba33,0x6c24cf5c,0x7a325381,0x28958677,0x3b8f4898,0x6b4bb9af,0xc4bfe81b,0x66282193,0x61d809cc,0xfb21a991,0x487cac60,0x5dec8032,0xef845d5d,0xe98575b1,0xdc262302,0xeb651b88,0x23893e81,0xd396acc5,0xf6d6ff3,0x83f44239,0x2e0b4482,0xa4842004,0x69c8f04a,0x9e1f9b5e,0x21c66842,0xf6e96c9a,0x670c9c61,0xabd388f0,0x6a51a0d2,0xd8542f68,0x960fa728,0xab5133a3,0x6eef0b6c,0x137a3be4,0xba3bf050,0x7efb2a98,0xa1f1651d,0x39af0176,0x66ca593e,0x82430e88,0x8cee8619,0x456f9fb4,0x7d84a5c3,0x3b8b5ebe,0xe06f75d8,0x85c12073,0x401a449f,0x56c16aa6,0x4ed3aa62,0x363f7706,0x1bfedf72,0x429b023d,0x37d0d724,0xd00a1248,0xdb0fead3,0x49f1c09b,0x75372c9,0x80991b7b,0x25d479d8,0xf6e8def7,0xe3fe501a,0xb6794c3b,0x976ce0bd,0x4c006ba,0xc1a94fb6,0x409f60c4,0x5e5c9ec2,0x196a2463,0x68fb6faf,0x3e6c53b5,0x1339b2eb,0x3b52ec6f,0x6dfc511f,0x9b30952c,0xcc814544,0xaf5ebd09,0xbee3d004,0xde334afd,0x660f2807,0x192e4bb3,0xc0cba857,0x45c8740f,0xd20b5f39,0xb9d3fbdb,0x5579c0bd,0x1a60320a,0xd6a100c6,0x402c7279,0x679f25fe,0xfb1fa3cc,0x8ea5e9f8,0xdb3222f8,0x3c7516df,0xfd616b15,0x2f501ec8,0xad0552ab,0x323db5fa,0xfd238760,0x53317b48,0x3e00df82,0x9e5c57bb,0xca6f8ca0,0x1a87562e,0xdf1769db,0xd542a8f6,0x287effc3,0xac6732c6,0x8c4f5573,0x695b27b0,0xbbca58c8,0xe1ffa35d,0xb8f011a0,0x10fa3d98,0xfd2183b8,0x4afcb56c,0x2dd1d35b,0x9a53e479,0xb6f84565,0xd28e49bc,0x4bfb9790,0xe1ddf2da,0xa4cb7e33,0x62fb1341,0xcee4c6e8,0xef20cada,0x36774c01,0xd07e9efe,0x2bf11fb4,0x95dbda4d,0xae909198,0xeaad8e71,0x6b93d5a0,0xd08ed1d0,0xafc725e0,0x8e3c5b2f,0x8e7594b7,0x8ff6e2fb,0xf2122b64,0x8888b812,0x900df01c,0x4fad5ea0,0x688fc31c,0xd1cff191,0xb3a8c1ad,0x2f2f2218,0xbe0e1777,0xea752dfe,0x8b021fa1,0xe5a0cc0f,0xb56f74e8,0x18acf3d6,0xce89e299,0xb4a84fe0,0xfd13e0b7,0x7cc43b81,0xd2ada8d9,0x165fa266,0x80957705,0x93cc7314,0x211a1477,0xe6ad2065,0x77b5fa86,0xc75442f5,0xfb9d35cf,0xebcdaf0c,0x7b3e89a0,0xd6411bd3,0xae1e7e49,2428461,0x2071b35e,0x226800bb,0x57b8e0af,0x2464369b,0xf009b91e,0x5563911d,0x59dfa6aa,0x78c14389,0xd95a537f,0x207d5ba2,0x2e5b9c5,0x83260376,0x6295cfa9,0x11c81968,0x4e734a41,0xb3472dca,0x7b14a94a,0x1b510052,0x9a532915,0xd60f573f,0xbc9bc6e4,0x2b60a476,0x81e67400,0x8ba6fb5,0x571be91f,0xf296ec6b,0x2a0dd915,0xb6636521,0xe7b9f9b6,0xff34052e,0xc5855664,0x53b02d5d,0xa99f8fa1,0x8ba4799,0x6e85076a,0x4b7a70e9,0xb5b32944,0xdb75092e,0xc4192623,290971e4,0x49a7df7d,0x9cee60b8,0x8fedb266,0xecaa8c71,0x699a17ff,0x5664526c,0xc2b19ee1,0x193602a5,0x75094c29,0xa0591340,0xe4183a3e,0x3f54989a,0x5b429d65,0x6b8fe4d6,0x99f73fd6,0xa1d29c07,0xefe830f5,0x4d2d38e6,0xf0255dc1,0x4cdd2086,0x8470eb26,0x6382e9c6,0x21ecc5e,0x9686b3f,0x3ebaefc9,0x3c971814,0x6b6a70a1,0x687f3584,0x52a0e286,0xb79c5305,0xaa500737,0x3e07841c,0x7fdeae5c,0x8e7d44ec,0x5716f2b8,0xb03ada37,0xf0500c0d,0xf01c1f04,0x200b3ff,0xae0cf51a,0x3cb574b2,0x25837a58,0xdc0921bd,0xd19113f9,0x7ca92ff6,0x94324773,0x22f54701,0x3ae5e581,0x37c2dadc,0xc8b57634,0x9af3dda7,0xa9446146,0xfd0030e,0xecc8c73e,0xa4751e41,0xe238cd99,0x3bea0e2f,0x3280bba1,0x183eb331,0x4e548b38,0x4f6db908,0x6f420d03,0xf60a04bf,0x2cb81290,0x24977c79,0x5679b072,0xbcaf89af,0xde9a771f,0xd9930810,0xb38bae12,0xdccf3f2e,0x5512721f,0x2e6b7124,0x501adde6,0x9f84cd87,0x7a584718,0x7408da17,0xbc9f9abc,0xe94b7d8c,0xec7aec3a,0xdb851dfa,0x63094366,0xc464c3d2,0xef1c1847,0x3215d908,0xdd433b37,0x24c2ba16,0x12a14d43,0x2a65c451,0x50940002,0x133ae4dd,0x71dff89e,0x10314e55,0x81ac77d6,0x5f11199b,0x43556f1,0xd7a3c76b,0x3c11183b,0x5924a509,0xf28fe6ed,0x97f1fbfa,0x9ebabf2c,0x1e153c6e,0x86e34570,0xeae96fb1,0x860e5e0a,0x5a3e2ab3,0x771fe71c,0x4e3d06fa,0x2965dcb9,0x99e71d0f,0x803e89d6,0x5266c825,0x2e4cc978,0x9c10b36a,0xc6150eba,0x94e2ea78,0xa5fc3c53,0x1e0a2df4,0xf2f74ea7,0x361d2b3d,0x1939260f,0x19c27960,0x5223a708,0xf71312b6,0xebadfe6e,0xeac31f66,0xe3bc4595,0xa67bc883,0xb17f37d1,0x18cff28,0xc332ddef,0xbe6c5aa5,0x65582185,0x68ab9802,0xeecea50f,0xdb2f953b,0x2aef7dad,0x5b6e2f84,0x1521b628,0x29076170,0xecdd4775,0x619f1510,0x13cca830,0xeb61bd96,0x334fe1e,0xaa0363cf,0xb5735c90,0x4c70a239,0xd59e9e0b,0xcbaade14,0xeecc86bc,0x60622ca7,0x9cab5cab,0xb2f3846e,0x648b1eaf,0x19bdf0ca,0xa02369b9,0x655abb50,0x40685a32,0x3c2ab4b3,0x319ee9d5,0xc021b8f7,0x9b540b19,0x875fa099,0x95f7997e,0x623d7da8,0xf837889a,0x97e32d77,0x11ed935f,0x16681281,0xe358829,0xc7e61fd6,0x96dedfa1,0x7858ba99,0x57f584a5,0x1b227263,0x9b83c3ff,0x1ac24696,0xcdb30aeb,0x532e3054,0x8fd948e4,0x6dbc3128,0x58ebf2ef,0x34c6ffea,0xfe28ed61,0xee7c3c73,0x5d4a14d9,0xe864b7e3,0x42105d14,0x203e13e0,0x45eee2b6,0xa3aaabea,0xdb6c4f15,0xfacb4fd0,0xc742f442,0xef6abbb5,0x654f3b1d,0x41cd2105,0xd81e799e,0x86854dc7,0xe44b476a,0x3d816250,0xcf62a1f2,0x5b8d2646,0xfc8883a0,0xc1c7b6a3,0x7f1524c3,0x69cb7492,0x47848a0b,0x5692b285,0x95bbf00,0xad19489d,0x1462b174,0x23820e00,0x58428d2a,0xc55f5ea,0x1dadf43e,0x233f7061,0x3372f092,0x8d937e41,0xd65fecf1,0x6c223bdb,0x7cde3759,0xcbee7460,0x4085f2a7,0xce77326e,0xa6078084,0x19f8509e,0xe8efd855,0x61d99735,0xa969a7aa,0xc50c06c2,0x5a04abfc,0x800bcadc,0x9e447a2e,0xc3453484,0xfdd56705,0xe1e9ec9,0xdb73dbd3,0x105588cd,0x675fda79,0xe3674340,0xc5c43465,0x713e38d8,0x3d28f89e,0xf16dff20,0x153e21e7,0x8fb03d4a,0xe6e39f2b,0xdb83adf7,0xe93d5a68,0x948140f7,0xf64c261c,0x94692934,0x411520f7,0x7602d4f7,0xbcf46b2e,0xd4a20068,0xd4082471,0x3320f46a,0x43b7d4b7,0x500061af,0x1e39f62e,0x97244546,0x14214f74,0xbf8b8840,0x4d95fc1d,0x96b591af,0x70f4ddd3,0x66a02f45,0xbfbc09ec,0x3bd9785,0x7fac6dd0,0x31cb8504,0x96eb27b3,0x55fd3941,0xda2547e6,0xabca0a9a,0x28507825,0x530429f4,0xa2c86da,0xe9b66dfb,0x68dc1462,0xd7486900,0x680ec0a4,0x27a18dee,0x4f3ffea2,0xe887ad8c,0xb58ce006,0x7af4d6b6,0xaace1e7c,0xd3375fec,0xce78a399,0x406b2a42,0x20fe9e35,0xd9f385b9,0xee39d7ab,0x3b124e8b,0x1dc9faf7,0x4b6d1856,0x26a36631,0xeae397b2,0x3a6efa74,0xdd5b4332,0x6841e7f7,0xca7820fb,0xfb0af54e,0xd8feb397,0x454056ac,0xba489527,0x55533a3a,0x20838d87,0xfe6ba9b7,0xd096954b,0x55a867bc,0xa1159a58,0xcca92963,0x99e1db33,0xa62a4a56,0x3f3125f9,0x5ef47e1c,0x9029317c,0xfdf8e802,0x4272f70,0x80bb155c,0x5282ce3,0x95c11548,0xe4c66d22,0x48c1133f,0xc70f86dc,0x7f9c9ee,0x41041f0f,0x404779a4,0x5d886e17,0x325f51eb,0xd59bc0d1,0xf2bcc18f,0x41113564,0x257b7834,0x602a9c60,0xdff8e8a3,0x1f636c1b,0xe12b4c2,0x2e1329e,0xaf664fd1,0xcad18115,0x6b2395e0,0x333e92e1,0x3b240b62,0xeebeb922,0x85b2a20e,0xe6ba0d99,0xde720c8c,0x2da2f728,0xd0127845,0x95b794fd,0x647d0862,0xe7ccf5f0,0x5449a36f,0x877d48fa,0xc39dfd27,0xf33e8d1e,0xa476341,0x992eff74,0x3a6f6eab,0xf4f8fd37,0xa812dc60,0xa1ebddf8,0x991be14c,0xdb6e6b0d,0xc67b5510,0x6d672c37,0x2765d43b,0xdcd0e804,0xf1290dc7,0xcc00ffa3,0xb5390f92,0x690fed0b,0x667b9ffb,0xcedb7d9c,0xa091cf0b,0xd9155ea3,0xbb132f88,0x515bad24,0x7b9479bf,0x763bd6eb,0x37392eb3,0xcc115979,0x8026e297,0xf42e312d,0x6842ada7,0xc66a2b3b,0x12754ccc,0x782ef11c,0x6a124237,0xb79251e7,0x6a1bbe6,0x4bfb6350,0x1a6b1018,0x11caedfa,0x3d25bdd8,0xe2e1c3c9,0x44421659,0xa121386,0xd90cec6e,0xd5abea2a,0x64af674e,0xda86a85f,0xbebfe988,0x64e4c3fe,0x9dbc8057,0xf0f7c086,0x60787bf8,0x6003604d,0xd1fd8346,0xf6381fb0,0x7745ae04,0xd736fccc,0x83426b33,0xf01eab71,0xb0804187,0x3c005e5f,0x77a057be,0xbde8ae24,0x55464299,0xbf582e61,0x4e58f48f,0xf2ddfda2,0xf474ef38,0x8789bdc2,0x5366f9c3,0xc8b38e74,0xb475f255,0x46fcd9b9,0x7aeb2661,0x8b1ddf84,0x846a0e79,0x915f95e2,0x466e598e,0x20b45770,0x8cd55591,0xc902de4c,0xb90bace1,0xbb8205d0,0x11a86248,0x7574a99e,0xb77f19b6,0xe0a9dc09,0x662d09a1,0xc4324633,0xe85a1f02,0x9f0be8c,0x4a99a025,0x1d6efe10,0x1ab93d1d,0xba5a4df,0xa186f20f,0x2868f169,0xdcb7da83,0x573906fe,0xa1e2ce9b,0x4fcd7f52,0x50115e01,0xa70683fa,0xa002b5c4,0xde6d027,0x9af88c27,0x773f8641,0xc3604c06,0x61a806b5,0xf0177a28,0xc0f586e0,6314154,0x30dc7d62,0x11e69ed7,0x2338ea63,0x53c2dd94,0xc2c21634,0xbbcbee56,0x90bcb6de,0xebfc7da1,0xce591d76,0x6f05e409,0x4b7c0188,0x39720a3d,0x7c927c24,0x86e3725f,0x724d9db9,0x1ac15bb4,0xd39eb8fc,0xed545578,0x8fca5b5,0xd83d7cd3,0x4dad0fc4,0x1e50ef5e,0xb161e6f8,0xa28514d9,0x6c51133c,0x6fd5c7e7,0x56e14ec4,0x362abfce,0xddc6c837,0xd79a3234,0x92638212,0x670efa8e,0x406000e0,0x3a39ce37,0xd3faf5cf,0xabc27737,0x5ac52d1b,0x5cb0679e,0x4fa33742,0xd3822740,0x99bc9bbe,0xd5118e9d,0xbf0f7315,0xd62d1c7e,0xc700c47b,0xb78c1b6b,0x21a19045,0xb26eb1be,0x6a366eb4,0x5748ab2f,0xbc946e79,0xc6a376d2,0x6549c2c8,0x530ff8ee,0x468dde7d,0xd5730a1d,0x4cd04dc6,0x2939bbdb,0xa9ba4650,0xac9526e8,0xbe5ee304,0xa1fad5f0,0x6a2d519a,0x63ef8ce2,0x9a86ee22,0xc089c2b8,0x43242ef6,0xa51e03aa,0x9cf2d0a4,0x83c061ba,0x9be96a4d,0x8fe51550,0xba645bd6,0x2826a2f9,0xa73a3ae1,0x4ba99586,0xef5562e9,0xc72fefd3,0xf752f7da,0x3f046f69,0x77fa0a59,0x80e4a915,0x87b08601,0x9b09e6ad,0x3b3ee593,0xe990fd5a,0x9e34d797,0x2cf0b7d9,0x22b8b51,0x96d5ac3a,0x17da67d,0xd1cf3ed6,0x7c7d2d28,0x1f9f25cf,0xadf2b89b,0x5ad6b472,0x5a88f54c,0xe029ac71,0xe019a5e6,0x47b0acfd,0xed93fa9b,0xe8d3c48d,0x283b57cc,0xf8d56629,0x79132e28,0x785f0191,0xed756055,0xf7960e44,0xe3d35e8c,0x15056dd4,0x88f46dba,0x3a16125,0x564f0bd,0xc3eb9e15,0x3c9057a2,0x97271aec,0xa93a072a,0x1b3f6d9b,0x1e6321f5,0xf59c66fb,0x26dcf319,0x7533d928,0xb155fdf5,0x3563482,0x8aba3cbb,0x28517711,0xc20ad9f8,0xabcc5167,0xccad925f,0x4de81751,0x3830dc8e,0x379d5862,0x9320f991,0xea7a90c2,0xfb3e7bce,0x5121ce64,0x774fbe32,0xa8b6e37e,0xc3293d46,0x48de5369,0x6413e680,0xa2ae0810,0xdd6db224,0x69852dfd,0x9072166,0xb39a460a,0x6445c0dd,0x586cdecf,0x1c20c8ae,0x5bbef7dd,0x1b588d40,0xccd2017f,0x6bb4e3bb,0xdda26a7e,0x3a59ff45,0x3e350a44,0xbcb4cdd5,0x72eacea8,0xfa6484bb,0x8d6612ae,0xbf3c6f47,0xd29be463,0x542f5d9e,0xaec2771b,0xf64e6370,0x740e0d8d,0xe75b1357,0xf8721671,0xaf537d5d,0x4040cb08,0x4eb4e2cc,0x34d2466a,0x115af84,3786409e3,0x95983a1d,0x6b89fb4,0xce6ea048,0x6f3f3b82,0x3520ab82,0x11a1d4b,0x277227f8,0x611560b1,0xe7933fdc,0xbb3a792b,0x344525bd,0xa08839e1,0x51ce794b,0x2f32c9b7,0xa01fbac9,0xe01cc87e,0xbcc7d1f6,0xcf0111c3,0xa1e8aac7,0x1a908749,0xd44fbd9a,0xd0dadecb,0xd50ada38,0x339c32a,0xc6913667,0x8df9317c,0xe0b12b4f,0xf79e59b7,0x43f5bb3a,0xf2d519ff,0x27d9459c,0xbf97222c,0x15e6fc2a,0xf91fc71,0x9b941525,0xfae59361,0xceb69ceb,0xc2a86459,0x12baa8d1,0xb6c1075e,0xe3056a0c,0x10d25065,0xcb03a442,0xe0ec6e0e,0x1698db3b,0x4c98a0be,0x3278e964,0x9f1f9532,0xe0d392df,0xd3a0342b,0x8971f21e,0x1b0a7441,0x4ba3348c,0xc5be7120,0xc37632d8,0xdf359f8d,0x9b992f2e,0xe60b6f47,0xfe3f11d,0xe54cda54,0x1edad891,0xce6279cf,0xcd3e7e6f,0x1618b166,0xfd2c1d05,0x848fd2c5,0xf6fb2299,0xf523f357,0xa6327623,0x93a83531,0x56cccd02,0xacf08162,0x5a75ebb5,0x6e163697,0x88d273cc,0xde966292,0x81b949d0,0x4c50901b,0x71c65614,0xe6c6c7bd,0x327a140a,0x45e1d006,0xc3f27b9a,0xc9aa53fd,0x62a80f00,0xbb25bfe2,0x35bdd2f6,0x71126905,0xb2040222,0xb6cbcf7c,0xcd769c2b,0x53113ec0,0x1640e3d3,0x38abbd60,0x2547adf0,0xba38209c,0xf746ce76,0x77afa1c5,0x20756060,0x85cbfe4e,0x8ae88dd8,0x7aaaf9b0,0x4cf9aa7e,0x1948c25c,0x2fb8a8c,0x1c36ae4,0xd6ebe1f9,0x90d4f869,0xa65cdea0,0x3f09252d,0xc208e69f,0xb74e6132,0xce77e25b,0x578fdfe3,0x3ac372e6],ls=[0x4f727068,0x65616e42,0x65686f6c,0x64657253,0x63727944,0x6f756274];function lt(a,b,c,d){var e=a[b],f=a[b+1];return e^=c[0],f^=(d[e>>>24]+d[256|e>>16&255]^d[512|e>>8&255])+d[768|255&e]^c[1],e^=(d[f>>>24]+d[256|f>>16&255]^d[512|f>>8&255])+d[768|255&f]^c[2],f^=(d[e>>>24]+d[256|e>>16&255]^d[512|e>>8&255])+d[768|255&e]^c[3],e^=(d[f>>>24]+d[256|f>>16&255]^d[512|f>>8&255])+d[768|255&f]^c[4],f^=(d[e>>>24]+d[256|e>>16&255]^d[512|e>>8&255])+d[768|255&e]^c[5],e^=(d[f>>>24]+d[256|f>>16&255]^d[512|f>>8&255])+d[768|255&f]^c[6],f^=(d[e>>>24]+d[256|e>>16&255]^d[512|e>>8&255])+d[768|255&e]^c[7],e^=(d[f>>>24]+d[256|f>>16&255]^d[512|f>>8&255])+d[768|255&f]^c[8],f^=(d[e>>>24]+d[256|e>>16&255]^d[512|e>>8&255])+d[768|255&e]^c[9],e^=(d[f>>>24]+d[256|f>>16&255]^d[512|f>>8&255])+d[768|255&f]^c[10],f^=(d[e>>>24]+d[256|e>>16&255]^d[512|e>>8&255])+d[768|255&e]^c[11],e^=(d[f>>>24]+d[256|f>>16&255]^d[512|f>>8&255])+d[768|255&f]^c[12],f^=(d[e>>>24]+d[256|e>>16&255]^d[512|e>>8&255])+d[768|255&e]^c[13],e^=(d[f>>>24]+d[256|f>>16&255]^d[512|f>>8&255])+d[768|255&f]^c[14],f^=(d[e>>>24]+d[256|e>>16&255]^d[512|e>>8&255])+d[768|255&e]^c[15],e^=(d[f>>>24]+d[256|f>>16&255]^d[512|f>>8&255])+d[768|255&f]^c[16],a[b]=f^c[17],a[b+1]=e,a}function lu(a,b){for(var c=0,d=0;c<4;++c)d=d<<8|255&a[b],b=(b+1)%a.length;return{key:d,offp:b}}function lv(a,b,c){for(var d,e=0,f=[0,0],g=b.length,h=c.length,i=0;i<g;i++)e=(d=lu(a,e)).offp,b[i]=b[i]^d.key;for(i=0;i<g;i+=2)f=lt(f,0,b,c),b[i]=f[0],b[i+1]=f[1];for(i=0;i<h;i+=2)f=lt(f,0,b,c),c[i]=f[0],c[i+1]=f[1]}function lw(a,b,c,d,e){var f,g,h=ls.slice(),i=h.length;if(c<4||c>31){if(g=Error("Illegal number of rounds (4-31): "+c),d)return void lk(d.bind(this,g));throw g}if(b.length!==lo){if(g=Error("Illegal salt length: "+b.length+" != "+lo),d)return void lk(d.bind(this,g));throw g}c=1<<c>>>0;var j,k,l,m=0;function n(){if(e&&e(m/c),m<c)for(var f=Date.now();m<c&&(m+=1,lv(a,j,k),lv(b,j,k),!(Date.now()-f>100)););else{for(m=0;m<64;m++)for(l=0;l<i>>1;l++)lt(h,l<<1,j,k);var g=[];for(m=0;m<i;m++)g.push((h[m]>>24&255)>>>0),g.push((h[m]>>16&255)>>>0),g.push((h[m]>>8&255)>>>0),g.push((255&h[m])>>>0);return d?void d(null,g):g}d&&lk(n)}if("function"==typeof Int32Array?(j=new Int32Array(lq),k=new Int32Array(lr)):(j=lq.slice(),k=lr.slice()),!function(a,b,c,d){for(var e,f=0,g=[0,0],h=c.length,i=d.length,j=0;j<h;j++)f=(e=lu(b,f)).offp,c[j]=c[j]^e.key;for(j=0,f=0;j<h;j+=2)f=(e=lu(a,f)).offp,g[0]^=e.key,f=(e=lu(a,f)).offp,g[1]^=e.key,g=lt(g,0,c,d),c[j]=g[0],c[j+1]=g[1];for(j=0;j<i;j+=2)f=(e=lu(a,f)).offp,g[0]^=e.key,f=(e=lu(a,f)).offp,g[1]^=e.key,g=lt(g,0,c,d),d[j]=g[0],d[j+1]=g[1]}(b,a,j,k),void 0!==d)n();else for(;;)if(void 0!==(f=n()))return f||[]}function lx(a,b,c,d){if("string"!=typeof a||"string"!=typeof b){if(e=Error("Invalid string / salt: Not a string"),c)return void lk(c.bind(this,e));throw e}if("$"!==b.charAt(0)||"2"!==b.charAt(1)){if(e=Error("Invalid salt version: "+b.substring(0,2)),c)return void lk(c.bind(this,e));throw e}if("$"===b.charAt(2))f="\0",g=3;else{if("a"!==(f=b.charAt(2))&&"b"!==f&&"y"!==f||"$"!==b.charAt(3)){if(e=Error("Invalid salt revision: "+b.substring(2,4)),c)return void lk(c.bind(this,e));throw e}g=4}if(b.charAt(g+2)>"$"){if(e=Error("Missing salt rounds"),c)return void lk(c.bind(this,e));throw e}var e,f,g,h=10*parseInt(b.substring(g,g+1),10)+parseInt(b.substring(g+1,g+2),10),i=b.substring(g+3,g+25),j=function(a){for(var b,c,d=0,e=Array(function(a){for(var b=0,c=0,d=0;d<a.length;++d)(c=a.charCodeAt(d))<128?b+=1:c<2048?b+=2:(64512&c)==55296&&(64512&a.charCodeAt(d+1))==56320?(++d,b+=4):b+=3;return b}(a)),f=0,g=a.length;f<g;++f)(b=a.charCodeAt(f))<128?e[d++]=b:(b<2048?e[d++]=b>>6|192:((64512&b)==55296&&(64512&(c=a.charCodeAt(f+1)))==56320?(b=65536+((1023&b)<<10)+(1023&c),++f,e[d++]=b>>18|240,e[d++]=b>>12&63|128):e[d++]=b>>12|224,e[d++]=b>>6&63|128),e[d++]=63&b|128);return e}(a+=f>="a"?"\0":""),k=function(a,b){var c,d,e,f,g,h=0,i=a.length,j=0,k=[];if(b<=0)throw Error("Illegal len: "+b);for(;h<i-1&&j<b&&(c=(g=a.charCodeAt(h++))<lm.length?lm[g]:-1,d=(g=a.charCodeAt(h++))<lm.length?lm[g]:-1,-1!=c&&-1!=d)&&(f=c<<2>>>0|(48&d)>>4,k.push(String.fromCharCode(f)),!(++j>=b||h>=i||-1==(e=(g=a.charCodeAt(h++))<lm.length?lm[g]:-1)||(f=(15&d)<<4>>>0|(60&e)>>2,k.push(String.fromCharCode(f)),++j>=b||h>=i)));){;f=(3&e)<<6>>>0|((g=a.charCodeAt(h++))<lm.length?lm[g]:-1),k.push(String.fromCharCode(f)),++j}var l=[];for(h=0;h<j;h++)l.push(k[h].charCodeAt(0));return l}(i,lo);function l(a){var b=[];return b.push("$2"),f>="a"&&b.push(f),b.push("$"),h<10&&b.push("0"),b.push(h.toString()),b.push("$"),b.push(ln(k,k.length)),b.push(ln(a,4*ls.length-1)),b.join("")}if(void 0===c)return l(lw(j,k,h));lw(j,k,h,function(a,b){a?c(a,null):c(null,l(b))},d)}let ly=function(a,b,c,d){function e(c){"string"!=typeof a||"string"!=typeof b?lk(c.bind(this,Error("Illegal arguments: "+typeof a+", "+typeof b))):60!==b.length?lk(c.bind(this,null,!1)):lj(a,b.substring(0,29),function(a,d){a?c(a):c(null,function(a,b){for(var c=a.length^b.length,d=0;d<a.length;++d)c|=a.charCodeAt(d)^b.charCodeAt(d);return 0===c}(d,b))},d)}if(!c)return new Promise(function(a,b){e(function(c,d){c?b(c):a(d)})});if("function"!=typeof c)throw Error("Illegal callback: "+typeof c);e(c)},lz=[];class lA{static generateId(){return`audit_${Date.now()}_${Math.random().toString(36).substr(2,9)}`}static async logLoginAttempt(a,b,c,d,e,f){try{let b={id:this.generateId(),eventType:c?"LOGIN_SUCCESS":"LOGIN_FAILURE",action:"login",description:c?"Successful login":"Failed login attempt",userId:a,severity:c?"LOW":"MEDIUM",ipAddress:d,userAgent:e,createdAt:new Date};lz.unshift(b),lz.length>1e3&&lz.splice(1e3),console.log("AUDIT:",b)}catch(a){console.error("Failed to log login attempt:",a)}}static async logLogout(a,b,c){let d={id:this.generateId(),eventType:"LOGOUT",action:"logout",description:"User logout",userId:a,severity:"LOW",ipAddress:b,userAgent:c,createdAt:new Date};lz.unshift(d),lz.length>1e3&&lz.splice(1e3),console.log("AUDIT:",d)}static async logDataAccess(a,b,c,d,e,f){let g={id:this.generateId(),eventType:"DATA_ACCESS",action:`${c}_${b}`,description:`User accessed ${b} data`,userId:a,severity:"LOW",ipAddress:e,userAgent:f,createdAt:new Date};lz.unshift(g),lz.length>1e3&&lz.splice(1e3),console.log("AUDIT:",g)}static async logDataModification(a,b,c,d,e,f,g){let h={id:this.generateId(),eventType:"DATA_MODIFICATION",action:`${c}_${b}`,description:`User ${c}ed ${b}`,userId:a,severity:"delete"===c?"MEDIUM":"LOW",ipAddress:f,userAgent:g,createdAt:new Date};lz.unshift(h),lz.length>1e3&&lz.splice(1e3),console.log("AUDIT:",h)}static async logSecurityEvent(a,b,c={},d,e){let f={id:this.generateId(),eventType:a,action:"security_event",description:`${a} event occurred`,userId:b,severity:"UNAUTHORIZED_ACCESS"===a?"HIGH":"MEDIUM",details:c,ipAddress:d,userAgent:e,createdAt:new Date};lz.unshift(f),lz.length>1e3&&lz.splice(1e3),console.log("SECURITY:",f)}static async getRecentEvents(a=100){return lz.slice(0,a)}static async getSecurityEvents(a=50){return lz.filter(a=>"HIGH"===a.severity||"CRITICAL"===a.severity||a.eventType?.includes("SECURITY")||"UNAUTHORIZED_ACCESS"===a.eventType||"ACCOUNT_LOCKED"===a.eventType).slice(0,a)}}class lB{static{this.config={maxFailedAttempts:5,lockoutDuration:15,progressiveLockout:!0,maxLockoutDuration:1440}}static async recordFailedAttempt(a,b,c,d){console.log("FAILED_LOGIN_ATTEMPT:",{userId:a,email:b,timestamp:new Date().toISOString(),ipAddress:c,userAgent:d})}static async recordLoginAttempt(a,b,c,d,e,f){if(await lA.logLoginAttempt(a,b,c,d,e,f),c)return{success:!0,shouldLock:!1};if(!a)return{success:!1,shouldLock:!1,reason:"User not found"};await this.recordFailedAttempt(a,b,d,e);let g=await this.getRecentFailedAttempts(a,15);return g>=this.config.maxFailedAttempts?{success:!1,shouldLock:!0,lockoutUntil:new Date(Date.now()+60*this.config.lockoutDuration*1e3),reason:`Account locked for ${this.config.lockoutDuration} minutes due to multiple failed attempts`}:{success:!1,shouldLock:!1,reason:`Invalid credentials (${g+1}/${this.config.maxFailedAttempts} recent attempts)`}}static async getRecentFailedAttempts(a,b){return Date.now(),0}static async isAccountLocked(a){return{locked:!1}}static async unlockAccount(a,b,c,d){try{return await lA.logSecurityEvent("PASSWORD_CHANGE",a,{action:"unlock_account",unlockedBy:b},c,d),{success:!0,message:"Account unlocked successfully"}}catch(a){return{success:!1,message:"Failed to unlock account"}}}static async getLockoutStatus(a){return{isLocked:!1,recentFailedAttempts:0,maxAttempts:this.config.maxFailedAttempts,config:this.config}}static updateConfig(a){this.config={...this.config,...a}}static getConfig(){return{...this.config}}}class lC{static async createSession(a,b,c,d,e,f){let g=new Date(Date.now()+18e5),h={id:`session_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,userId:a,sessionToken:b,refreshToken:c||void 0,deviceInfo:d||void 0,ipAddress:e||void 0,userAgent:f||void 0,createdAt:new Date,lastActivity:new Date,expiresAt:g,status:"active"};return await lf.userSession.create({data:{id:h.id,userId:h.userId,sessionToken:h.sessionToken,refreshToken:h.refreshToken||null,deviceInfo:h.deviceInfo||null,ipAddress:h.ipAddress||null,userAgent:h.userAgent||null,createdAt:h.createdAt,lastActivity:h.lastActivity,expiresAt:h.expiresAt,status:h.status.toUpperCase()}}),h}static async getSession(a){try{let b=await lf.userSession.findUnique({where:{sessionToken:a}});if(!b)return null;if(b.expiresAt<new Date)return await lf.userSession.update({where:{id:b.id},data:{status:"EXPIRED"}}),null;if("REVOKED"===b.status||"EXPIRED"===b.status)return null;return{id:b.id,userId:b.userId,sessionToken:b.sessionToken,refreshToken:b.refreshToken||void 0,deviceInfo:b.deviceInfo||void 0,ipAddress:b.ipAddress||void 0,userAgent:b.userAgent||void 0,createdAt:b.createdAt,lastActivity:b.lastActivity,expiresAt:b.expiresAt,status:b.status.toLowerCase()}}catch(a){return console.error("Error getting session:",a),null}}static async validateSession(a,b,c){try{let b=await this.getSession(a);if(!b)return{valid:!1,reason:"Session not found or expired"};return await this.updateActivity(a),{valid:!0,session:b}}catch(a){return console.error("Error validating session:",a),{valid:!1,reason:"Session validation failed"}}}static async updateActivity(a){try{await lf.userSession.update({where:{sessionToken:a},data:{lastActivity:new Date}})}catch(a){console.error("Error updating session activity:",a)}}static async invalidateSession(a){try{return(await lf.userSession.updateMany({where:{sessionToken:a},data:{status:"REVOKED"}})).count>0}catch(a){return console.error("Error invalidating session:",a),!1}}static async invalidateAllUserSessions(a){try{return(await lf.userSession.updateMany({where:{userId:a,status:"ACTIVE"},data:{status:"REVOKED"}})).count}catch(a){return console.error("Error invalidating all user sessions:",a),0}}static async getUserSessions(a){try{return(await lf.userSession.findMany({where:{userId:a,status:"ACTIVE"},orderBy:{lastActivity:"desc"}})).map(a=>({id:a.id,userId:a.userId,sessionToken:a.sessionToken,refreshToken:a.refreshToken||void 0,deviceInfo:a.deviceInfo||void 0,ipAddress:a.ipAddress||void 0,userAgent:a.userAgent||void 0,createdAt:a.createdAt,lastActivity:a.lastActivity,expiresAt:a.expiresAt,status:a.status.toLowerCase()}))}catch(a){return console.error("Error getting user sessions:",a),[]}}static async cleanupExpiredSessions(){try{return(await lf.userSession.deleteMany({where:{OR:[{expiresAt:{lt:new Date}},{status:"EXPIRED"}]}})).count}catch(a){return console.error("Error cleaning up expired sessions:",a),0}}static async getSessionStats(){try{let a=new Date,[b,c,d]=await Promise.all([lf.userSession.count(),lf.userSession.count({where:{status:"ACTIVE",expiresAt:{gt:a}}}),lf.userSession.count({where:{OR:[{expiresAt:{lt:a}},{status:"EXPIRED"}]}})]),e=await lf.userSession.findMany({where:{status:"ACTIVE"},select:{createdAt:!0}}),f=e.length>0?e.reduce((b,c)=>b+(a.getTime()-c.createdAt.getTime()),0)/e.length:0;return{totalSessions:b,activeSessions:c,expiredSessions:d,averageSessionDuration:Math.round(f/1e3/60)}}catch(a){return console.error("Error getting session stats:",a),{totalSessions:0,activeSessions:0,expiredSessions:0,averageSessionDuration:0}}}}class lD{static{this.config={sessionTimeout:30,maxConcurrentSessions:3,refreshTokenRotation:!0,requireHTTPS:!0,sessionFingerprinting:!0}}static async createSession(a,b,c,d,e,f){let g=await lC.createSession(a,b,c,d,e,f);return await lA.logSecurityEvent("PASSWORD_CHANGE",a,{action:"session_created",sessionId:g.id,deviceInfo:d,timestamp:new Date().toISOString()},e,f),g}static async validateSession(a,b,c){return await lC.validateSession(a,b,c)}static async refreshSession(a,b,c){try{if(this.config.refreshTokenRotation){let d=this.generateSecureToken(32),e=this.generateSecureToken(32);return await lA.logSecurityEvent("PASSWORD_CHANGE","system",{action:"session_refreshed",oldRefreshToken:a.substring(0,8)+"...",newRefreshToken:e.substring(0,8)+"...",timestamp:new Date().toISOString()},b,c),{success:!0,newSessionToken:d,newRefreshToken:e}}return{success:!1,reason:"Token rotation disabled"}}catch(a){return console.error("Error refreshing session:",a),{success:!1,reason:"Session refresh failed"}}}static async invalidateSession(a,b,c="manual_invalidation",d,e){let f=await lC.invalidateSession(a);return f&&await lA.logSecurityEvent("PASSWORD_CHANGE",b||"system",{action:"session_invalidated",reason:c,sessionToken:a.substring(0,8)+"...",timestamp:new Date().toISOString()},d,e),{success:f}}static async invalidateAllUserSessions(a,b="security_reason",c,d){let e=await lC.invalidateAllUserSessions(a);return await lA.logSecurityEvent("PASSWORD_CHANGE",a,{action:"all_sessions_invalidated",reason:b,invalidatedCount:e,timestamp:new Date().toISOString()},c,d),{success:!0,invalidatedCount:e}}static async getUserSessions(a){return await lC.getUserSessions(a)}static async cleanupExpiredSessions(){return await lC.cleanupExpiredSessions()}static async checkSuspiciousActivity(a,b,c){let d=[],e=!1;try{let f=await lC.getUserSessions(a),g=[...new Set(f.map(a=>a.ipAddress).filter(Boolean))];g.length>1&&!g.includes(b)&&(d.push("Multiple IP addresses detected"),e=!0);let h=[...new Set(f.map(a=>a.userAgent).filter(Boolean))];return h.length>1&&!h.includes(c)&&(d.push("Multiple devices detected"),e=!0),f.filter(a=>Date.now()-a.createdAt.getTime()<3e5).length>this.config.maxConcurrentSessions&&(d.push("Rapid session creation detected"),e=!0),e&&await lA.logSecurityEvent("UNAUTHORIZED_ACCESS",a,{action:"suspicious_activity",reasons:d,currentIpAddress:b,currentUserAgent:c},b,c),{suspicious:e,reasons:d}}catch(a){return console.error("Error checking suspicious activity:",a),{suspicious:!1,reasons:[]}}}static generateSecureToken(a){let b="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",c="";for(let d=0;d<a;d++)c+=b.charAt(Math.floor(Math.random()*b.length));return c}static async getSessionStats(){return await lC.getSessionStats()}static updateConfig(a){this.config={...this.config,...a}}static getConfig(){return{...this.config}}}class lE{static{this.rateLimitStore=new Map}static rateLimit(a,b){let c=`rate_limit:${a}`,d=Date.now(),e=this.rateLimitStore.get(c);return!e||d>e.resetTime?(this.rateLimitStore.set(c,{count:1,resetTime:d+b.windowMs}),{allowed:!0,remaining:b.max-1,resetTime:d+b.windowMs}):e.count>=b.max?{allowed:!1,remaining:0,resetTime:e.resetTime,message:b.message||`Rate limit exceeded. Try again in ${Math.ceil((e.resetTime-d)/1e3)} seconds.`}:(e.count++,this.rateLimitStore.set(c,e),{allowed:!0,remaining:b.max-e.count,resetTime:e.resetTime})}static generateCSRFToken(){let a=new Uint8Array(32);return crypto.getRandomValues(a),Array.from(a,a=>a.toString(16).padStart(2,"0")).join("")}static verifyCSRFToken(a){try{let b=a.headers.get("x-csrf-token");if(a.headers.get("origin"),a.headers.get("referer"),!b)return{valid:!1,reason:"CSRF token missing"};if(!/^[a-f0-9]{64}$/.test(b))return{valid:!1,reason:"Invalid CSRF token format"};return{valid:!0}}catch(a){return{valid:!1,reason:"CSRF validation error"}}}static validateOrigin(a,b){let c=a.headers.get("origin"),d=a.headers.get("referer");if(!c&&!d)return{valid:!0};let e=c||d;if(!e)return{valid:!1,reason:"No origin or referer header"};let f=new URL(e).hostname,g=b.some(a=>a===f||!!a.startsWith("*.")&&f.endsWith(a.substring(2)));return{valid:g,reason:g?void 0:`Origin ${f} not allowed`}}static getSecurityHeaders(){return{"X-Frame-Options":"DENY","X-Content-Type-Options":"nosniff","X-XSS-Protection":"1; mode=block","Strict-Transport-Security":"max-age=31536000; includeSubDomains","Referrer-Policy":"strict-origin-when-cross-origin","Content-Security-Policy":"default-src 'self'; script-src 'self' 'unsafe-inline'; style-src 'self' 'unsafe-inline'; img-src 'self' data: https:; font-src 'self'; connect-src 'self';","Permissions-Policy":"geolocation=(), microphone=(), camera=()"}}static sanitizeString(a,b){if("string"!=typeof a)return"";let c=a.trim().replace(/[\x00-\x1F\x7F]/g,"").replace(/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,"").replace(/<[^>]*>/g,"").replace(/javascript:/gi,"").replace(/data:/gi,"").replace(/vbscript:/gi,"");return b&&c.length>b&&(c=c.substring(0,b)),c}static sanitizeEmail(a){let b=this.sanitizeString(a,254);return/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(b)?b.toLowerCase():""}static sanitizeUrl(a){let b=this.sanitizeString(a,2048);try{let a=new URL(b);if(!["http:","https:"].includes(a.protocol))return"";return a.toString()}catch{return""}}static validatePasswordStrength(a){let b=[],c=0;a.length>=8&&(c+=20),a.length>=12&&(c+=20),a.length>=16&&(c+=10),/[a-z]/.test(a)&&(c+=10),/[A-Z]/.test(a)&&(c+=10),/\d/.test(a)&&(c+=10),/[!@#$%^&*()_+\-=\[\]{};':"\\|,.<>\/?]/.test(a)&&(c+=10),/(.)\1{2,}/.test(a)&&(c-=10),/123|abc|qwe|asd/i.test(a)&&(c-=15),a.length<8&&b.push("Password must be at least 8 characters long"),/[a-z]/.test(a)||b.push("Include lowercase letters"),/[A-Z]/.test(a)||b.push("Include uppercase letters"),/\d/.test(a)||b.push("Include numbers"),/[!@#$%^&*]/.test(a)||b.push("Include special characters"),/(.)\1{2,}/.test(a)&&b.push("Avoid repeated characters"),/123|abc|qwe|asd/i.test(a)&&b.push("Avoid common patterns");let d=c>=40&&0===b.length;return{score:Math.max(0,Math.min(100,c)),feedback:b,valid:d}}static generateSecureRandomString(a,b){let c=b||"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",d="",e=new Uint8Array(a);crypto.getRandomValues(e);for(let b=0;b<a;b++)d+=c.charAt((e[b]||0)%c.length);return d}static async hashWithSalt(a,b){let c=b||await li(12);return{hash:await lj(a,c),salt:c}}static async verifyHash(a,b,c){return await ly(a,b)}static detectSuspiciousPatterns(a){let b=[],c=[/(\b(SELECT|INSERT|UPDATE|DELETE|DROP|CREATE|ALTER|EXEC|UNION)\b)/gi,/('|(\\)|(--|#|\/\*))/gi,/((\%27)|(\'))((\%6F)|o|(\%4F))((\%72)|r|(\%52))/gi],d=[/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,/<iframe\b[^<]*(?:(?!<\/iframe>)<[^<]*)*<\/iframe>/gi,/javascript:/gi,/on\w+\s*=/gi],e=[/\.\./g,/[\\/]/g];return[...c,...d,...e,/;|\||&&|\|\|/g,/[`$]/g].forEach((f,g)=>{if(f.test(a)){let a=g<c.length?"SQL injection":g<c.length+d.length?"XSS":g<c.length+d.length+e.length?"Path traversal":"Command injection";b.push(a)}}),{suspicious:b.length>0,patterns:b}}static logSecurityEvent(a,b={},c="MEDIUM"){console.log("SECURITY:",{timestamp:new Date().toISOString(),event:a,severity:c,details:b})}static cleanupRateLimitStore(){let a=Date.now();for(let[b,c]of this.rateLimitStore.entries())a>c.resetTime&&this.rateLimitStore.delete(b)}}let{handlers:lF,auth:lG,signIn:lH,signOut:lI}=function(a){if("function"==typeof a){let b=async b=>{let c=await a(b);return hw(c),hq(hv(b),c)};return{handlers:{GET:b,POST:b},auth:hK(a,a=>hw(a)),signIn:async(b,c,d)=>{let e=await a(void 0);return hw(e),hR(b,c,d,e)},signOut:async b=>{let c=await a(void 0);return hw(c),hS(b,c)},unstable_update:async b=>{let c=await a(void 0);return hw(c),hT(b,c)}}}hw(a);let b=b=>hq(hv(b),a);return{handlers:{GET:b,POST:b},auth:hK(a),signIn:(b,c,d)=>hR(b,c,d,a),signOut:b=>hS(b,a),unstable_update:b=>hT(b,a)}}({providers:[{id:"google",name:"Google",type:"oidc",issuer:"https://accounts.google.com",style:{brandColor:"#1a73e8"},options:{clientId:lc.googleClientId,clientSecret:lc.googleClientSecret}},{id:"credentials",name:"Credentials",type:"credentials",credentials:{},authorize:()=>null,options:{name:"credentials",credentials:{email:{label:"Email",type:"email"},password:{label:"Password",type:"password"}},async authorize(a,b){let c=b?.headers?.get("x-forwarded-for")||b?.headers?.get("x-real-ip")||"unknown",d=b?.headers?.get("user-agent")||"unknown";if(console.log("\uD83D\uDD0D Enhanced authentication attempt:",{hasEmail:!!a?.email,hasPassword:!!a?.password,email:a?.email,ipAddress:c,userAgent:d}),!a||"string"!=typeof a.email||"string"!=typeof a.password)return console.log(" Invalid credentials format"),null;let e=await lf.user.findUnique({where:{email:a.email.toLowerCase()}});if(!e)return console.log(" User not found"),await lA.logLoginAttempt(void 0,a.email.toLowerCase(),!1,c,d,"User not found"),null;if(!e.password)return console.log(" User has no password set"),await lA.logLoginAttempt(e.id,e.email,!1,c,d,"No password set"),null;if((await lB.isAccountLocked(e.id)).locked)return console.log(" Account is locked"),await lA.logLoginAttempt(e.id,e.email,!1,c,d,"Account locked"),null;let f=await ly(a.password,e.password);if(console.log("\uD83D\uDD10 Password validation:",{valid:f}),!f)return console.log(" Invalid password"),await lB.recordLoginAttempt(e.id,e.email,!1,c,d,"Invalid password"),null;let g=await lD.checkSuspiciousActivity(e.id,c,d);g.suspicious&&(console.log(" Suspicious activity detected:",g.reasons),await lA.logSecurityEvent("UNAUTHORIZED_ACCESS",e.id,{reasons:g.reasons,ipAddress:c,userAgent:d,eventType:"SUSPICIOUS_LOGIN"},c,d));let h=lE.generateSecureRandomString(32),i=lE.generateSecureRandomString(32);await lD.createSession(e.id,h,i,`Browser: ${d.substring(0,50)}`,c,d),await lA.logLoginAttempt(e.id,e.email,!0,c,d,"Successful login");let j={id:e.id,email:e.email,name:e.name,role:e.role,siteIds:e.siteIds,sessionToken:h,refreshToken:i};return console.log(" Enhanced authentication successful for user:",e.email),j}}}],callbacks:{session:async({session:a,token:b})=>(a.user&&b&&(a.user.id=b.sub,a.user.role=b.role||"SITE_MANAGER",a.user.siteIds=b.siteIds?JSON.parse(b.siteIds):[]),a),jwt:async({token:a,user:b})=>(b&&(a.id=b.id,a.role=b.role,a.siteIds=b.siteIds),a)},pages:{signIn:"/login"},session:{strategy:"jwt"}}),lJ=lG(async a=>{let b=!!a.auth,c=a.nextUrl.pathname.startsWith("/login"),d="/"===a.nextUrl.pathname,e=a.headers.get("x-forwarded-for")||a.headers.get("x-real-ip")||"unknown",f=a.headers.get("user-agent")||"unknown",g=a.nextUrl.pathname;if(d&&b||c&&b)return Response.redirect(new URL("/dashboard",a.nextUrl));if(!b&&(a.nextUrl.pathname.startsWith("/dashboard")||a.nextUrl.pathname.startsWith("/admin")||a.nextUrl.pathname.startsWith("/security"))){try{await lA.logSecurityEvent("UNAUTHORIZED_ACCESS","anonymous",{attemptedPath:g,httpMethod:a.method,reason:"Authentication required"},e,f)}catch(a){console.error("Failed to log unauthorized access attempt:",a)}return Response.redirect(new URL("/login",a.nextUrl))}return aa.next()}),lK={matcher:["/((?!api|_next/static|_next/image|favicon.ico).*)"]};c(789);let lL={...p},lM="/src/middleware",lN=(0,lL.middleware||lL.default);class lO extends Error{constructor(a){super(a),this.stack=""}}if("function"!=typeof lN)throw new lO(`The Middleware file "${lM}" must export a function named \`middleware\` or a default function.`);function lP(a){return bj({...a,page:lM,handler:async(...a)=>{try{return await lN(...a)}catch(e){let b=a[0],c=new URL(b.url),d=c.pathname+c.search;throw await t(e,{path:d,method:b.method,headers:Object.fromEntries(b.headers.entries())},{routerKind:"Pages Router",routePath:"/proxy",routeType:"proxy",revalidateReason:void 0}),e}}})}},762:(a,b,c)=>{a.exports={...c(820)}},778:(a,b,c)=>{"use strict";c.d(b,{J:()=>d});let d=(0,c(58).xl)()},789:(a,b,c)=>{"use strict";c.d(b,{p:()=>f});var d=c(833),e=c(213);function f(a){return(0,e.nJ)(a)||(0,d.RM)(a)}},820:(a,b,c)=>{Object.defineProperty(b,"__esModule",{value:!0});let{PrismaClientKnownRequestError:d,PrismaClientUnknownRequestError:e,PrismaClientRustPanicError:f,PrismaClientInitializationError:g,PrismaClientValidationError:h,getPrismaClient:i,sqltag:j,empty:k,join:l,raw:m,skip:n,Decimal:o,Debug:p,objectEnumValues:q,makeStrictEnum:r,Extensions:s,warnOnce:t,defineDmmfProperty:u,Public:v,getRuntime:w,createParam:x}=c(227),y={};b.Prisma=y,b.$Enums={},y.prismaVersion={client:"6.18.0",engine:"34b5a692b7bd79939a9a2c3ef97d816e749cda2f"},y.PrismaClientKnownRequestError=d,y.PrismaClientUnknownRequestError=e,y.PrismaClientRustPanicError=f,y.PrismaClientInitializationError=g,y.PrismaClientValidationError=h,y.Decimal=o,y.sql=j,y.empty=k,y.join=l,y.raw=m,y.validator=v.validator,y.getExtensionContext=s.getExtensionContext,y.defineExtension=s.defineExtension,y.DbNull=q.instances.DbNull,y.JsonNull=q.instances.JsonNull,y.AnyNull=q.instances.AnyNull,y.NullTypes={DbNull:q.classes.DbNull,JsonNull:q.classes.JsonNull,AnyNull:q.classes.AnyNull},b.Prisma.TransactionIsolationLevel=r({ReadUncommitted:"ReadUncommitted",ReadCommitted:"ReadCommitted",RepeatableRead:"RepeatableRead",Serializable:"Serializable"}),b.Prisma.AccountScalarFieldEnum={id:"id",userId:"userId",type:"type",provider:"provider",providerAccountId:"providerAccountId",refresh_token:"refresh_token",access_token:"access_token",expires_at:"expires_at",token_type:"token_type",scope:"scope",id_token:"id_token",session_state:"session_state"},b.Prisma.SessionScalarFieldEnum={id:"id",sessionToken:"sessionToken",userId:"userId",expires:"expires"},b.Prisma.UserScalarFieldEnum={id:"id",name:"name",email:"email",emailVerified:"emailVerified",image:"image",password:"password",role:"role",siteIds:"siteIds",failedLoginAttempts:"failedLoginAttempts",lockedUntil:"lockedUntil",lastLoginAttempt:"lastLoginAttempt",lastLoginSuccess:"lastLoginSuccess",lastPasswordChange:"lastPasswordChange",passwordHistory:"passwordHistory",createdAt:"createdAt",updatedAt:"updatedAt"},b.Prisma.VerificationTokenScalarFieldEnum={identifier:"identifier",token:"token",expires:"expires"},b.Prisma.SiteScalarFieldEnum={id:"id",name:"name",address:"address",status:"status",createdAt:"createdAt",updatedAt:"updatedAt",deletedAt:"deletedAt"},b.Prisma.RoomScalarFieldEnum={id:"id",name:"name",siteId:"siteId",status:"status",tenantName:"tenantName",tenantPhone:"tenantPhone",notes:"notes",createdAt:"createdAt",updatedAt:"updatedAt"},b.Prisma.AssetScalarFieldEnum={id:"id",assetNumber:"assetNumber",brand:"brand",manufacturerPart:"manufacturerPart",serialNumber:"serialNumber",siteId:"siteId",roomId:"roomId",installedDate:"installedDate",type:"type",userId:"userId",createdAt:"createdAt",updatedAt:"updatedAt"},b.Prisma.AssetImageScalarFieldEnum={id:"id",url:"url",assetId:"assetId",createdAt:"createdAt",updatedAt:"updatedAt"},b.Prisma.UserLoginAttemptScalarFieldEnum={id:"id",userId:"userId",email:"email",ipAddress:"ipAddress",userAgent:"userAgent",success:"success",reason:"reason",createdAt:"createdAt"},b.Prisma.UserSessionScalarFieldEnum={id:"id",userId:"userId",sessionToken:"sessionToken",refreshToken:"refreshToken",deviceInfo:"deviceInfo",ipAddress:"ipAddress",userAgent:"userAgent",status:"status",lastActivity:"lastActivity",expiresAt:"expiresAt",createdAt:"createdAt"},b.Prisma.SecurityEventScalarFieldEnum={id:"id",userId:"userId",eventType:"eventType",description:"description",ipAddress:"ipAddress",userAgent:"userAgent",resource:"resource",metadata:"metadata",severity:"severity",createdAt:"createdAt"},b.Prisma.PermissionScalarFieldEnum={id:"id",name:"name",description:"description",resource:"resource",action:"action",createdAt:"createdAt"},b.Prisma.RolePermissionScalarFieldEnum={id:"id",role:"role",permissionId:"permissionId",createdAt:"createdAt"},b.Prisma.UserPermissionScalarFieldEnum={id:"id",userId:"userId",permissionId:"permissionId",granted:"granted",createdAt:"createdAt"},b.Prisma.PasswordResetTokenScalarFieldEnum={id:"id",userId:"userId",token:"token",expiresAt:"expiresAt",used:"used",createdAt:"createdAt"},b.Prisma.SortOrder={asc:"asc",desc:"desc"},b.Prisma.QueryMode={default:"default",insensitive:"insensitive"},b.Prisma.NullsOrder={first:"first",last:"last"},b.Role=b.$Enums.Role={SUPER_ADMIN:"SUPER_ADMIN",ADMIN:"ADMIN",SITE_MANAGER:"SITE_MANAGER"},b.SecurityEventType=b.$Enums.SecurityEventType={LOGIN_SUCCESS:"LOGIN_SUCCESS",LOGIN_FAILURE:"LOGIN_FAILURE",LOGOUT:"LOGOUT",PASSWORD_CHANGE:"PASSWORD_CHANGE",PASSWORD_RESET_REQUEST:"PASSWORD_RESET_REQUEST",PASSWORD_RESET_SUCCESS:"PASSWORD_RESET_SUCCESS",ACCOUNT_LOCKED:"ACCOUNT_LOCKED",ACCOUNT_UNLOCKED:"ACCOUNT_UNLOCKED",PERMISSION_GRANTED:"PERMISSION_GRANTED",PERMISSION_REVOKED:"PERMISSION_REVOKED",USER_CREATED:"USER_CREATED",USER_DELETED:"USER_DELETED",SESSION_CREATED:"SESSION_CREATED",SESSION_INVALIDATED:"SESSION_INVALIDATED",DATA_ACCESS:"DATA_ACCESS",DATA_MODIFICATION:"DATA_MODIFICATION",UNAUTHORIZED_ACCESS_ATTEMPT:"UNAUTHORIZED_ACCESS_ATTEMPT"},b.SessionStatus=b.$Enums.SessionStatus={ACTIVE:"ACTIVE",EXPIRED:"EXPIRED",REVOKED:"REVOKED"},b.SiteStatus=b.$Enums.SiteStatus={ACTIVE:"ACTIVE",SUSPENDED:"SUSPENDED",ARCHIVED:"ARCHIVED"},b.RoomStatus=b.$Enums.RoomStatus={OCCUPIED:"OCCUPIED",VACANT:"VACANT",READY:"READY"},b.AssetType=b.$Enums.AssetType={WASHER:"WASHER",DRYER:"DRYER",DISH_WASHER:"DISH_WASHER",REFRIGERATOR:"REFRIGERATOR",AIR_CONDITIONER:"AIR_CONDITIONER",OVEN_STOVE:"OVEN_STOVE"},b.Prisma.ModelName={Account:"Account",Session:"Session",User:"User",VerificationToken:"VerificationToken",Site:"Site",Room:"Room",Asset:"Asset",AssetImage:"AssetImage",UserLoginAttempt:"UserLoginAttempt",UserSession:"UserSession",SecurityEvent:"SecurityEvent",Permission:"Permission",RolePermission:"RolePermission",UserPermission:"UserPermission",PasswordResetToken:"PasswordResetToken"};let z={generator:{name:"client",provider:{fromEnvVar:null,value:"prisma-client-js"},output:{value:"c:\\Dev\\asset_management\\node_modules\\.prisma\\client",fromEnvVar:null},config:{engineType:"library"},binaryTargets:[{fromEnvVar:null,value:"windows",native:!0}],previewFeatures:[],sourceFilePath:"c:\\Dev\\asset_management\\prisma\\schema.prisma",isCustomOutput:!0},relativeEnvPaths:{rootEnvPath:null,schemaEnvPath:"../../../.env"},relativePath:"../../../prisma",clientVersion:"6.18.0",engineVersion:"34b5a692b7bd79939a9a2c3ef97d816e749cda2f",datasourceNames:["db"],activeProvider:"postgresql",postinstall:!1,inlineDatasources:{db:{url:{fromEnvVar:"DATABASE_URL",value:null}}},inlineSchema:'// This is your Prisma schema file,\n// learn more about it in the docs: https://pris.ly/d/prisma-schema\n\ngenerator client {\n  provider   = "prisma-client-js"\n  output     = "../node_modules/.prisma/client"\n  engineType = "edge"\n}\n\ndatasource db {\n  provider  = "postgres"\n  url       = env("DATABASE_URL")\n  directUrl = env("DIRECT_URL")\n}\n\nenum Role {\n  SUPER_ADMIN\n  ADMIN\n  SITE_MANAGER\n}\n\nenum SecurityEventType {\n  LOGIN_SUCCESS\n  LOGIN_FAILURE\n  LOGOUT\n  PASSWORD_CHANGE\n  PASSWORD_RESET_REQUEST\n  PASSWORD_RESET_SUCCESS\n  ACCOUNT_LOCKED\n  ACCOUNT_UNLOCKED\n  PERMISSION_GRANTED\n  PERMISSION_REVOKED\n  USER_CREATED\n  USER_DELETED\n  SESSION_CREATED\n  SESSION_INVALIDATED\n  DATA_ACCESS\n  DATA_MODIFICATION\n  UNAUTHORIZED_ACCESS_ATTEMPT\n}\n\nenum SessionStatus {\n  ACTIVE\n  EXPIRED\n  REVOKED\n}\n\nmodel Account {\n  id                String  @id @default(cuid())\n  userId            String\n  type              String\n  provider          String\n  providerAccountId String\n  refresh_token     String?\n  access_token      String?\n  expires_at        Int?\n  token_type        String?\n  scope             String?\n  id_token          String?\n  session_state     String?\n\n  user User @relation(fields: [userId], references: [id], onDelete: Cascade)\n\n  @@unique([provider, providerAccountId])\n}\n\nmodel Session {\n  id           String   @id @default(cuid())\n  sessionToken String   @unique\n  userId       String\n  expires      DateTime\n  user         User     @relation(fields: [userId], references: [id], onDelete: Cascade)\n}\n\nmodel User {\n  id            String    @id @default(cuid())\n  name          String?\n  email         String    @unique\n  emailVerified DateTime?\n  image         String?\n  password      String? // For credentials-based login\n  role          Role      @default(SITE_MANAGER)\n  siteIds       String // JSON string of site IDs the user has access to\n\n  // Security fields\n  failedLoginAttempts Int       @default(0)\n  lockedUntil         DateTime?\n  lastLoginAttempt    DateTime?\n  lastLoginSuccess    DateTime?\n  lastPasswordChange  DateTime  @default(now())\n  passwordHistory     String? // JSON string of last 5 password hashes\n\n  accounts        Account[]\n  sessions        Session[]\n  assets          Asset[]\n  loginAttempts   UserLoginAttempt[]\n  userSessions    UserSession[]\n  securityEvents  SecurityEvent[]\n  userPermissions UserPermission[]\n\n  createdAt DateTime @default(now())\n  updatedAt DateTime @updatedAt\n}\n\nmodel VerificationToken {\n  identifier String\n  token      String   @unique\n  expires    DateTime\n\n  @@unique([identifier, token])\n}\n\nenum SiteStatus {\n  ACTIVE\n  SUSPENDED\n  ARCHIVED\n}\n\nmodel Site {\n  id        String     @id @default(cuid())\n  name      String     @unique\n  address   String?\n  status    SiteStatus @default(ACTIVE)\n  createdAt DateTime   @default(now())\n  updatedAt DateTime   @updatedAt\n  deletedAt DateTime?\n\n  assets Asset[]\n  rooms  Room[]\n}\n\nmodel Room {\n  id          String     @id @default(cuid())\n  name        String\n  siteId      String\n  status      RoomStatus @default(READY)\n  tenantName  String?\n  tenantPhone String?\n  notes       String?\n  site        Site       @relation(fields: [siteId], references: [id], onDelete: Cascade)\n\n  assets Asset[]\n\n  createdAt DateTime @default(now())\n  updatedAt DateTime @updatedAt\n\n  @@unique([siteId, name])\n}\n\nenum RoomStatus {\n  OCCUPIED\n  VACANT\n  READY\n}\n\nenum AssetType {\n  WASHER\n  DRYER\n  DISH_WASHER\n  REFRIGERATOR\n  AIR_CONDITIONER\n  OVEN_STOVE\n}\n\nmodel Asset {\n  id               String    @id @default(cuid())\n  assetNumber      String    @unique\n  brand            String\n  manufacturerPart String\n  serialNumber     String    @unique\n  siteId           String\n  roomId           String\n  installedDate    DateTime\n  type             AssetType\n\n  site Site @relation(fields: [siteId], references: [id], onDelete: Cascade)\n  room Room @relation(fields: [roomId], references: [id], onDelete: Cascade)\n  user User @relation(fields: [userId], references: [id], onDelete: Cascade)\n\n  images AssetImage[]\n  userId String\n\n  createdAt DateTime @default(now())\n  updatedAt DateTime @updatedAt\n}\n\nmodel AssetImage {\n  id      String @id @default(cuid())\n  url     String\n  assetId String\n  asset   Asset  @relation(fields: [assetId], references: [id], onDelete: Cascade)\n\n  createdAt DateTime @default(now())\n  updatedAt DateTime @updatedAt\n}\n\n// Security Enhancement Models\n\nmodel UserLoginAttempt {\n  id        String   @id @default(cuid())\n  userId    String\n  email     String\n  ipAddress String?\n  userAgent String?\n  success   Boolean  @default(false)\n  reason    String?\n  createdAt DateTime @default(now())\n\n  user User @relation(fields: [userId], references: [id], onDelete: Cascade)\n\n  @@index([userId, createdAt])\n  @@index([ipAddress, createdAt])\n}\n\nmodel UserSession {\n  id           String        @id @default(cuid())\n  userId       String\n  sessionToken String        @unique\n  refreshToken String?       @unique\n  deviceInfo   String?\n  ipAddress    String?\n  userAgent    String?\n  status       SessionStatus @default(ACTIVE)\n  lastActivity DateTime      @default(now())\n  expiresAt    DateTime\n  createdAt    DateTime      @default(now())\n\n  user User @relation(fields: [userId], references: [id], onDelete: Cascade)\n\n  @@index([userId, status])\n  @@index([sessionToken])\n}\n\nmodel SecurityEvent {\n  id          String            @id @default(cuid())\n  userId      String?\n  eventType   SecurityEventType\n  description String\n  ipAddress   String?\n  userAgent   String?\n  resource    String? // e.g., "asset:123", "site:456"\n  metadata    String? // JSON string for additional data\n  severity    String            @default("INFO")\n  createdAt   DateTime          @default(now())\n\n  user User? @relation(fields: [userId], references: [id], onDelete: SetNull)\n\n  @@index([userId, createdAt])\n  @@index([eventType, createdAt])\n  @@index([severity, createdAt])\n}\n\nmodel Permission {\n  id          String   @id @default(cuid())\n  name        String   @unique\n  description String?\n  resource    String // e.g., "asset", "site", "user"\n  action      String // e.g., "create", "read", "update", "delete"\n  createdAt   DateTime @default(now())\n\n  rolePermissions RolePermission[]\n  userPermissions UserPermission[]\n}\n\nmodel RolePermission {\n  id           String   @id @default(cuid())\n  role         Role\n  permissionId String\n  createdAt    DateTime @default(now())\n\n  permission Permission @relation(fields: [permissionId], references: [id], onDelete: Cascade)\n\n  @@unique([role, permissionId])\n}\n\nmodel UserPermission {\n  id           String   @id @default(cuid())\n  userId       String\n  permissionId String\n  granted      Boolean  @default(true)\n  createdAt    DateTime @default(now())\n\n  user       User       @relation(fields: [userId], references: [id], onDelete: Cascade)\n  permission Permission @relation(fields: [permissionId], references: [id], onDelete: Cascade)\n\n  @@unique([userId, permissionId])\n}\n\nmodel PasswordResetToken {\n  id        String   @id @default(cuid())\n  userId    String\n  token     String   @unique\n  expiresAt DateTime\n  used      Boolean  @default(false)\n  createdAt DateTime @default(now())\n\n  @@index([userId])\n  @@index([token])\n}\n',inlineSchemaHash:"8f4b1a0e5c719d181e7cbb19205ff6aef5b4b83a7aeb3f51f3289f986c3066eb",copyEngine:!1};z.dirname="/",z.runtimeDataModel=JSON.parse('{"models":{"Account":{"dbName":null,"schema":null,"fields":[{"name":"id","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":true,"isReadOnly":false,"hasDefaultValue":true,"type":"String","nativeType":null,"default":{"name":"cuid","args":[1]},"isGenerated":false,"isUpdatedAt":false},{"name":"userId","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":true,"hasDefaultValue":false,"type":"String","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"type","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"String","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"provider","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"String","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"providerAccountId","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"String","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"refresh_token","kind":"scalar","isList":false,"isRequired":false,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"String","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"access_token","kind":"scalar","isList":false,"isRequired":false,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"String","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"expires_at","kind":"scalar","isList":false,"isRequired":false,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"Int","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"token_type","kind":"scalar","isList":false,"isRequired":false,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"String","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"scope","kind":"scalar","isList":false,"isRequired":false,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"String","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"id_token","kind":"scalar","isList":false,"isRequired":false,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"String","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"session_state","kind":"scalar","isList":false,"isRequired":false,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"String","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"user","kind":"object","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"User","nativeType":null,"relationName":"AccountToUser","relationFromFields":["userId"],"relationToFields":["id"],"relationOnDelete":"Cascade","isGenerated":false,"isUpdatedAt":false}],"primaryKey":null,"uniqueFields":[["provider","providerAccountId"]],"uniqueIndexes":[{"name":null,"fields":["provider","providerAccountId"]}],"isGenerated":false},"Session":{"dbName":null,"schema":null,"fields":[{"name":"id","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":true,"isReadOnly":false,"hasDefaultValue":true,"type":"String","nativeType":null,"default":{"name":"cuid","args":[1]},"isGenerated":false,"isUpdatedAt":false},{"name":"sessionToken","kind":"scalar","isList":false,"isRequired":true,"isUnique":true,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"String","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"userId","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":true,"hasDefaultValue":false,"type":"String","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"expires","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"DateTime","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"user","kind":"object","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"User","nativeType":null,"relationName":"SessionToUser","relationFromFields":["userId"],"relationToFields":["id"],"relationOnDelete":"Cascade","isGenerated":false,"isUpdatedAt":false}],"primaryKey":null,"uniqueFields":[],"uniqueIndexes":[],"isGenerated":false},"User":{"dbName":null,"schema":null,"fields":[{"name":"id","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":true,"isReadOnly":false,"hasDefaultValue":true,"type":"String","nativeType":null,"default":{"name":"cuid","args":[1]},"isGenerated":false,"isUpdatedAt":false},{"name":"name","kind":"scalar","isList":false,"isRequired":false,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"String","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"email","kind":"scalar","isList":false,"isRequired":true,"isUnique":true,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"String","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"emailVerified","kind":"scalar","isList":false,"isRequired":false,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"DateTime","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"image","kind":"scalar","isList":false,"isRequired":false,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"String","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"password","kind":"scalar","isList":false,"isRequired":false,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"String","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"role","kind":"enum","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":true,"type":"Role","nativeType":null,"default":"SITE_MANAGER","isGenerated":false,"isUpdatedAt":false},{"name":"siteIds","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"String","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"failedLoginAttempts","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":true,"type":"Int","nativeType":null,"default":0,"isGenerated":false,"isUpdatedAt":false},{"name":"lockedUntil","kind":"scalar","isList":false,"isRequired":false,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"DateTime","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"lastLoginAttempt","kind":"scalar","isList":false,"isRequired":false,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"DateTime","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"lastLoginSuccess","kind":"scalar","isList":false,"isRequired":false,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"DateTime","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"lastPasswordChange","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":true,"type":"DateTime","nativeType":null,"default":{"name":"now","args":[]},"isGenerated":false,"isUpdatedAt":false},{"name":"passwordHistory","kind":"scalar","isList":false,"isRequired":false,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"String","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"accounts","kind":"object","isList":true,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"Account","nativeType":null,"relationName":"AccountToUser","relationFromFields":[],"relationToFields":[],"isGenerated":false,"isUpdatedAt":false},{"name":"sessions","kind":"object","isList":true,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"Session","nativeType":null,"relationName":"SessionToUser","relationFromFields":[],"relationToFields":[],"isGenerated":false,"isUpdatedAt":false},{"name":"assets","kind":"object","isList":true,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"Asset","nativeType":null,"relationName":"AssetToUser","relationFromFields":[],"relationToFields":[],"isGenerated":false,"isUpdatedAt":false},{"name":"loginAttempts","kind":"object","isList":true,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"UserLoginAttempt","nativeType":null,"relationName":"UserToUserLoginAttempt","relationFromFields":[],"relationToFields":[],"isGenerated":false,"isUpdatedAt":false},{"name":"userSessions","kind":"object","isList":true,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"UserSession","nativeType":null,"relationName":"UserToUserSession","relationFromFields":[],"relationToFields":[],"isGenerated":false,"isUpdatedAt":false},{"name":"securityEvents","kind":"object","isList":true,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"SecurityEvent","nativeType":null,"relationName":"SecurityEventToUser","relationFromFields":[],"relationToFields":[],"isGenerated":false,"isUpdatedAt":false},{"name":"userPermissions","kind":"object","isList":true,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"UserPermission","nativeType":null,"relationName":"UserToUserPermission","relationFromFields":[],"relationToFields":[],"isGenerated":false,"isUpdatedAt":false},{"name":"createdAt","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":true,"type":"DateTime","nativeType":null,"default":{"name":"now","args":[]},"isGenerated":false,"isUpdatedAt":false},{"name":"updatedAt","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"DateTime","nativeType":null,"isGenerated":false,"isUpdatedAt":true}],"primaryKey":null,"uniqueFields":[],"uniqueIndexes":[],"isGenerated":false},"VerificationToken":{"dbName":null,"schema":null,"fields":[{"name":"identifier","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"String","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"token","kind":"scalar","isList":false,"isRequired":true,"isUnique":true,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"String","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"expires","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"DateTime","nativeType":null,"isGenerated":false,"isUpdatedAt":false}],"primaryKey":null,"uniqueFields":[["identifier","token"]],"uniqueIndexes":[{"name":null,"fields":["identifier","token"]}],"isGenerated":false},"Site":{"dbName":null,"schema":null,"fields":[{"name":"id","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":true,"isReadOnly":false,"hasDefaultValue":true,"type":"String","nativeType":null,"default":{"name":"cuid","args":[1]},"isGenerated":false,"isUpdatedAt":false},{"name":"name","kind":"scalar","isList":false,"isRequired":true,"isUnique":true,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"String","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"address","kind":"scalar","isList":false,"isRequired":false,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"String","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"status","kind":"enum","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":true,"type":"SiteStatus","nativeType":null,"default":"ACTIVE","isGenerated":false,"isUpdatedAt":false},{"name":"createdAt","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":true,"type":"DateTime","nativeType":null,"default":{"name":"now","args":[]},"isGenerated":false,"isUpdatedAt":false},{"name":"updatedAt","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"DateTime","nativeType":null,"isGenerated":false,"isUpdatedAt":true},{"name":"deletedAt","kind":"scalar","isList":false,"isRequired":false,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"DateTime","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"assets","kind":"object","isList":true,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"Asset","nativeType":null,"relationName":"AssetToSite","relationFromFields":[],"relationToFields":[],"isGenerated":false,"isUpdatedAt":false},{"name":"rooms","kind":"object","isList":true,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"Room","nativeType":null,"relationName":"RoomToSite","relationFromFields":[],"relationToFields":[],"isGenerated":false,"isUpdatedAt":false}],"primaryKey":null,"uniqueFields":[],"uniqueIndexes":[],"isGenerated":false},"Room":{"dbName":null,"schema":null,"fields":[{"name":"id","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":true,"isReadOnly":false,"hasDefaultValue":true,"type":"String","nativeType":null,"default":{"name":"cuid","args":[1]},"isGenerated":false,"isUpdatedAt":false},{"name":"name","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"String","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"siteId","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":true,"hasDefaultValue":false,"type":"String","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"status","kind":"enum","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":true,"type":"RoomStatus","nativeType":null,"default":"READY","isGenerated":false,"isUpdatedAt":false},{"name":"tenantName","kind":"scalar","isList":false,"isRequired":false,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"String","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"tenantPhone","kind":"scalar","isList":false,"isRequired":false,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"String","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"notes","kind":"scalar","isList":false,"isRequired":false,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"String","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"site","kind":"object","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"Site","nativeType":null,"relationName":"RoomToSite","relationFromFields":["siteId"],"relationToFields":["id"],"relationOnDelete":"Cascade","isGenerated":false,"isUpdatedAt":false},{"name":"assets","kind":"object","isList":true,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"Asset","nativeType":null,"relationName":"AssetToRoom","relationFromFields":[],"relationToFields":[],"isGenerated":false,"isUpdatedAt":false},{"name":"createdAt","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":true,"type":"DateTime","nativeType":null,"default":{"name":"now","args":[]},"isGenerated":false,"isUpdatedAt":false},{"name":"updatedAt","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"DateTime","nativeType":null,"isGenerated":false,"isUpdatedAt":true}],"primaryKey":null,"uniqueFields":[["siteId","name"]],"uniqueIndexes":[{"name":null,"fields":["siteId","name"]}],"isGenerated":false},"Asset":{"dbName":null,"schema":null,"fields":[{"name":"id","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":true,"isReadOnly":false,"hasDefaultValue":true,"type":"String","nativeType":null,"default":{"name":"cuid","args":[1]},"isGenerated":false,"isUpdatedAt":false},{"name":"assetNumber","kind":"scalar","isList":false,"isRequired":true,"isUnique":true,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"String","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"brand","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"String","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"manufacturerPart","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"String","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"serialNumber","kind":"scalar","isList":false,"isRequired":true,"isUnique":true,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"String","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"siteId","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":true,"hasDefaultValue":false,"type":"String","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"roomId","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":true,"hasDefaultValue":false,"type":"String","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"installedDate","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"DateTime","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"type","kind":"enum","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"AssetType","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"site","kind":"object","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"Site","nativeType":null,"relationName":"AssetToSite","relationFromFields":["siteId"],"relationToFields":["id"],"relationOnDelete":"Cascade","isGenerated":false,"isUpdatedAt":false},{"name":"room","kind":"object","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"Room","nativeType":null,"relationName":"AssetToRoom","relationFromFields":["roomId"],"relationToFields":["id"],"relationOnDelete":"Cascade","isGenerated":false,"isUpdatedAt":false},{"name":"user","kind":"object","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"User","nativeType":null,"relationName":"AssetToUser","relationFromFields":["userId"],"relationToFields":["id"],"relationOnDelete":"Cascade","isGenerated":false,"isUpdatedAt":false},{"name":"images","kind":"object","isList":true,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"AssetImage","nativeType":null,"relationName":"AssetToAssetImage","relationFromFields":[],"relationToFields":[],"isGenerated":false,"isUpdatedAt":false},{"name":"userId","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":true,"hasDefaultValue":false,"type":"String","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"createdAt","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":true,"type":"DateTime","nativeType":null,"default":{"name":"now","args":[]},"isGenerated":false,"isUpdatedAt":false},{"name":"updatedAt","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"DateTime","nativeType":null,"isGenerated":false,"isUpdatedAt":true}],"primaryKey":null,"uniqueFields":[],"uniqueIndexes":[],"isGenerated":false},"AssetImage":{"dbName":null,"schema":null,"fields":[{"name":"id","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":true,"isReadOnly":false,"hasDefaultValue":true,"type":"String","nativeType":null,"default":{"name":"cuid","args":[1]},"isGenerated":false,"isUpdatedAt":false},{"name":"url","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"String","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"assetId","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":true,"hasDefaultValue":false,"type":"String","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"asset","kind":"object","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"Asset","nativeType":null,"relationName":"AssetToAssetImage","relationFromFields":["assetId"],"relationToFields":["id"],"relationOnDelete":"Cascade","isGenerated":false,"isUpdatedAt":false},{"name":"createdAt","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":true,"type":"DateTime","nativeType":null,"default":{"name":"now","args":[]},"isGenerated":false,"isUpdatedAt":false},{"name":"updatedAt","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"DateTime","nativeType":null,"isGenerated":false,"isUpdatedAt":true}],"primaryKey":null,"uniqueFields":[],"uniqueIndexes":[],"isGenerated":false},"UserLoginAttempt":{"dbName":null,"schema":null,"fields":[{"name":"id","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":true,"isReadOnly":false,"hasDefaultValue":true,"type":"String","nativeType":null,"default":{"name":"cuid","args":[1]},"isGenerated":false,"isUpdatedAt":false},{"name":"userId","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":true,"hasDefaultValue":false,"type":"String","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"email","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"String","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"ipAddress","kind":"scalar","isList":false,"isRequired":false,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"String","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"userAgent","kind":"scalar","isList":false,"isRequired":false,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"String","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"success","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":true,"type":"Boolean","nativeType":null,"default":false,"isGenerated":false,"isUpdatedAt":false},{"name":"reason","kind":"scalar","isList":false,"isRequired":false,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"String","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"createdAt","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":true,"type":"DateTime","nativeType":null,"default":{"name":"now","args":[]},"isGenerated":false,"isUpdatedAt":false},{"name":"user","kind":"object","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"User","nativeType":null,"relationName":"UserToUserLoginAttempt","relationFromFields":["userId"],"relationToFields":["id"],"relationOnDelete":"Cascade","isGenerated":false,"isUpdatedAt":false}],"primaryKey":null,"uniqueFields":[],"uniqueIndexes":[],"isGenerated":false},"UserSession":{"dbName":null,"schema":null,"fields":[{"name":"id","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":true,"isReadOnly":false,"hasDefaultValue":true,"type":"String","nativeType":null,"default":{"name":"cuid","args":[1]},"isGenerated":false,"isUpdatedAt":false},{"name":"userId","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":true,"hasDefaultValue":false,"type":"String","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"sessionToken","kind":"scalar","isList":false,"isRequired":true,"isUnique":true,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"String","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"refreshToken","kind":"scalar","isList":false,"isRequired":false,"isUnique":true,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"String","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"deviceInfo","kind":"scalar","isList":false,"isRequired":false,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"String","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"ipAddress","kind":"scalar","isList":false,"isRequired":false,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"String","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"userAgent","kind":"scalar","isList":false,"isRequired":false,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"String","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"status","kind":"enum","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":true,"type":"SessionStatus","nativeType":null,"default":"ACTIVE","isGenerated":false,"isUpdatedAt":false},{"name":"lastActivity","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":true,"type":"DateTime","nativeType":null,"default":{"name":"now","args":[]},"isGenerated":false,"isUpdatedAt":false},{"name":"expiresAt","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"DateTime","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"createdAt","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":true,"type":"DateTime","nativeType":null,"default":{"name":"now","args":[]},"isGenerated":false,"isUpdatedAt":false},{"name":"user","kind":"object","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"User","nativeType":null,"relationName":"UserToUserSession","relationFromFields":["userId"],"relationToFields":["id"],"relationOnDelete":"Cascade","isGenerated":false,"isUpdatedAt":false}],"primaryKey":null,"uniqueFields":[],"uniqueIndexes":[],"isGenerated":false},"SecurityEvent":{"dbName":null,"schema":null,"fields":[{"name":"id","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":true,"isReadOnly":false,"hasDefaultValue":true,"type":"String","nativeType":null,"default":{"name":"cuid","args":[1]},"isGenerated":false,"isUpdatedAt":false},{"name":"userId","kind":"scalar","isList":false,"isRequired":false,"isUnique":false,"isId":false,"isReadOnly":true,"hasDefaultValue":false,"type":"String","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"eventType","kind":"enum","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"SecurityEventType","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"description","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"String","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"ipAddress","kind":"scalar","isList":false,"isRequired":false,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"String","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"userAgent","kind":"scalar","isList":false,"isRequired":false,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"String","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"resource","kind":"scalar","isList":false,"isRequired":false,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"String","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"metadata","kind":"scalar","isList":false,"isRequired":false,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"String","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"severity","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":true,"type":"String","nativeType":null,"default":"INFO","isGenerated":false,"isUpdatedAt":false},{"name":"createdAt","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":true,"type":"DateTime","nativeType":null,"default":{"name":"now","args":[]},"isGenerated":false,"isUpdatedAt":false},{"name":"user","kind":"object","isList":false,"isRequired":false,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"User","nativeType":null,"relationName":"SecurityEventToUser","relationFromFields":["userId"],"relationToFields":["id"],"relationOnDelete":"SetNull","isGenerated":false,"isUpdatedAt":false}],"primaryKey":null,"uniqueFields":[],"uniqueIndexes":[],"isGenerated":false},"Permission":{"dbName":null,"schema":null,"fields":[{"name":"id","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":true,"isReadOnly":false,"hasDefaultValue":true,"type":"String","nativeType":null,"default":{"name":"cuid","args":[1]},"isGenerated":false,"isUpdatedAt":false},{"name":"name","kind":"scalar","isList":false,"isRequired":true,"isUnique":true,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"String","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"description","kind":"scalar","isList":false,"isRequired":false,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"String","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"resource","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"String","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"action","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"String","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"createdAt","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":true,"type":"DateTime","nativeType":null,"default":{"name":"now","args":[]},"isGenerated":false,"isUpdatedAt":false},{"name":"rolePermissions","kind":"object","isList":true,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"RolePermission","nativeType":null,"relationName":"PermissionToRolePermission","relationFromFields":[],"relationToFields":[],"isGenerated":false,"isUpdatedAt":false},{"name":"userPermissions","kind":"object","isList":true,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"UserPermission","nativeType":null,"relationName":"PermissionToUserPermission","relationFromFields":[],"relationToFields":[],"isGenerated":false,"isUpdatedAt":false}],"primaryKey":null,"uniqueFields":[],"uniqueIndexes":[],"isGenerated":false},"RolePermission":{"dbName":null,"schema":null,"fields":[{"name":"id","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":true,"isReadOnly":false,"hasDefaultValue":true,"type":"String","nativeType":null,"default":{"name":"cuid","args":[1]},"isGenerated":false,"isUpdatedAt":false},{"name":"role","kind":"enum","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"Role","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"permissionId","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":true,"hasDefaultValue":false,"type":"String","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"createdAt","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":true,"type":"DateTime","nativeType":null,"default":{"name":"now","args":[]},"isGenerated":false,"isUpdatedAt":false},{"name":"permission","kind":"object","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"Permission","nativeType":null,"relationName":"PermissionToRolePermission","relationFromFields":["permissionId"],"relationToFields":["id"],"relationOnDelete":"Cascade","isGenerated":false,"isUpdatedAt":false}],"primaryKey":null,"uniqueFields":[["role","permissionId"]],"uniqueIndexes":[{"name":null,"fields":["role","permissionId"]}],"isGenerated":false},"UserPermission":{"dbName":null,"schema":null,"fields":[{"name":"id","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":true,"isReadOnly":false,"hasDefaultValue":true,"type":"String","nativeType":null,"default":{"name":"cuid","args":[1]},"isGenerated":false,"isUpdatedAt":false},{"name":"userId","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":true,"hasDefaultValue":false,"type":"String","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"permissionId","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":true,"hasDefaultValue":false,"type":"String","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"granted","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":true,"type":"Boolean","nativeType":null,"default":true,"isGenerated":false,"isUpdatedAt":false},{"name":"createdAt","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":true,"type":"DateTime","nativeType":null,"default":{"name":"now","args":[]},"isGenerated":false,"isUpdatedAt":false},{"name":"user","kind":"object","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"User","nativeType":null,"relationName":"UserToUserPermission","relationFromFields":["userId"],"relationToFields":["id"],"relationOnDelete":"Cascade","isGenerated":false,"isUpdatedAt":false},{"name":"permission","kind":"object","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"Permission","nativeType":null,"relationName":"PermissionToUserPermission","relationFromFields":["permissionId"],"relationToFields":["id"],"relationOnDelete":"Cascade","isGenerated":false,"isUpdatedAt":false}],"primaryKey":null,"uniqueFields":[["userId","permissionId"]],"uniqueIndexes":[{"name":null,"fields":["userId","permissionId"]}],"isGenerated":false},"PasswordResetToken":{"dbName":null,"schema":null,"fields":[{"name":"id","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":true,"isReadOnly":false,"hasDefaultValue":true,"type":"String","nativeType":null,"default":{"name":"cuid","args":[1]},"isGenerated":false,"isUpdatedAt":false},{"name":"userId","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"String","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"token","kind":"scalar","isList":false,"isRequired":true,"isUnique":true,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"String","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"expiresAt","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"DateTime","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"used","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":true,"type":"Boolean","nativeType":null,"default":false,"isGenerated":false,"isUpdatedAt":false},{"name":"createdAt","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":true,"type":"DateTime","nativeType":null,"default":{"name":"now","args":[]},"isGenerated":false,"isUpdatedAt":false}],"primaryKey":null,"uniqueFields":[],"uniqueIndexes":[],"isGenerated":false}},"enums":{"Role":{"values":[{"name":"SUPER_ADMIN","dbName":null},{"name":"ADMIN","dbName":null},{"name":"SITE_MANAGER","dbName":null}],"dbName":null},"SecurityEventType":{"values":[{"name":"LOGIN_SUCCESS","dbName":null},{"name":"LOGIN_FAILURE","dbName":null},{"name":"LOGOUT","dbName":null},{"name":"PASSWORD_CHANGE","dbName":null},{"name":"PASSWORD_RESET_REQUEST","dbName":null},{"name":"PASSWORD_RESET_SUCCESS","dbName":null},{"name":"ACCOUNT_LOCKED","dbName":null},{"name":"ACCOUNT_UNLOCKED","dbName":null},{"name":"PERMISSION_GRANTED","dbName":null},{"name":"PERMISSION_REVOKED","dbName":null},{"name":"USER_CREATED","dbName":null},{"name":"USER_DELETED","dbName":null},{"name":"SESSION_CREATED","dbName":null},{"name":"SESSION_INVALIDATED","dbName":null},{"name":"DATA_ACCESS","dbName":null},{"name":"DATA_MODIFICATION","dbName":null},{"name":"UNAUTHORIZED_ACCESS_ATTEMPT","dbName":null}],"dbName":null},"SessionStatus":{"values":[{"name":"ACTIVE","dbName":null},{"name":"EXPIRED","dbName":null},{"name":"REVOKED","dbName":null}],"dbName":null},"SiteStatus":{"values":[{"name":"ACTIVE","dbName":null},{"name":"SUSPENDED","dbName":null},{"name":"ARCHIVED","dbName":null}],"dbName":null},"RoomStatus":{"values":[{"name":"OCCUPIED","dbName":null},{"name":"VACANT","dbName":null},{"name":"READY","dbName":null}],"dbName":null},"AssetType":{"values":[{"name":"WASHER","dbName":null},{"name":"DRYER","dbName":null},{"name":"DISH_WASHER","dbName":null},{"name":"REFRIGERATOR","dbName":null},{"name":"AIR_CONDITIONER","dbName":null},{"name":"OVEN_STOVE","dbName":null}],"dbName":null}},"types":{}}'),u(b.Prisma,z.runtimeDataModel),z.engineWasm=void 0,z.compilerWasm=void 0,z.injectableEdgeEnv=()=>({parsed:{DATABASE_URL:"undefined"!=typeof globalThis&&globalThis.DATABASE_URL||"undefined"!=typeof process&&process.env&&process.env.DATABASE_URL||void 0}}),("undefined"!=typeof globalThis&&globalThis.DEBUG||"undefined"!=typeof process&&process.env&&process.env.DEBUG)&&p.enable("undefined"!=typeof globalThis&&globalThis.DEBUG||"undefined"!=typeof process&&process.env&&process.env.DEBUG||void 0),b.PrismaClient=i(z),Object.assign(b,y)},825:()=>{},833:(a,b,c)=>{"use strict";c.d(b,{RM:()=>e});let d=new Set(Object.values({NOT_FOUND:404,FORBIDDEN:403,UNAUTHORIZED:401}));function e(a){if("object"!=typeof a||null===a||!("digest"in a)||"string"!=typeof a.digest)return!1;let[b,c]=a.digest.split(";");return"NEXT_HTTP_ERROR_FALLBACK"===b&&d.has(Number(c))}},852:a=>{(()=>{"use strict";"undefined"!=typeof __nccwpck_require__&&(__nccwpck_require__.ab="//");var b,c,d,e,f={};f.parse=function(a,c){if("string"!=typeof a)throw TypeError("argument str must be a string");for(var e={},f=a.split(d),g=(c||{}).decode||b,h=0;h<f.length;h++){var i=f[h],j=i.indexOf("=");if(!(j<0)){var k=i.substr(0,j).trim(),l=i.substr(++j,i.length).trim();'"'==l[0]&&(l=l.slice(1,-1)),void 0==e[k]&&(e[k]=function(a,b){try{return b(a)}catch(b){return a}}(l,g))}}return e},f.serialize=function(a,b,d){var f=d||{},g=f.encode||c;if("function"!=typeof g)throw TypeError("option encode is invalid");if(!e.test(a))throw TypeError("argument name is invalid");var h=g(b);if(h&&!e.test(h))throw TypeError("argument val is invalid");var i=a+"="+h;if(null!=f.maxAge){var j=f.maxAge-0;if(isNaN(j)||!isFinite(j))throw TypeError("option maxAge is invalid");i+="; Max-Age="+Math.floor(j)}if(f.domain){if(!e.test(f.domain))throw TypeError("option domain is invalid");i+="; Domain="+f.domain}if(f.path){if(!e.test(f.path))throw TypeError("option path is invalid");i+="; Path="+f.path}if(f.expires){if("function"!=typeof f.expires.toUTCString)throw TypeError("option expires is invalid");i+="; Expires="+f.expires.toUTCString()}if(f.httpOnly&&(i+="; HttpOnly"),f.secure&&(i+="; Secure"),f.sameSite)switch("string"==typeof f.sameSite?f.sameSite.toLowerCase():f.sameSite){case!0:case"strict":i+="; SameSite=Strict";break;case"lax":i+="; SameSite=Lax";break;case"none":i+="; SameSite=None";break;default:throw TypeError("option sameSite is invalid")}return i},b=decodeURIComponent,c=encodeURIComponent,d=/; */,e=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/,a.exports=f})()},861:(a,b)=>{"use strict";b.q=function(a,b){if("string"!=typeof a)throw TypeError("argument str must be a string");var c={},d=a.length;if(d<2)return c;var e=b&&b.decode||j,f=0,g=0,k=0;do{if(-1===(g=a.indexOf("=",f)))break;if(-1===(k=a.indexOf(";",f)))k=d;else if(g>k){f=a.lastIndexOf(";",g-1)+1;continue}var l=h(a,f,g),m=i(a,g,l),n=a.slice(l,m);if(!c.hasOwnProperty(n)){var o=h(a,g+1,k),p=i(a,k,o);34===a.charCodeAt(o)&&34===a.charCodeAt(p-1)&&(o++,p--);var q=a.slice(o,p);c[n]=function(a,b){try{return b(a)}catch(b){return a}}(q,e)}f=k+1}while(f<d);return c},b.l=function(a,b,h){var i=h&&h.encode||encodeURIComponent;if("function"!=typeof i)throw TypeError("option encode is invalid");if(!d.test(a))throw TypeError("argument name is invalid");var j=i(b);if(!e.test(j))throw TypeError("argument val is invalid");var k=a+"="+j;if(!h)return k;if(null!=h.maxAge){var l=Math.floor(h.maxAge);if(!isFinite(l))throw TypeError("option maxAge is invalid");k+="; Max-Age="+l}if(h.domain){if(!f.test(h.domain))throw TypeError("option domain is invalid");k+="; Domain="+h.domain}if(h.path){if(!g.test(h.path))throw TypeError("option path is invalid");k+="; Path="+h.path}if(h.expires){var m,n=h.expires;if(m=n,"[object Date]"!==c.call(m)||isNaN(n.valueOf()))throw TypeError("option expires is invalid");k+="; Expires="+n.toUTCString()}if(h.httpOnly&&(k+="; HttpOnly"),h.secure&&(k+="; Secure"),h.partitioned&&(k+="; Partitioned"),h.priority)switch("string"==typeof h.priority?h.priority.toLowerCase():h.priority){case"low":k+="; Priority=Low";break;case"medium":k+="; Priority=Medium";break;case"high":k+="; Priority=High";break;default:throw TypeError("option priority is invalid")}if(h.sameSite)switch("string"==typeof h.sameSite?h.sameSite.toLowerCase():h.sameSite){case!0:case"strict":k+="; SameSite=Strict";break;case"lax":k+="; SameSite=Lax";break;case"none":k+="; SameSite=None";break;default:throw TypeError("option sameSite is invalid")}return k};var c=Object.prototype.toString,d=/^[!#$%&'*+\-.^_`|~0-9A-Za-z]+$/,e=/^("?)[\u0021\u0023-\u002B\u002D-\u003A\u003C-\u005B\u005D-\u007E]*\1$/,f=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,g=/^[\u0020-\u003A\u003D-\u007E]*$/;function h(a,b,c){do{var d=a.charCodeAt(b);if(32!==d&&9!==d)return b}while(++b<c);return c}function i(a,b,c){for(;b>c;){var d=a.charCodeAt(--b);if(32!==d&&9!==d)return b+1}return c}function j(a){return -1!==a.indexOf("%")?decodeURIComponent(a):a}},884:a=>{"use strict";var b=Object.defineProperty,c=Object.getOwnPropertyDescriptor,d=Object.getOwnPropertyNames,e=Object.prototype.hasOwnProperty,f={},g={Prisma:()=>j,PrismaClient:()=>i,default:()=>k};for(var h in g)b(f,h,{get:g[h],enumerable:!0});a.exports=((a,f,g,h)=>{if(f&&"object"==typeof f||"function"==typeof f)for(let i of d(f))e.call(a,i)||i===g||b(a,i,{get:()=>f[i],enumerable:!(h=c(f,i))||h.enumerable});return a})(b({},"__esModule",{value:!0}),f);var i=class{constructor(){throw Error('@prisma/client did not initialize yet. Please run "prisma generate" and try to import it again.')}},j={defineExtension:function(a){return"function"==typeof a?a:b=>b.$extends(a)},getExtensionContext:function(a){return a},prismaVersion:{client:"6.18.0",engine:"34b5a692b7bd79939a9a2c3ef97d816e749cda2f"}},k={Prisma:j}},888:(a,b,c)=>{"use strict";c.d(b,{Q:()=>e});var d,e=((d={})[d.SeeOther=303]="SeeOther",d[d.TemporaryRedirect=307]="TemporaryRedirect",d[d.PermanentRedirect=308]="PermanentRedirect",d)},918:a=>{"use strict";var b=Object.defineProperty,c=Object.getOwnPropertyDescriptor,d=Object.getOwnPropertyNames,e=Object.prototype.hasOwnProperty,f={},g={RequestCookies:()=>n,ResponseCookies:()=>o,parseCookie:()=>j,parseSetCookie:()=>k,stringifyCookie:()=>i};for(var h in g)b(f,h,{get:g[h],enumerable:!0});function i(a){var b;let c=["path"in a&&a.path&&`Path=${a.path}`,"expires"in a&&(a.expires||0===a.expires)&&`Expires=${("number"==typeof a.expires?new Date(a.expires):a.expires).toUTCString()}`,"maxAge"in a&&"number"==typeof a.maxAge&&`Max-Age=${a.maxAge}`,"domain"in a&&a.domain&&`Domain=${a.domain}`,"secure"in a&&a.secure&&"Secure","httpOnly"in a&&a.httpOnly&&"HttpOnly","sameSite"in a&&a.sameSite&&`SameSite=${a.sameSite}`,"partitioned"in a&&a.partitioned&&"Partitioned","priority"in a&&a.priority&&`Priority=${a.priority}`].filter(Boolean),d=`${a.name}=${encodeURIComponent(null!=(b=a.value)?b:"")}`;return 0===c.length?d:`${d}; ${c.join("; ")}`}function j(a){let b=new Map;for(let c of a.split(/; */)){if(!c)continue;let a=c.indexOf("=");if(-1===a){b.set(c,"true");continue}let[d,e]=[c.slice(0,a),c.slice(a+1)];try{b.set(d,decodeURIComponent(null!=e?e:"true"))}catch{}}return b}function k(a){if(!a)return;let[[b,c],...d]=j(a),{domain:e,expires:f,httponly:g,maxage:h,path:i,samesite:k,secure:n,partitioned:o,priority:p}=Object.fromEntries(d.map(([a,b])=>[a.toLowerCase().replace(/-/g,""),b]));{var q,r,s={name:b,value:decodeURIComponent(c),domain:e,...f&&{expires:new Date(f)},...g&&{httpOnly:!0},..."string"==typeof h&&{maxAge:Number(h)},path:i,...k&&{sameSite:l.includes(q=(q=k).toLowerCase())?q:void 0},...n&&{secure:!0},...p&&{priority:m.includes(r=(r=p).toLowerCase())?r:void 0},...o&&{partitioned:!0}};let a={};for(let b in s)s[b]&&(a[b]=s[b]);return a}}a.exports=((a,f,g,h)=>{if(f&&"object"==typeof f||"function"==typeof f)for(let i of d(f))e.call(a,i)||i===g||b(a,i,{get:()=>f[i],enumerable:!(h=c(f,i))||h.enumerable});return a})(b({},"__esModule",{value:!0}),f);var l=["strict","lax","none"],m=["low","medium","high"],n=class{constructor(a){this._parsed=new Map,this._headers=a;const b=a.get("cookie");if(b)for(const[a,c]of j(b))this._parsed.set(a,{name:a,value:c})}[Symbol.iterator](){return this._parsed[Symbol.iterator]()}get size(){return this._parsed.size}get(...a){let b="string"==typeof a[0]?a[0]:a[0].name;return this._parsed.get(b)}getAll(...a){var b;let c=Array.from(this._parsed);if(!a.length)return c.map(([a,b])=>b);let d="string"==typeof a[0]?a[0]:null==(b=a[0])?void 0:b.name;return c.filter(([a])=>a===d).map(([a,b])=>b)}has(a){return this._parsed.has(a)}set(...a){let[b,c]=1===a.length?[a[0].name,a[0].value]:a,d=this._parsed;return d.set(b,{name:b,value:c}),this._headers.set("cookie",Array.from(d).map(([a,b])=>i(b)).join("; ")),this}delete(a){let b=this._parsed,c=Array.isArray(a)?a.map(a=>b.delete(a)):b.delete(a);return this._headers.set("cookie",Array.from(b).map(([a,b])=>i(b)).join("; ")),c}clear(){return this.delete(Array.from(this._parsed.keys())),this}[Symbol.for("edge-runtime.inspect.custom")](){return`RequestCookies ${JSON.stringify(Object.fromEntries(this._parsed))}`}toString(){return[...this._parsed.values()].map(a=>`${a.name}=${encodeURIComponent(a.value)}`).join("; ")}},o=class{constructor(a){var b,c,d;this._parsed=new Map,this._headers=a;const e=null!=(d=null!=(c=null==(b=a.getSetCookie)?void 0:b.call(a))?c:a.get("set-cookie"))?d:[];for(const a of Array.isArray(e)?e:function(a){if(!a)return[];var b,c,d,e,f,g=[],h=0;function i(){for(;h<a.length&&/\s/.test(a.charAt(h));)h+=1;return h<a.length}for(;h<a.length;){for(b=h,f=!1;i();)if(","===(c=a.charAt(h))){for(d=h,h+=1,i(),e=h;h<a.length&&"="!==(c=a.charAt(h))&&";"!==c&&","!==c;)h+=1;h<a.length&&"="===a.charAt(h)?(f=!0,h=e,g.push(a.substring(b,d)),b=h):h=d+1}else h+=1;(!f||h>=a.length)&&g.push(a.substring(b,a.length))}return g}(e)){const b=k(a);b&&this._parsed.set(b.name,b)}}get(...a){let b="string"==typeof a[0]?a[0]:a[0].name;return this._parsed.get(b)}getAll(...a){var b;let c=Array.from(this._parsed.values());if(!a.length)return c;let d="string"==typeof a[0]?a[0]:null==(b=a[0])?void 0:b.name;return c.filter(a=>a.name===d)}has(a){return this._parsed.has(a)}set(...a){let[b,c,d]=1===a.length?[a[0].name,a[0].value,a[0]]:a,e=this._parsed;return e.set(b,function(a={name:"",value:""}){return"number"==typeof a.expires&&(a.expires=new Date(a.expires)),a.maxAge&&(a.expires=new Date(Date.now()+1e3*a.maxAge)),(null===a.path||void 0===a.path)&&(a.path="/"),a}({name:b,value:c,...d})),function(a,b){for(let[,c]of(b.delete("set-cookie"),a)){let a=i(c);b.append("set-cookie",a)}}(e,this._headers),this}delete(...a){let[b,c]="string"==typeof a[0]?[a[0]]:[a[0].name,a[0]];return this.set({...c,name:b,value:"",expires:new Date(0)})}[Symbol.for("edge-runtime.inspect.custom")](){return`ResponseCookies ${JSON.stringify(Object.fromEntries(this._parsed))}`}toString(){return[...this._parsed.values()].map(i).join("; ")}}},987:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0});var d={interceptTestApis:function(){return h},wrapRequestHandler:function(){return i}};for(var e in d)Object.defineProperty(b,e,{enumerable:!0,get:d[e]});let f=c(643),g=c(318);function h(){return(0,g.interceptFetch)(c.g.fetch)}function i(a){return(b,c)=>(0,f.withRequest)(b,g.reader,()=>a(b,c))}},990:(a,b,c)=>{var d,e={226:function(e,f){!function(g,h){"use strict";var i="function",j="undefined",k="object",l="string",m="major",n="model",o="name",p="type",q="vendor",r="version",s="architecture",t="console",u="mobile",v="tablet",w="smarttv",x="wearable",y="embedded",z="Amazon",A="Apple",B="ASUS",C="BlackBerry",D="Browser",E="Chrome",F="Firefox",G="Google",H="Huawei",I="Microsoft",J="Motorola",K="Opera",L="Samsung",M="Sharp",N="Sony",O="Xiaomi",P="Zebra",Q="Facebook",R="Chromium OS",S="Mac OS",T=function(a,b){var c={};for(var d in a)b[d]&&b[d].length%2==0?c[d]=b[d].concat(a[d]):c[d]=a[d];return c},U=function(a){for(var b={},c=0;c<a.length;c++)b[a[c].toUpperCase()]=a[c];return b},V=function(a,b){return typeof a===l&&-1!==W(b).indexOf(W(a))},W=function(a){return a.toLowerCase()},X=function(a,b){if(typeof a===l)return a=a.replace(/^\s\s*/,""),typeof b===j?a:a.substring(0,350)},Y=function(a,b){for(var c,d,e,f,g,h,j=0;j<b.length&&!g;){var l=b[j],m=b[j+1];for(c=d=0;c<l.length&&!g&&l[c];)if(g=l[c++].exec(a))for(e=0;e<m.length;e++)h=g[++d],typeof(f=m[e])===k&&f.length>0?2===f.length?typeof f[1]==i?this[f[0]]=f[1].call(this,h):this[f[0]]=f[1]:3===f.length?typeof f[1]!==i||f[1].exec&&f[1].test?this[f[0]]=h?h.replace(f[1],f[2]):void 0:this[f[0]]=h?f[1].call(this,h,f[2]):void 0:4===f.length&&(this[f[0]]=h?f[3].call(this,h.replace(f[1],f[2])):void 0):this[f]=h||void 0;j+=2}},Z=function(a,b){for(var c in b)if(typeof b[c]===k&&b[c].length>0){for(var d=0;d<b[c].length;d++)if(V(b[c][d],a))return"?"===c?void 0:c}else if(V(b[c],a))return"?"===c?void 0:c;return a},$={ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"},_={browser:[[/\b(?:crmo|crios)\/([\w\.]+)/i],[r,[o,"Chrome"]],[/edg(?:e|ios|a)?\/([\w\.]+)/i],[r,[o,"Edge"]],[/(opera mini)\/([-\w\.]+)/i,/(opera [mobiletab]{3,6})\b.+version\/([-\w\.]+)/i,/(opera)(?:.+version\/|[\/ ]+)([\w\.]+)/i],[o,r],[/opios[\/ ]+([\w\.]+)/i],[r,[o,K+" Mini"]],[/\bopr\/([\w\.]+)/i],[r,[o,K]],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/ ]?([\w\.]*)/i,/(avant |iemobile|slim)(?:browser)?[\/ ]?([\w\.]*)/i,/(ba?idubrowser)[\/ ]?([\w\.]+)/i,/(?:ms|\()(ie) ([\w\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|bolt|iron|vivaldi|iridium|phantomjs|bowser|quark|qupzilla|falkon|rekonq|puffin|brave|whale(?!.+naver)|qqbrowserlite|qq|duckduckgo)\/([-\w\.]+)/i,/(heytap|ovi)browser\/([\d\.]+)/i,/(weibo)__([\d\.]+)/i],[o,r],[/(?:\buc? ?browser|(?:juc.+)ucweb)[\/ ]?([\w\.]+)/i],[r,[o,"UC"+D]],[/microm.+\bqbcore\/([\w\.]+)/i,/\bqbcore\/([\w\.]+).+microm/i],[r,[o,"WeChat(Win) Desktop"]],[/micromessenger\/([\w\.]+)/i],[r,[o,"WeChat"]],[/konqueror\/([\w\.]+)/i],[r,[o,"Konqueror"]],[/trident.+rv[: ]([\w\.]{1,9})\b.+like gecko/i],[r,[o,"IE"]],[/ya(?:search)?browser\/([\w\.]+)/i],[r,[o,"Yandex"]],[/(avast|avg)\/([\w\.]+)/i],[[o,/(.+)/,"$1 Secure "+D],r],[/\bfocus\/([\w\.]+)/i],[r,[o,F+" Focus"]],[/\bopt\/([\w\.]+)/i],[r,[o,K+" Touch"]],[/coc_coc\w+\/([\w\.]+)/i],[r,[o,"Coc Coc"]],[/dolfin\/([\w\.]+)/i],[r,[o,"Dolphin"]],[/coast\/([\w\.]+)/i],[r,[o,K+" Coast"]],[/miuibrowser\/([\w\.]+)/i],[r,[o,"MIUI "+D]],[/fxios\/([-\w\.]+)/i],[r,[o,F]],[/\bqihu|(qi?ho?o?|360)browser/i],[[o,"360 "+D]],[/(oculus|samsung|sailfish|huawei)browser\/([\w\.]+)/i],[[o,/(.+)/,"$1 "+D],r],[/(comodo_dragon)\/([\w\.]+)/i],[[o,/_/g," "],r],[/(electron)\/([\w\.]+) safari/i,/(tesla)(?: qtcarbrowser|\/(20\d\d\.[-\w\.]+))/i,/m?(qqbrowser|baiduboxapp|2345Explorer)[\/ ]?([\w\.]+)/i],[o,r],[/(metasr)[\/ ]?([\w\.]+)/i,/(lbbrowser)/i,/\[(linkedin)app\]/i],[o],[/((?:fban\/fbios|fb_iab\/fb4a)(?!.+fbav)|;fbav\/([\w\.]+);)/i],[[o,Q],r],[/(kakao(?:talk|story))[\/ ]([\w\.]+)/i,/(naver)\(.*?(\d+\.[\w\.]+).*\)/i,/safari (line)\/([\w\.]+)/i,/\b(line)\/([\w\.]+)\/iab/i,/(chromium|instagram)[\/ ]([-\w\.]+)/i],[o,r],[/\bgsa\/([\w\.]+) .*safari\//i],[r,[o,"GSA"]],[/musical_ly(?:.+app_?version\/|_)([\w\.]+)/i],[r,[o,"TikTok"]],[/headlesschrome(?:\/([\w\.]+)| )/i],[r,[o,E+" Headless"]],[/ wv\).+(chrome)\/([\w\.]+)/i],[[o,E+" WebView"],r],[/droid.+ version\/([\w\.]+)\b.+(?:mobile safari|safari)/i],[r,[o,"Android "+D]],[/(chrome|omniweb|arora|[tizenoka]{5} ?browser)\/v?([\w\.]+)/i],[o,r],[/version\/([\w\.\,]+) .*mobile\/\w+ (safari)/i],[r,[o,"Mobile Safari"]],[/version\/([\w(\.|\,)]+) .*(mobile ?safari|safari)/i],[r,o],[/webkit.+?(mobile ?safari|safari)(\/[\w\.]+)/i],[o,[r,Z,{"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"}]],[/(webkit|khtml)\/([\w\.]+)/i],[o,r],[/(navigator|netscape\d?)\/([-\w\.]+)/i],[[o,"Netscape"],r],[/mobile vr; rv:([\w\.]+)\).+firefox/i],[r,[o,F+" Reality"]],[/ekiohf.+(flow)\/([\w\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror|klar)[\/ ]?([\w\.\+]+)/i,/(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([-\w\.]+)$/i,/(firefox)\/([\w\.]+)/i,/(mozilla)\/([\w\.]+) .+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir|obigo|mosaic|(?:go|ice|up)[\. ]?browser)[-\/ ]?v?([\w\.]+)/i,/(links) \(([\w\.]+)/i,/panasonic;(viera)/i],[o,r],[/(cobalt)\/([\w\.]+)/i],[o,[r,/master.|lts./,""]]],cpu:[[/(?:(amd|x(?:(?:86|64)[-_])?|wow|win)64)[;\)]/i],[[s,"amd64"]],[/(ia32(?=;))/i],[[s,W]],[/((?:i[346]|x)86)[;\)]/i],[[s,"ia32"]],[/\b(aarch64|arm(v?8e?l?|_?64))\b/i],[[s,"arm64"]],[/\b(arm(?:v[67])?ht?n?[fl]p?)\b/i],[[s,"armhf"]],[/windows (ce|mobile); ppc;/i],[[s,"arm"]],[/((?:ppc|powerpc)(?:64)?)(?: mac|;|\))/i],[[s,/ower/,"",W]],[/(sun4\w)[;\)]/i],[[s,"sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|\barm(?=v(?:[1-7]|[5-7]1)l?|;|eabi)|(?=atmel )avr|(?:irix|mips|sparc)(?:64)?\b|pa-risc)/i],[[s,W]]],device:[[/\b(sch-i[89]0\d|shw-m380s|sm-[ptx]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus 10)/i],[n,[q,L],[p,v]],[/\b((?:s[cgp]h|gt|sm)-\w+|sc[g-]?[\d]+a?|galaxy nexus)/i,/samsung[- ]([-\w]+)/i,/sec-(sgh\w+)/i],[n,[q,L],[p,u]],[/(?:\/|\()(ip(?:hone|od)[\w, ]*)(?:\/|;)/i],[n,[q,A],[p,u]],[/\((ipad);[-\w\),; ]+apple/i,/applecoremedia\/[\w\.]+ \((ipad)/i,/\b(ipad)\d\d?,\d\d?[;\]].+ios/i],[n,[q,A],[p,v]],[/(macintosh);/i],[n,[q,A]],[/\b(sh-?[altvz]?\d\d[a-ekm]?)/i],[n,[q,M],[p,u]],[/\b((?:ag[rs][23]?|bah2?|sht?|btv)-a?[lw]\d{2})\b(?!.+d\/s)/i],[n,[q,H],[p,v]],[/(?:huawei|honor)([-\w ]+)[;\)]/i,/\b(nexus 6p|\w{2,4}e?-[atu]?[ln][\dx][012359c][adn]?)\b(?!.+d\/s)/i],[n,[q,H],[p,u]],[/\b(poco[\w ]+)(?: bui|\))/i,/\b; (\w+) build\/hm\1/i,/\b(hm[-_ ]?note?[_ ]?(?:\d\w)?) bui/i,/\b(redmi[\-_ ]?(?:note|k)?[\w_ ]+)(?: bui|\))/i,/\b(mi[-_ ]?(?:a\d|one|one[_ ]plus|note lte|max|cc)?[_ ]?(?:\d?\w?)[_ ]?(?:plus|se|lite)?)(?: bui|\))/i],[[n,/_/g," "],[q,O],[p,u]],[/\b(mi[-_ ]?(?:pad)(?:[\w_ ]+))(?: bui|\))/i],[[n,/_/g," "],[q,O],[p,v]],[/; (\w+) bui.+ oppo/i,/\b(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007|a101op)\b/i],[n,[q,"OPPO"],[p,u]],[/vivo (\w+)(?: bui|\))/i,/\b(v[12]\d{3}\w?[at])(?: bui|;)/i],[n,[q,"Vivo"],[p,u]],[/\b(rmx[12]\d{3})(?: bui|;|\))/i],[n,[q,"Realme"],[p,u]],[/\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\b[\w ]+build\//i,/\bmot(?:orola)?[- ](\w*)/i,/((?:moto[\w\(\) ]+|xt\d{3,4}|nexus 6)(?= bui|\)))/i],[n,[q,J],[p,u]],[/\b(mz60\d|xoom[2 ]{0,2}) build\//i],[n,[q,J],[p,v]],[/((?=lg)?[vl]k\-?\d{3}) bui| 3\.[-\w; ]{10}lg?-([06cv9]{3,4})/i],[n,[q,"LG"],[p,v]],[/(lm(?:-?f100[nv]?|-[\w\.]+)(?= bui|\))|nexus [45])/i,/\blg[-e;\/ ]+((?!browser|netcast|android tv)\w+)/i,/\blg-?([\d\w]+) bui/i],[n,[q,"LG"],[p,u]],[/(ideatab[-\w ]+)/i,/lenovo ?(s[56]000[-\w]+|tab(?:[\w ]+)|yt[-\d\w]{6}|tb[-\d\w]{6})/i],[n,[q,"Lenovo"],[p,v]],[/(?:maemo|nokia).*(n900|lumia \d+)/i,/nokia[-_ ]?([-\w\.]*)/i],[[n,/_/g," "],[q,"Nokia"],[p,u]],[/(pixel c)\b/i],[n,[q,G],[p,v]],[/droid.+; (pixel[\daxl ]{0,6})(?: bui|\))/i],[n,[q,G],[p,u]],[/droid.+ (a?\d[0-2]{2}so|[c-g]\d{4}|so[-gl]\w+|xq-a\w[4-7][12])(?= bui|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[n,[q,N],[p,u]],[/sony tablet [ps]/i,/\b(?:sony)?sgp\w+(?: bui|\))/i],[[n,"Xperia Tablet"],[q,N],[p,v]],[/ (kb2005|in20[12]5|be20[12][59])\b/i,/(?:one)?(?:plus)? (a\d0\d\d)(?: b|\))/i],[n,[q,"OnePlus"],[p,u]],[/(alexa)webm/i,/(kf[a-z]{2}wi|aeo[c-r]{2})( bui|\))/i,/(kf[a-z]+)( bui|\)).+silk\//i],[n,[q,z],[p,v]],[/((?:sd|kf)[0349hijorstuw]+)( bui|\)).+silk\//i],[[n,/(.+)/g,"Fire Phone $1"],[q,z],[p,u]],[/(playbook);[-\w\),; ]+(rim)/i],[n,q,[p,v]],[/\b((?:bb[a-f]|st[hv])100-\d)/i,/\(bb10; (\w+)/i],[n,[q,C],[p,u]],[/(?:\b|asus_)(transfo[prime ]{4,10} \w+|eeepc|slider \w+|nexus 7|padfone|p00[cj])/i],[n,[q,B],[p,v]],[/ (z[bes]6[027][012][km][ls]|zenfone \d\w?)\b/i],[n,[q,B],[p,u]],[/(nexus 9)/i],[n,[q,"HTC"],[p,v]],[/(htc)[-;_ ]{1,2}([\w ]+(?=\)| bui)|\w+)/i,/(zte)[- ]([\w ]+?)(?: bui|\/|\))/i,/(alcatel|geeksphone|nexian|panasonic(?!(?:;|\.))|sony(?!-bra))[-_ ]?([-\w]*)/i],[q,[n,/_/g," "],[p,u]],[/droid.+; ([ab][1-7]-?[0178a]\d\d?)/i],[n,[q,"Acer"],[p,v]],[/droid.+; (m[1-5] note) bui/i,/\bmz-([-\w]{2,})/i],[n,[q,"Meizu"],[p,u]],[/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron)[-_ ]?([-\w]*)/i,/(hp) ([\w ]+\w)/i,/(asus)-?(\w+)/i,/(microsoft); (lumia[\w ]+)/i,/(lenovo)[-_ ]?([-\w]+)/i,/(jolla)/i,/(oppo) ?([\w ]+) bui/i],[q,n,[p,u]],[/(kobo)\s(ereader|touch)/i,/(archos) (gamepad2?)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\/([\w\.]+)/i,/(nook)[\w ]+build\/(\w+)/i,/(dell) (strea[kpr\d ]*[\dko])/i,/(le[- ]+pan)[- ]+(\w{1,9}) bui/i,/(trinity)[- ]*(t\d{3}) bui/i,/(gigaset)[- ]+(q\w{1,9}) bui/i,/(vodafone) ([\w ]+)(?:\)| bui)/i],[q,n,[p,v]],[/(surface duo)/i],[n,[q,I],[p,v]],[/droid [\d\.]+; (fp\du?)(?: b|\))/i],[n,[q,"Fairphone"],[p,u]],[/(u304aa)/i],[n,[q,"AT&T"],[p,u]],[/\bsie-(\w*)/i],[n,[q,"Siemens"],[p,u]],[/\b(rct\w+) b/i],[n,[q,"RCA"],[p,v]],[/\b(venue[\d ]{2,7}) b/i],[n,[q,"Dell"],[p,v]],[/\b(q(?:mv|ta)\w+) b/i],[n,[q,"Verizon"],[p,v]],[/\b(?:barnes[& ]+noble |bn[rt])([\w\+ ]*) b/i],[n,[q,"Barnes & Noble"],[p,v]],[/\b(tm\d{3}\w+) b/i],[n,[q,"NuVision"],[p,v]],[/\b(k88) b/i],[n,[q,"ZTE"],[p,v]],[/\b(nx\d{3}j) b/i],[n,[q,"ZTE"],[p,u]],[/\b(gen\d{3}) b.+49h/i],[n,[q,"Swiss"],[p,u]],[/\b(zur\d{3}) b/i],[n,[q,"Swiss"],[p,v]],[/\b((zeki)?tb.*\b) b/i],[n,[q,"Zeki"],[p,v]],[/\b([yr]\d{2}) b/i,/\b(dragon[- ]+touch |dt)(\w{5}) b/i],[[q,"Dragon Touch"],n,[p,v]],[/\b(ns-?\w{0,9}) b/i],[n,[q,"Insignia"],[p,v]],[/\b((nxa|next)-?\w{0,9}) b/i],[n,[q,"NextBook"],[p,v]],[/\b(xtreme\_)?(v(1[045]|2[015]|[3469]0|7[05])) b/i],[[q,"Voice"],n,[p,u]],[/\b(lvtel\-)?(v1[12]) b/i],[[q,"LvTel"],n,[p,u]],[/\b(ph-1) /i],[n,[q,"Essential"],[p,u]],[/\b(v(100md|700na|7011|917g).*\b) b/i],[n,[q,"Envizen"],[p,v]],[/\b(trio[-\w\. ]+) b/i],[n,[q,"MachSpeed"],[p,v]],[/\btu_(1491) b/i],[n,[q,"Rotor"],[p,v]],[/(shield[\w ]+) b/i],[n,[q,"Nvidia"],[p,v]],[/(sprint) (\w+)/i],[q,n,[p,u]],[/(kin\.[onetw]{3})/i],[[n,/\./g," "],[q,I],[p,u]],[/droid.+; (cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i],[n,[q,P],[p,v]],[/droid.+; (ec30|ps20|tc[2-8]\d[kx])\)/i],[n,[q,P],[p,u]],[/smart-tv.+(samsung)/i],[q,[p,w]],[/hbbtv.+maple;(\d+)/i],[[n,/^/,"SmartTV"],[q,L],[p,w]],[/(nux; netcast.+smarttv|lg (netcast\.tv-201\d|android tv))/i],[[q,"LG"],[p,w]],[/(apple) ?tv/i],[q,[n,A+" TV"],[p,w]],[/crkey/i],[[n,E+"cast"],[q,G],[p,w]],[/droid.+aft(\w)( bui|\))/i],[n,[q,z],[p,w]],[/\(dtv[\);].+(aquos)/i,/(aquos-tv[\w ]+)\)/i],[n,[q,M],[p,w]],[/(bravia[\w ]+)( bui|\))/i],[n,[q,N],[p,w]],[/(mitv-\w{5}) bui/i],[n,[q,O],[p,w]],[/Hbbtv.*(technisat) (.*);/i],[q,n,[p,w]],[/\b(roku)[\dx]*[\)\/]((?:dvp-)?[\d\.]*)/i,/hbbtv\/\d+\.\d+\.\d+ +\([\w\+ ]*; *([\w\d][^;]*);([^;]*)/i],[[q,X],[n,X],[p,w]],[/\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\b/i],[[p,w]],[/(ouya)/i,/(nintendo) ([wids3utch]+)/i],[q,n,[p,t]],[/droid.+; (shield) bui/i],[n,[q,"Nvidia"],[p,t]],[/(playstation [345portablevi]+)/i],[n,[q,N],[p,t]],[/\b(xbox(?: one)?(?!; xbox))[\); ]/i],[n,[q,I],[p,t]],[/((pebble))app/i],[q,n,[p,x]],[/(watch)(?: ?os[,\/]|\d,\d\/)[\d\.]+/i],[n,[q,A],[p,x]],[/droid.+; (glass) \d/i],[n,[q,G],[p,x]],[/droid.+; (wt63?0{2,3})\)/i],[n,[q,P],[p,x]],[/(quest( 2| pro)?)/i],[n,[q,Q],[p,x]],[/(tesla)(?: qtcarbrowser|\/[-\w\.]+)/i],[q,[p,y]],[/(aeobc)\b/i],[n,[q,z],[p,y]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+? mobile safari/i],[n,[p,u]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+?(?! mobile) safari/i],[n,[p,v]],[/\b((tablet|tab)[;\/]|focus\/\d(?!.+mobile))/i],[[p,v]],[/(phone|mobile(?:[;\/]| [ \w\/\.]*safari)|pda(?=.+windows ce))/i],[[p,u]],[/(android[-\w\. ]{0,9});.+buil/i],[n,[q,"Generic"]]],engine:[[/windows.+ edge\/([\w\.]+)/i],[r,[o,"EdgeHTML"]],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[r,[o,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna)\/([\w\.]+)/i,/ekioh(flow)\/([\w\.]+)/i,/(khtml|tasman|links)[\/ ]\(?([\w\.]+)/i,/(icab)[\/ ]([23]\.[\d\.]+)/i,/\b(libweb)/i],[o,r],[/rv\:([\w\.]{1,9})\b.+(gecko)/i],[r,o]],os:[[/microsoft (windows) (vista|xp)/i],[o,r],[/(windows) nt 6\.2; (arm)/i,/(windows (?:phone(?: os)?|mobile))[\/ ]?([\d\.\w ]*)/i,/(windows)[\/ ]?([ntce\d\. ]+\w)(?!.+xbox)/i],[o,[r,Z,$]],[/(win(?=3|9|n)|win 9x )([nt\d\.]+)/i],[[o,"Windows"],[r,Z,$]],[/ip[honead]{2,4}\b(?:.*os ([\w]+) like mac|; opera)/i,/ios;fbsv\/([\d\.]+)/i,/cfnetwork\/.+darwin/i],[[r,/_/g,"."],[o,"iOS"]],[/(mac os x) ?([\w\. ]*)/i,/(macintosh|mac_powerpc\b)(?!.+haiku)/i],[[o,S],[r,/_/g,"."]],[/droid ([\w\.]+)\b.+(android[- ]x86|harmonyos)/i],[r,o],[/(android|webos|qnx|bada|rim tablet os|maemo|meego|sailfish)[-\/ ]?([\w\.]*)/i,/(blackberry)\w*\/([\w\.]*)/i,/(tizen|kaios)[\/ ]([\w\.]+)/i,/\((series40);/i],[o,r],[/\(bb(10);/i],[r,[o,C]],[/(?:symbian ?os|symbos|s60(?=;)|series60)[-\/ ]?([\w\.]*)/i],[r,[o,"Symbian"]],[/mozilla\/[\d\.]+ \((?:mobile|tablet|tv|mobile; [\w ]+); rv:.+ gecko\/([\w\.]+)/i],[r,[o,F+" OS"]],[/web0s;.+rt(tv)/i,/\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i],[r,[o,"webOS"]],[/watch(?: ?os[,\/]|\d,\d\/)([\d\.]+)/i],[r,[o,"watchOS"]],[/crkey\/([\d\.]+)/i],[r,[o,E+"cast"]],[/(cros) [\w]+(?:\)| ([\w\.]+)\b)/i],[[o,R],r],[/panasonic;(viera)/i,/(netrange)mmh/i,/(nettv)\/(\d+\.[\w\.]+)/i,/(nintendo|playstation) ([wids345portablevuch]+)/i,/(xbox); +xbox ([^\);]+)/i,/\b(joli|palm)\b ?(?:os)?\/?([\w\.]*)/i,/(mint)[\/\(\) ]?(\w*)/i,/(mageia|vectorlinux)[; ]/i,/([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\/ ]?(?!chrom|package)([-\w\.]*)/i,/(hurd|linux) ?([\w\.]*)/i,/(gnu) ?([\w\.]*)/i,/\b([-frentopcghs]{0,5}bsd|dragonfly)[\/ ]?(?!amd|[ix346]{1,2}86)([\w\.]*)/i,/(haiku) (\w+)/i],[o,r],[/(sunos) ?([\w\.\d]*)/i],[[o,"Solaris"],r],[/((?:open)?solaris)[-\/ ]?([\w\.]*)/i,/(aix) ((\d)(?=\.|\)| )[\w\.])*/i,/\b(beos|os\/2|amigaos|morphos|openvms|fuchsia|hp-ux|serenityos)/i,/(unix) ?([\w\.]*)/i],[o,r]]},aa=function(a,b){if(typeof a===k&&(b=a,a=void 0),!(this instanceof aa))return new aa(a,b).getResult();var c=typeof g!==j&&g.navigator?g.navigator:void 0,d=a||(c&&c.userAgent?c.userAgent:""),e=c&&c.userAgentData?c.userAgentData:void 0,f=b?T(_,b):_,h=c&&c.userAgent==d;return this.getBrowser=function(){var a,b={};return b[o]=void 0,b[r]=void 0,Y.call(b,d,f.browser),b[m]=typeof(a=b[r])===l?a.replace(/[^\d\.]/g,"").split(".")[0]:void 0,h&&c&&c.brave&&typeof c.brave.isBrave==i&&(b[o]="Brave"),b},this.getCPU=function(){var a={};return a[s]=void 0,Y.call(a,d,f.cpu),a},this.getDevice=function(){var a={};return a[q]=void 0,a[n]=void 0,a[p]=void 0,Y.call(a,d,f.device),h&&!a[p]&&e&&e.mobile&&(a[p]=u),h&&"Macintosh"==a[n]&&c&&typeof c.standalone!==j&&c.maxTouchPoints&&c.maxTouchPoints>2&&(a[n]="iPad",a[p]=v),a},this.getEngine=function(){var a={};return a[o]=void 0,a[r]=void 0,Y.call(a,d,f.engine),a},this.getOS=function(){var a={};return a[o]=void 0,a[r]=void 0,Y.call(a,d,f.os),h&&!a[o]&&e&&"Unknown"!=e.platform&&(a[o]=e.platform.replace(/chrome os/i,R).replace(/macos/i,S)),a},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return d},this.setUA=function(a){return d=typeof a===l&&a.length>350?X(a,350):a,this},this.setUA(d),this};aa.VERSION="1.0.35",aa.BROWSER=U([o,r,m]),aa.CPU=U([s]),aa.DEVICE=U([n,q,p,t,u,w,v,x,y]),aa.ENGINE=aa.OS=U([o,r]),typeof f!==j?(e.exports&&(f=e.exports=aa),f.UAParser=aa):c.amdO?void 0===(d=(function(){return aa}).call(b,c,b,a))||(a.exports=d):typeof g!==j&&(g.UAParser=aa);var ab=typeof g!==j&&(g.jQuery||g.Zepto);if(ab&&!ab.ua){var ac=new aa;ab.ua=ac.getResult(),ab.ua.get=function(){return ac.getUA()},ab.ua.set=function(a){ac.setUA(a);var b=ac.getResult();for(var c in b)ab.ua[c]=b[c]}}}("object"==typeof window?window:this)}},f={};function g(a){var b=f[a];if(void 0!==b)return b.exports;var c=f[a]={exports:{}},d=!0;try{e[a].call(c.exports,c,c.exports,g),d=!1}finally{d&&delete f[a]}return c.exports}g.ab="//",a.exports=g(226)}},a=>{var b=a(a.s=748);(_ENTRIES="undefined"==typeof _ENTRIES?{}:_ENTRIES)["middleware_src/middleware"]=b}]);
//# sourceMappingURL=middleware.js.map